(function(m,f){typeof exports=="object"&&typeof module!="undefined"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(m=typeof globalThis!="undefined"?globalThis:m||self,f(m.typopo={}))})(this,function(m){"use strict";/*!
 * husky Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */const d={cs:{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","např","sv","tj","tzv"],multipleWordAbbreviations:["hl m","n l","p n l","př n l"]},"en-us":{quotes:{leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},numbers:{ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},singleWordAbbreviations:["p","pp","no","vol"],multipleWordAbbreviations:["U S","e g","i e","a m","p m"]},rue:{quotes:{leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["ціт","ст","канц","абз","тзв","Зб","ч","напр"],multipleWordAbbreviations:["т зн","Е Ч","евід ч","род ч","т ч","т д"]},sk:{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","napr","sv","tzv","čl","cit","roč","vyd"],multipleWordAbbreviations:["hl m","n l","p n l","pr n l","s a","s l","t j","zodp red","t č"]},"de-de":{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["S","z","St","Stk","Mo","Di","Mi","Do","Fr","Sa","So","Bhf","Hbf","Nr","ca","usw","geb","gest","u"],multipleWordAbbreviations:["b w","d h","d i","e V","n Chr","s a","s o","s u","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","z B","z T","z Zt","n u Z","u a m","v u Z","Ges m b H"]}};class A{constructor(e){this.locale=e,this.nonLatinLowercase="áäčďéěíĺľňóôöőŕřšťúüűůýŷžабвгґдезіийклмнопрстуфъыьцчжшїщёєюях",this.nonLatinUppercase="ÁÄČĎÉĚÍĹĽŇÓÔÖŐŔŘŠŤÚÜŰŮÝŶŽАБВГҐДЕЗІИЙКЛМНОПРСТУФЪЫЬЦЧЖШЇЩЁЄЮЯХ",this.nonLatinChars=this.nonLatinLowercase+this.nonLatinUppercase,this.lowercaseChars="a-z"+this.nonLatinLowercase,this.uppercaseChars="A-Z"+this.nonLatinUppercase,this.allChars=this.lowercaseChars+this.uppercaseChars,this.singleQuoteAdepts="‚|'|‘|’|ʼ|‛|´|`|′|‹|›",this.leftSingleQuote=d[e].quotes.leftSingleQuote,this.rightSingleQuote=d[e].quotes.rightSingleQuote,this.apostrophe="’",this.singlePrime="′",this.backtick="`",this.doubleQuoteAdepts="„|“|”|\"|«|»|″|,{2,}|‘{2,}|’{2,}|'{2,}|‹{2,}|›{2,}|′{2,}|´{2,}|`{2,}",this.leftDoubleQuote=d[e].quotes.leftDoubleQuote,this.rightDoubleQuote=d[e].quotes.rightDoubleQuote,this.doublePrime="″",this.space=" ",this.nbsp=" ",this.hairSpace=" ",this.narrowNbsp=" ",this.spaces=this.space+this.nbsp+this.hairSpace+this.narrowNbsp,this.terminalPunctuation="\\.\\!\\?",this.terminalQuotes=this.rightSingleQuote+this.rightDoubleQuote,this.sentencePausePunctuation="\\,\\:\\;",this.sentencePunctuation=this.sentencePausePunctuation+this.terminalPunctuation,this.openingBrackets="\\(\\[\\{",this.closingBrackets="\\)\\]\\}",this.ellipsis="…",this.hyphen="-",this.enDash="–",this.emDash="—",this.slash="/",this.degree="°",this.multiplicationSign="×",this.ampersand="&",this.sectionSign="§",this.copyright="©",this.soundRecordingCopyright="℗",this.registeredTrademark="®",this.serviceMark="℠",this.trademark="™",this.plus="+",this.minus="−",this.plusMinus="±",this.percent="%",this.permille="‰",this.permyriad="‱",this.numberSign="#",this.urlPattern="((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|agency|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|cloud|com|company|coop|c[acdfghiklmnoruvxyz])|(?:dev|d[ejkmoz])|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|guide|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om|one)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|(?:shop|store|s[abcdeghijklmnortuvyz])|(?:tel|travel|team|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|(?:work|w[fs])|(?:xyz)|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)",this.emailPattern="[a-zA-Z0-9\\+\\.\\_\\%\\-]{1,256}\\@[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}(\\.[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25})+",this.filenamePattern="\\b[a-zA-Z0-9_%\\-]+\\.(ai|asm|bat|bmp|c|cpp|cs|css|csv|dart|doc|docx|exe|gif|go|html|ics|java|jpeg|jpg|js|json|key|kt|less|lua|log|md|mp4|odp|ods|odt|pdf|php|pl|png|ppt|pptx|psd|py|r|rar|rb|rs|scala|scss|sh|svg|sql|swift|tar.gz|tar|tex|tiff|ts|txt|vbs|xml|xls|xlsx|yaml|yml|zip)\\b",this.cardinalNumber="\\d",this.ordinalIndicator=d[e].numbers.ordinalIndicator,this.romanNumerals="IVXLCDM",this.romanOrdinalIndicator=d[e].numbers.romanOrdinalIndicator,this.singleWordAbbreviations=[];for(e in d)this.singleWordAbbreviations=this.singleWordAbbreviations.concat(d[e].singleWordAbbreviations);this.multipleWordAbbreviations=[];for(e in d)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat(d[e].multipleWordAbbreviations)}}function C(t){return t.replace(/[\n\r]{2,}/gm,"\n")}function c(t,e,n){let p=0,s=t,i="";for(;s!==i&&p<50;)i=s,s=s.replace(e,n),p++;return s}function Q(t,e){let n="([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,})([").concat(e.nbsp).concat(e.narrowNbsp,"])([").concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,})"),r=new RegExp(n,"g");return c(t,r,"$1 $3")}function g(t,e){let n="(^|[".concat(e.space,"]|[^").concat(e.allChars).concat(e.cardinalNumber).concat(e.apostrophe).concat(e.plus).concat(e.minus).concat(e.hyphen,"])")+"([".concat(e.lowercaseChars,"])")+"([".concat(e.space,"])"),r=new RegExp(n,"g"),p="$1$2".concat(e.nbsp);return t=c(t,r,p),n="(^|[".concat(e.sentencePunctuation)+"".concat(e.ellipsis)+"".concat(e.copyright)+"".concat(e.registeredTrademark)+"".concat(e.soundRecordingCopyright,"]")+")"+"([".concat(e.spaces,"]?)")+"([".concat(e.uppercaseChars,"])")+"([".concat(e.spaces,"])"),r=new RegExp(n,"g"),p="$1$2$3".concat(e.nbsp),t=t.replace(r,p),e.locale=="en-us"&&(t=t.replace(new RegExp("(^|[".concat(e.spaces,"])")+"(I)"+"([".concat(e.spaces,"])"),"g"),"$1$2".concat(e.nbsp))),t}function P(t,e){let n="([".concat(e.spaces,"])(").concat(e.ampersand,")([").concat(e.spaces,"])"),r=new RegExp(n,"g"),p=" $2".concat(e.nbsp);return t.replace(r,p)}function k(t,e){return t.replace(new RegExp("([^".concat(e.nbsp).concat(e.cardinalNumber,"]|^)")+"(".concat(e.cardinalNumber,"{1,2})")+"([".concat(e.spaces,"])")+"([".concat(e.allChars,"])"),"g"),"$1$2"+"".concat(e.nbsp)+"$4")}function D(t,e){return t.replace(new RegExp("([^"+e.nbsp+e.cardinalNumber+"_%\\-]|^)("+e.cardinalNumber+"{1,2})("+e.ordinalIndicator+")(["+e.spaces+"]?)(["+e.allChars+"])","g"),"$1$2$3"+e.nbsp+"$5")}function v(t,e){let n="("+e.cardinalNumber+")("+e.ordinalIndicator+")(["+e.spaces+"]?)("+e.cardinalNumber+")("+e.ordinalIndicator+")(["+e.spaces+"]?)("+e.cardinalNumber+")",r=new RegExp(n,"g"),p="";switch(e.locale){case"en-us":case"rue":case"sk":case"cs":p="$1$2"+e.nbsp+"$4$5"+e.nbsp+"$7";break;case"de-de":p="$1$2"+e.nbsp+"$4$5"+e.space+"$7";break}return t.replace(r,p)}function N(t,e){if(e.romanOrdinalIndicator!=""){let n="(\\b)(["+e.romanNumerals+"]+)("+e.romanOrdinalIndicator+")(["+e.spaces+"]?)(["+e.allChars+e.cardinalNumber+"])",r=new RegExp(n,"g"),p="$1$2$3"+e.nbsp+"$5";return t.replace(r,p)}return t}function W(t,e){let n="(\\b["+e.uppercaseChars+"]["+e.lowercaseChars+"]+?)(["+e.spaces+"])(["+e.romanNumerals+"]+\\b)("+e.romanOrdinalIndicator+")(["+e.nbsp+"]?)",r=new RegExp(n,"g");return t.replace(r,function(p,s,i,u,$,a){return a==""&&u=="I"?s+e.space+u+$:a==""&&u!="I"?s+e.nbsp+u+$:a==e.nbsp&&u=="I"?s+e.space+u+$+a:s+e.nbsp+u+$+e.space})}function B(t,e){let n="(["+e.spaces+"])(["+e.percent+e.permille+e.permyriad+"])",r=new RegExp(n,"g"),p=e.nbsp+"$2";return t.replace(r,p)}function l(t,e){let n=e.uppercaseChars;e.locale=="en-us"&&(n=n.replace(/A-Z/g,"A-HJ-Z"));let r="([^"+e.sentencePunctuation+e.ellipsis+e.closingBrackets+e.rightDoubleQuote+e.rightSingleQuote+e.apostrophe+e.multiplicationSign+e.emDash+e.enDash+"])(["+e.spaces+"])(["+n+"])((["+e.spaces+"])|(\\.$|$))",p=new RegExp(r,"g");return t.replace(p,function(s,i,u,$,a,o){return e.locale=="en-us"?i+e.nbsp+$+a:$=="I"&&(o==e.nbsp||o==e.hairSpace||o==e.narrowNbsp)?i+e.nbsp+$+e.space:i+e.nbsp+$+a})}function q(t,e,n){let r="("+e+")([^"+n.spaces+"])",p=new RegExp(r,"g"),s="$1"+n.nbsp+"$2";return t.replace(p,s)}function I(t,e,n){let r="("+e+")(["+n.spaces+"])",p=new RegExp(r,"g"),s="$1"+n.nbsp;return t.replace(p,s)}function z(t,e){return t=Q(t,e),t=g(t,e),t=P(t,e),t=k(t,e),t=D(t,e),t=v(t,e),t=N(t,e),t=l(t,e),t=W(t,e),t=B(t,e),t}function L(t,e){let n="(\\S)"+"([".concat(e.spaces,"]{2,})")+"(\\S)",r=new RegExp(n,"g");return t.replace(r,"$1 $3")}function M(t,e,n){let r=t.split(/\r?\n/),p="(^\\s+)([-\\*\\+]*)",s=new RegExp(p,"g");for(let i=0;i<r.length;i++)r[i]=r[i].replace(s,function(u,$,a){return n.removeWhitespacesBeforeMarkdownList==!1&&a!=""?$+a:a});return r.join("\n")}function T(t){let e=t.split(/\r?\n/),n="(\\s+$)",r=new RegExp(n,"g");for(let p=0;p<e.length;p++)e[p]=e[p].replace(r,"");return e.join("\n")}function j(t,e){let n="([".concat(e.spaces,"])([").concat(e.sentencePausePunctuation,"])([^\\-\\)]|$)"),r=new RegExp(n,"g");return t.replace(r,"$2$3")}function O(t,e){let n="([".concat(e.spaces,"])")+"([".concat(e.terminalPunctuation).concat(e.closingBrackets).concat(e.degree,"])"),r=new RegExp(n,"g");return t.replace(r,"$2")}function Z(t,e){let n="(".concat(e.cardinalNumber,")")+"([".concat(e.spaces,"]?)")+"(".concat(e.ordinalIndicator,")")+"([".concat(e.spaces,"]|\\b)"),r=new RegExp(n,"g");return t.replace(r,"$1$3$4")}function H(t,e){let n="([".concat(e.openingBrackets,"])")+"([".concat(e.spaces,"])"),r=new RegExp(n,"g");return t.replace(r,"$1")}function F(t,e){let n="([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])")+"([".concat(e.openingBrackets,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars).concat(e.ellipsis,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars).concat(e.ellipsis).concat(e.closingBrackets,"])"),r=new RegExp(n,"g");return t.replace(r,function(p,s,i,u,$){return u=="s"|u=="S"|u+$=="es"|u+$=="ES"?"".concat(s).concat(i).concat(u).concat($):"".concat(s).concat(e.space).concat(i).concat(u).concat($)})}function U(t,e){var n="([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,}|[").concat(e.ellipsis,"])")+"([".concat(e.terminalPunctuation,"])")+"([".concat(e.uppercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1$2 $3")}function X(t,e){var n="([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,}|[").concat(e.ellipsis,"])")+"([".concat(e.sentencePausePunctuation,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1$2 $3")}function G(t,e){var n="([".concat(e.closingBrackets,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1 $2")}function V(t,e,n){let r="([^".concat(n.spaces).concat(n.openingBrackets,"])(").concat(e,")"),p=new RegExp(r,"g"),s="$1".concat(n.space,"$2");return t.replace(p,s)}function Y(t,e,n){return t=L(t,e),t=M(t,e,n),t=T(t),t=j(t,e),t=O(t,e),t=Z(t,e),t=H(t,e),t=F(t,e),t=U(t,e),t=G(t,e),t=X(t,e),t}function J(t){return t.replace(new RegExp("\\.{2}(?![\\\\/])","g"),".")}function K(t){return J(t)}function ee(t,e){let n="[".concat(e.ellipsis,"\\.]{3,}"),r=new RegExp(n,"g"),p=e.ellipsis;return t.replace(r,p)}function te(t,e){let n="\\.".concat(e.ellipsis,"|")+"".concat(e.ellipsis,"{2,}|")+"".concat(e.ellipsis,"\\."),r=new RegExp(n,"g"),p=e.ellipsis;return t.replace(r,p)}function ne(t,e){let n="[".concat(e.spaces,"]\\.{2}[").concat(e.spaces,"]"),r=new RegExp(n,"g"),p="".concat(e.space).concat(e.ellipsis).concat(e.space);return t.replace(r,p)}function re(t,e){let n="(,)"+"([".concat(e.spaces,"]?)")+"(".concat(e.ellipsis,")")+"([".concat(e.spaces,"]?)")+"(,)",r=new RegExp(n,"g");return t.replace(r,"$1 ".concat(e.ellipsis,"$5"))}function pe(t,e){let n="(,)"+"([".concat(e.spaces,"]?)")+"(".concat(e.ellipsis,")")+"([".concat(e.spaces,"]?)")+"(\\B|[".concat(e.closingBrackets,"])")+"([^,]|$)",r=new RegExp(n,"g");return t.replace(r,"$1$3$5$6")}function se(t,e){let n="(^".concat(e.ellipsis,")")+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),r=new RegExp(n,"gm");return t.replace(r,"$1$3")}function ue(t,e){let n="([".concat(e.sentencePunctuation).concat(e.terminalQuotes,"])")+"([".concat(e.spaces,"]?)")+"([".concat(e.ellipsis,"])")+"([".concat(e.spaces,"]?)")+"([".concat(e.lowercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1 $3$5")}function ie(t,e){let n="([".concat(e.lowercaseChars,"])")+"([".concat(e.spaces,"])")+"([".concat(e.ellipsis,"])")+"([".concat(e.spaces,"]?)")+"([".concat(e.uppercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1$3 $5")}function $e(t,e){let n="([".concat(e.allChars,"])")+"([".concat(e.ellipsis,"])")+"([".concat(e.allChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1$2 $3")}function ae(t,e){let n="([".concat(e.sentencePunctuation).concat(e.terminalQuotes,"])")+"([".concat(e.spaces,"]?)")+"(".concat(e.ellipsis,")")+"([".concat(e.spaces,"]?)")+"([".concat(e.uppercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"$1 $3 $5")}function oe(t,e){let n="([".concat(e.lowercaseChars,"])")+"([".concat(e.spaces,"])+")+"([".concat(e.ellipsis,"][").concat(e.rightDoubleQuote).concat(e.rightSingleQuote,"]?$)"),r=new RegExp(n,"gm");return t.replace(r,"$1$3")}function de(t,e){return t=ee(t,e),t=re(t,e),t=pe(t,e),t=se(t,e),t=ue(t,e),t=ie(t,e),t=$e(t,e),t=ae(t,e),t=oe(t,e),t=te(t,e),t=ne(t,e),t}function he(t,e){let n="([".concat(e.allChars,"])")+"(-)"+"([".concat(e.spaces,"])")+"([".concat(e.allChars,"])"),r=new RegExp(n,"g");return t=t.replace(r,"$1-$4"),n="([".concat(e.allChars,"])")+"([".concat(e.spaces,"])")+"(-)"+"([".concat(e.allChars,"])"),r=new RegExp(n,"g"),t=t.replace(r,"$1-$4"),t}function be(t,e){return t=he(t,e),t}function me(t){return t.replace(/(---)/g,"—")}function ce(t){return t.replace(/(--)/g,"–")}function fe(t,e){let n="([".concat(e.allChars,"])")+"("+"[".concat(e.spaces,"]*[").concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]*")+"|"+"[".concat(e.spaces,"]+[").concat(e.hyphen,"][").concat(e.spaces,"]+")+")"+"([".concat(e.allChars,"])"),r=new RegExp(n,"g"),p="";switch(e.locale){case"en-us":p="$1".concat(e.emDash,"$3");break;case"rue":case"sk":p="$1".concat(e.hairSpace).concat(e.emDash).concat(e.hairSpace,"$3");break;case"cs":p="$1".concat(e.nbsp).concat(e.enDash).concat(e.space,"$3");break;case"de-de":p="$1".concat(e.hairSpace).concat(e.enDash).concat(e.hairSpace,"$3");break}return t.replace(r,p)}function we(t,e){let n="([".concat(e.allChars,"])")+"([".concat(e.spaces,"]?)")+"(".concat(e.hyphen,")")+"([".concat(e.spaces,"]?)")+"([".concat(e.sentencePunctuation,"\\n\\r])"),r=new RegExp(n,"g"),p="";switch(e.locale){case"en-us":p="$1".concat(e.emDash,"$5");break;case"rue":case"sk":p="$1".concat(e.hairSpace).concat(e.emDash,"$5");break;case"cs":p="$1".concat(e.nbsp).concat(e.enDash,"$5");break;case"de-de":p="$1".concat(e.hairSpace).concat(e.enDash,"$5");break}return t.replace(r,p)}function xe(t,e){let n="(".concat(e.cardinalNumber,")")+"([".concat(e.spaces,"]?")+"[".concat(e.hyphen).concat(e.enDash).concat(e.emDash,"]")+"[".concat(e.spaces,"]?)")+"(".concat(e.cardinalNumber,")"),r=new RegExp(n,"g"),p="$1{{typopo__endash}}$3";return t=c(t,r,p),n="{{typopo__endash}}",r=new RegExp(n,"g"),p=e.enDash,t.replace(r,p)}function ge(t,e){let n="([".concat(e.percent).concat(e.permille).concat(e.permyriad,"])")+"([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)")+"(".concat(e.cardinalNumber,")"),r=new RegExp(n,"g"),p="$1".concat(e.enDash,"$3");return t.replace(r,p)}function Ee(t,e){let n="(".concat(e.cardinalNumber,")")+"(".concat(e.ordinalIndicator,")")+"([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)")+"(".concat(e.cardinalNumber,")")+"(".concat(e.ordinalIndicator,")"),r=new RegExp(n,"gi"),p="$1$2".concat(e.enDash,"$4$5");return t.replace(r,p)}function _e(t,e){return t=me(t),t=ce(t),t=fe(t,e),t=we(t,e),t=xe(t,e),t=ge(t,e),t=Ee(t,e),t}function E(t,e){return e.keepMarkdownCodeBlocks&&(t=t.replace(new RegExp("(\\s*)(```)","g"),"$1{{typopo__markdown_tick}}{{typopo__markdown_tick}}{{typopo__markdown_tick}}"),t=t.replace(new RegExp("(``)(.+?)(``)","g"),"{{typopo__markdown_tick}}{{typopo__markdown_tick}}$2{{typopo__markdown_tick}}{{typopo__markdown_tick}}"),t=t.replace(new RegExp("(`)(.+?)(`)","g"),"{{typopo__markdown_tick}}$2{{typopo__markdown_tick}}")),t}function _(t,e){return e.keepMarkdownCodeBlocks&&(t=t.replace(new RegExp("{{typopo__markdown_tick}}","g"),"`")),t}function Se(t,e){let n="([^".concat(e.romanNumerals,"])")+"([".concat(e.sentencePunctuation,"])")+"([".concat(e.sentencePunctuation,"])")+"(".concat(e.doubleQuoteAdepts,")"),r=new RegExp(n,"g");return t.replace(r,"$1$2$4")}function ye(t,e){let n="([^".concat(e.romanNumerals,"])")+"([".concat(e.sentencePunctuation,"])")+"(".concat(e.doubleQuoteAdepts,")")+"([".concat(e.sentencePunctuation,"])"),r=new RegExp(n,"g");return t.replace(r,"$1$2$3")}function Re(t,e){return t=t.replace(new RegExp("([^0-9]|^)"+"(".concat(e.doubleQuoteAdepts,")")+"(.+?)(\\d+)"+"(".concat(e.doubleQuoteAdepts,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])"),"g"),"$1$2$3$4$6$5"),t=t.replace(new RegExp("(\\b\\d{1,3})"+"([".concat(e.spaces,"]?)")+"(“|”|\\\"|″|‘{2,}|’{2,}|'{2,}|′{2,})","g"),"$1$2{{typopo__double-prime}}"),t}function Ae(t,e){return t=t.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"(\\d+)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),t=t.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"(.*?)"+"(".concat(e.doubleQuoteAdepts,")"),"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),t}function Ce(t,e){let n="(".concat(e.doubleQuoteAdepts,")")+"([0-9".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),r=new RegExp(n,"g");return t.replace(r,"{{typopo__left-double-quote--standalone}}$2")}function Qe(t,e){let n="([".concat(e.lowercaseChars).concat(e.uppercaseChars).concat(e.sentencePunctuation).concat(e.ellipsis,"])")+"(".concat(e.doubleQuoteAdepts,")"),r=new RegExp(n,"g");return t.replace(r,"$1{{typopo__right-double-quote--standalone}}")}function Pe(t,e){let n="([".concat(e.spaces,"])")+"(".concat(e.doubleQuoteAdepts,")")+"([".concat(e.spaces,"])"),r=new RegExp(n,"g");return t.replace(r,"$1")}function ke(t){return t=t.replace(new RegExp("({{typopo__left-double-quote--standalone}})(.*?)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),t=t.replace(new RegExp("({{typopo__double-prime}})(.*?)({{typopo__right-double-quote--standalone}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),t}function De(t,e){return t=t.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftDoubleQuote,")")+"([^".concat(e.rightDoubleQuote,"]+?)")+"([^".concat(e.romanNumerals).concat(e.closingBrackets,"])")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(".concat(e.rightDoubleQuote,")"),"g"),"$1$2$3$4$5$7$6"),t=t.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftDoubleQuote,")")+"(.+?)"+"([^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars,"])"),"g"),"$1$2$3$4$5$7$6$8$9"),t=t.replace(new RegExp("(^".concat(e.leftDoubleQuote)+"[^".concat(e.rightDoubleQuote,"]+?")+"[^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","gm"),"$1$3$2$4"),t=t.replace(new RegExp("([".concat(e.sentencePunctuation,"]")+"[".concat(e.spaces,"]")+"".concat(e.leftDoubleQuote)+"[^".concat(e.rightDoubleQuote,"]+?")+"[^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","g"),"$1$3$2$4"),t=t.replace(new RegExp("([".concat(e.sentencePunctuation,"]")+"[".concat(e.rightDoubleQuote,"]")+"[".concat(e.spaces,"]")+"".concat(e.leftDoubleQuote)+"[^".concat(e.rightDoubleQuote,"]+?")+"[^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","g"),"$1$3$2$4"),t}function ve(t,e){return t=t.replace(/{{typopo__double-prime}}/g,e.doublePrime),t=t.replace(/({{typopo__left-double-quote}}|{{typopo__left-double-quote--standalone}})/g,e.leftDoubleQuote),t=t.replace(/({{typopo__right-double-quote}}|{{typopo__right-double-quote--standalone}})/g,e.rightDoubleQuote),t}function Ne(t,e){let n="([".concat(e.sentencePunctuation,"])")+"([,])"+"(".concat(e.rightDoubleQuote,")"),r=new RegExp(n,"g");return t.replace(r,"$1$3")}function We(t,e){return t=t.replace(new RegExp("(".concat(e.leftDoubleQuote,")")+"([".concat(e.spaces,"])"),"g"),"$1"),t=t.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.rightDoubleQuote,")"),"g"),"$2"),t=t.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.doublePrime,")"),"g"),"$2"),t}function Be(t,e){return t=t.replace(new RegExp("([".concat(e.sentencePunctuation).concat(e.allChars,"])")+"([".concat(e.leftDoubleQuote,"])"),"g"),"$1 $2"),t=g(t,e),t}function le(t,e){return t.replace(new RegExp("([".concat(e.rightDoubleQuote,"])")+"([".concat(e.allChars,"])"),"g"),"$1 $2")}function qe(t,e,n){return t=E(t,n),t=Se(t,e),t=ye(t,e),t=Re(t,e),t=Ae(t,e),t=Ce(t,e),t=Qe(t,e),t=Pe(t,e),t=ke(t),t=ve(t,e),t=_(t,n),t=We(t,e),t=Be(t,e),t=le(t,e),t=De(t,e),t=Ne(t,e),t}function Ie(t,e){return[["dead","buried"],["drill","bass"],["drum","bass"],["rock","roll"],["pick","mix"],["fish","chips"],["salt","shake"],["mac","cheese"],["pork","beans"],["drag","drop"],["rake","scrape"],["hook","kill"]].forEach(r=>{t=t.replace(new RegExp("(".concat(r[0],")")+"([".concat(e.spaces,"]?)")+"(".concat(e.singleQuoteAdepts,")")+"(n)"+"(".concat(e.singleQuoteAdepts,")")+"([".concat(e.spaces,"]?)")+"(".concat(r[1],")"),"gi"),"$1".concat(e.nbsp,"{{typopo__apostrophe}}$4{{typopo__apostrophe}}").concat(e.nbsp,"$7"))}),t}function ze(t,e){let n="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould";return t.replace(new RegExp("(".concat(e.singleQuoteAdepts,")")+"(".concat(n,")"),"gi"),"{{typopo__apostrophe}}$2")}function Le(t,e){return t.replace(new RegExp("(\\Bin)"+"(".concat(e.singleQuoteAdepts,")"),"gi"),"$1{{typopo__apostrophe}}")}function Me(t,e){return t.replace(new RegExp("([".concat(e.cardinalNumber).concat(e.allChars,"])")+"(".concat(e.singleQuoteAdepts,")+")+"([".concat(e.allChars,"])"),"g"),"$1{{typopo__apostrophe}}$3")}function Te(t,e){return t.replace(new RegExp("([^0-9]|[A-Z][0-9])"+"([".concat(e.spaces,"])")+"(".concat(e.singleQuoteAdepts,")")+"([".concat(e.cardinalNumber,"]{2})"),"g"),"$1$2{{typopo__apostrophe}}$4")}function je(t){return t.replace(/(\d)( ?)('|‘|’|‛|′)/g,"$1$2{{typopo__single-prime}}")}function Oe(t,e){return t.replace(new RegExp("([".concat(e.spaces).concat(e.emDash).concat(e.enDash,"])")+"(".concat(e.singleQuoteAdepts,"|,)")+"([".concat(e.allChars,"])"),"g"),"$1{{typopo__left-single-quote--standalone}}$3")}function Ze(t,e){return t.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"(.*?)"+"(".concat(e.doubleQuoteAdepts,")"),"g"),function(n,r,p,s){return p=Oe(p,e),p=He(p,e),p=Fe(p),r+p+s})}function He(t,e){return t.replace(new RegExp("([".concat(e.allChars,"])")+"([".concat(e.sentencePunctuation,"])?")+"(".concat(e.singleQuoteAdepts,")")+"([ ".concat(e.sentencePunctuation,"])?"),"g"),"$1$2{{typopo__right-single-quote--standalone}}$4")}function Fe(t){return t.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}")}function Ue(t,e){return t.replace(new RegExp("(\\B)"+"(".concat(e.singleQuoteAdepts,")")+"([".concat(e.allChars,"]+)")+"(".concat(e.singleQuoteAdepts,")")+"(\\B)","g"),"$1{{typopo__left-single-quote}}$3{{typopo__right-single-quote}}$5")}function Xe(t,e){return t.replace(new RegExp("(".concat(e.singleQuoteAdepts,")"),"g"),"{{typopo__apostrophe}}")}function Ge(t){return t=t.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*?)({{typopo__single-prime}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),t=t.replace(new RegExp("({{typopo__single-prime}})(.*?)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),t}function Ve(t,e){return t=t.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftSingleQuote,")")+"([^".concat(e.rightSingleQuote,"]+?)")+"([^".concat(e.romanNumerals,"])")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(".concat(e.rightSingleQuote,")"),"g"),"$1$2$3$4$5$7$6"),t=t.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftSingleQuote,")")+"(.+?)"+"([^".concat(e.romanNumerals,"])")+"(".concat(e.rightSingleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars,"])"),"g"),"$1$2$3$4$5$7$6$8$9"),t=t.replace(new RegExp("([".concat(e.sentencePunctuation,"][").concat(e.spaces,"]|^)")+"(".concat(e.leftSingleQuote,")")+"([^".concat(e.rightSingleQuote,"]+?)")+"([^".concat(e.romanNumerals,"])")+"(".concat(e.rightSingleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","g"),"$1$2$3$4$6$5$7"),t}function Ye(t,e){return t.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.singlePrime,")"),"g"),"$2")}function Je(t,e){return t=t.replace(/({{typopo__single-prime}})/g,e.singlePrime),t=t.replace(/{{typopo__apostrophe}}|{{typopo__left-single-quote--standalone}}|{{typopo__right-single-quote--standalone}}/g,e.apostrophe),t=t.replace(/{{typopo__left-single-quote}}/g,e.leftSingleQuote),t=t.replace(/{{typopo__right-single-quote}}/g,e.rightSingleQuote),t=t.replace(/{{typopo__markdown_syntax_highlight}}/g,"```"),t}function Ke(t,e,n){return t=E(t,n),t=Ie(t,e),t=ze(t,e),t=Me(t,e),t=Te(t,e),t=Le(t,e),t=je(t),t=Ue(t,e),t=Ze(t,e),t=Ge(t),t=Xe(t,e),t=Je(t,e),t=_(t,n),t=Ve(t,e),t=Ye(t,e),t}function et(t,e){let n="([".concat(e.cardinalNumber,"]+)")+"([".concat(e.spaces,"]?[").concat(e.lowercaseChars).concat(e.singlePrime).concat(e.doublePrime,"]*)")+"([".concat(e.spaces,"][x][").concat(e.spaces,"])")+"([".concat(e.cardinalNumber,"]+)")+"([".concat(e.spaces,"]?[").concat(e.lowercaseChars).concat(e.singlePrime).concat(e.doublePrime,"]*)"),r=new RegExp(n,"gi"),p="$1$2".concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp,"$4$5");return c(t,r,p)}function tt(t,e){let n="([".concat(e.allChars,"]+)")+"([".concat(e.spaces,"][x][").concat(e.spaces,"])")+"([".concat(e.allChars,"]+)"),r=new RegExp(n,"g"),p="$1".concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp,"$3");return c(t,r,p)}function nt(t,e){let n="([".concat(e.cardinalNumber,"])")+"([".concat(e.spaces,"]?)")+"([x|×])"+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars,"]+)"),r=new RegExp(n,"gi");return t=t.replace(r,function(p,s,i,u,$,a){return i==""?"".concat(s).concat(i).concat(e.multiplicationSign).concat(e.nbsp).concat(a):"".concat(s).concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp).concat(a)}),t}function rt(t,e){let n="([".concat(e.cardinalNumber,"]+)")+"([".concat(e.singlePrime).concat(e.doublePrime,"])?")+"([x|×])"+"([".concat(e.cardinalNumber,"]+)")+"([".concat(e.singlePrime).concat(e.doublePrime,"])?"),r=new RegExp(n,"gi"),p="$1$2".concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp,"$4$5");return t.replace(r,p)}function pt(t,e){return t=et(t,e),t=tt(t,e),t=nt(t,e),t=rt(t,e),t}function st(t,e){let n="([^".concat(e.spaces).concat(e.sectionSign).concat(e.openingBrackets,"])")+"(".concat(e.sectionSign,")"),r=new RegExp(n,"g"),p="$1".concat(e.space,"$2");return t.replace(r,p)}function ut(t,e){let n="(".concat(e.sectionSign,")")+"([^".concat(e.spaces).concat(e.sectionSign,"])"),r=new RegExp(n,"g"),p="$1".concat(e.nbsp,"$2");return t.replace(r,p)}function it(t,e){let n="(".concat(e.sectionSign,")")+"([".concat(e.spaces,"])"),r=new RegExp(n,"g"),p="$1".concat(e.nbsp);return t.replace(r,p)}function $t(t,e){return t=st(t,e),t=ut(t,e),t=it(t,e),t}function S(t,e,n,r){return t.replace(new RegExp("(\\(".concat(e,"\\))")+"([".concat(r.spaces,"]*)")+"(".concat(r.cardinalNumber,")"),"gi"),"".concat(n,"$2$3"))}function y(t,e,n){return t=V(t,e,n),t=q(t,e,n),t=I(t,e,n),t}function at(t,e){return t=S(t,"c",e.copyright,e),t=y(t,e.copyright,e),t=S(t,"p",e.soundRecordingCopyright,e),t=y(t,e.soundRecordingCopyright,e),t}function ot(t,e){return t.replace(new RegExp("(\\+\\-)|(\\-\\+)","g"),e.plusMinus)}function w(t,e,n,r){return t.replace(new RegExp("([^0-9]|^)"+"([".concat(r.spaces,"]*)")+"(\\(".concat(e,"\\)|").concat(n,")"),"gi"),"$1".concat(n))}function dt(t,e){return t=w(t,"r",e.registeredTrademark,e),t=w(t,"sm",e.serviceMark,e),t=w(t,"tm",e.trademark,e),t}function R(t,e,n,r){let s="([".concat(e.spaces).concat(e.slash,"])(").concat("m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym",")(").concat(n,")"),i=new RegExp(s,"g"),u="$1$2".concat(r);return t.replace(i,u)}function ht(t,e){return R(t,e,"2","²")}function bt(t,e){return R(t,e,"3","³")}function mt(t,e){return t=ht(t,e),t=bt(t,e),t}function ct(t,e){return t.replace(new RegExp("([".concat(e.spaces,"]+)")+"(".concat(e.numberSign,")")+"([".concat(e.spaces,"]+)")+"(".concat(e.cardinalNumber,")"),"g"),"$1$2$4")}function ft(t,e){return t=ct(t,e),t}function wt(t,e){let n="([".concat(e.uppercaseChars,"][").concat(e.allChars,"]?\\.)([").concat(e.spaces,"]?)"),r="([".concat(e.allChars,"]{2,}[^\\.])"),p="";switch(e.locale){case"en-us":p="";break;case"rue":case"sk":case"cs":case"de-de":p=e.nbsp;break}let s=n+r,i=new RegExp(s,"g"),u="$1".concat(e.nbsp,"$3");return t=t.replace(i,u),s=n+n+r,i=new RegExp(s,"g"),u="$1".concat(p,"$3").concat(e.space,"$5"),t=t.replace(i,u),s=n+n+n+r,i=new RegExp(s,"g"),u="$1".concat(p,"$3").concat(p,"$5").concat(e.space,"$7"),t=t.replace(i,u),t}function xt(t,e){let n="([^"+e.allChars+e.enDash+e.emDash+"]|^)",r="(["+e.allChars+"]|\\D)",p="([^"+e.allChars+e.leftDoubleQuote+e.leftSingleQuote+e.backtick+"\\p{Emoji}]|$)",s="";switch(e.locale){case"en-us":s="";break;case"rue":case"sk":case"cs":case"de-de":s=e.nbsp;break}let i=[];for(let u=0;u<e.multipleWordAbbreviations.length;u++){let $=e.multipleWordAbbreviations[u].split(" "),a="";for(let o=0;o<$.length;o++)a+="("+$[o]+")(\\.)(["+e.spaces+"]?)";i[u]=a}for(let u=0;u<i.length;u++){let $=n+i[u]+r,a=new RegExp($,"gi"),o="$1",h=(i[u].match(/\(/g)||[]).length/3;for(let b=0;b<h-1;b++)o+="$"+(b*3+2)+"."+s;o+="$"+((h-1)*3+2)+". $"+(h*3+2),t=t.replace(a,o)}for(let u=0;u<i.length;u++){let $=n+i[u]+p,a=new RegExp($,"giu"),o="$1",h=(i[u].match(/\(/g)||[]).length/3;for(let b=0;b<h-1;b++)o+="$"+(b*3+2)+"."+s;o+="$"+((h-1)*3+2)+".$"+(h*3+2),t=t.replace(a,o)}return t}function gt(t,e){let n=[];for(let u=0;u<e.singleWordAbbreviations.length;u++)n[u]="("+e.singleWordAbbreviations[u]+")(\\.)(["+e.spaces+"]?)";let r="([^"+e.allChars+e.enDash+e.emDash+e.nbsp+"\\.]|^)",p="(["+e.allChars+"\\d]+)([^\\.]|$)";for(let u=0;u<n.length;u++){let $=r+n[u]+p,a=new RegExp($,"gi"),o="$1$2$3"+e.nbsp+"$5$6";t=t.replace(a,o)}let s="(["+e.allChars+"\\d])(["+e.spaces+"])",i="([^"+e.spaces+e.allChars+"\\d]|$)";for(let u=0;u<n.length;u++){let $=s+n[u]+i,a=new RegExp($,"gi"),o="$1"+e.nbsp+"$3$4$5$6";t=t.replace(a,o)}return t}function Et(t,e){return t=wt(t,e),t=xt(t,e),t=gt(t,e),t}function _t(t,e){let n="([^".concat(e.allChars,"]|^)")+"([".concat(e.uppercaseChars,"]{2})")+"([".concat(e.lowercaseChars,"]{2,})"),r=new RegExp(n,"g");return t=t.replace(r,function(p,s,i,u){return"".concat(s).concat(i.substring(0,1)).concat(i.substring(1).toLowerCase()).concat(u)}),n="(\\b)(?!iOS)"+"([".concat(e.lowercaseChars,"])")+"([".concat(e.uppercaseChars,"]{2,})"),r=new RegExp(n,"g"),t=t.replace(r,function(p,s,i,u){return"".concat(s).concat(i.toUpperCase()).concat(u.toLowerCase())}),t}function St(t,e){let n="(issn)(:?)"+"([".concat(e.spaces,"]?)")+"(\\d{4})"+"([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)")+"(\\d{4})",r=new RegExp(n,"gi"),p="ISSN$2".concat(e.nbsp,"$4-$6");return t.replace(r,p)}function yt(t,e){let n="([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)"),r="(isbn)(:?)"+"([".concat(e.spaces,"]?)")+"(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(X|\\d+)",p=new RegExp(r,"gi"),s="ISBN$2".concat(e.nbsp,"$4-$6-$8-$10");return t.replace(p,s)}function Rt(t,e){let n="([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)"),r="(isbn)(:?)"+"([".concat(e.spaces,"]?)")+"(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(X|\\d+)",p=new RegExp(r,"gi"),s="ISBN$2".concat(e.nbsp,"$4-$6-$8-$10-$12");return t.replace(p,s)}function At(t,e){let n="([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)"),r="(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(X|\\d+?)",p=new RegExp(r,"g");return t.replace(p,"$1-$3-$5-$7-$9")}function Ct(t,e){return t=St(t,e),t=yt(t,e),t=Rt(t,e),t=At(t,e),t}function Qt(t,e){let n=[];return x(t,e.emailPattern,n),x(t,e.urlPattern,n),x(t,e.filenamePattern,n),{processedText:Pt(t,n),exceptions:n}}function x(t,e,n){const r=new RegExp(e,"gi"),p=t.match(r);return p&&p.forEach(s=>n.push(s)),n}function Pt(t,e){return e.reduce((n,r,p)=>{const s="{{typopo__exception-".concat(p,"}}");return n.replace(r,s)},t)}function kt(t,e){return e.reduce((n,r,p)=>{const s=new RegExp("{{typopo__exception-".concat(p,"}}"),"g");return n.replace(s,r)},t)}/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */function Dt(t,e,n){e=typeof e=="undefined"?"en-us":e;let r=new A(e);n=typeof n=="undefined"?{removeLines:!0,removeWhitespacesBeforeMarkdownList:!0,keepMarkdownCodeBlocks:!1}:n;const{processedText:p,exceptions:s}=Qt(t,r);return t=p,n.removeLines&&(t=C(t)),t=de(t,r),t=Y(t,r,n),t=K(t),t=_e(t,r),t=be(t,r),t=Ke(t,r,n),t=qe(t,r,n),t=pt(t,r),t=$t(t,r),t=at(t,r),t=ot(t,r),t=dt(t,r),t=mt(t,r),t=ft(t,r),t=_t(t,r),t=Et(t,r),t=Ct(t,r),t=z(t,r),t=kt(t,s),t}m.fixTypos=Dt,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});

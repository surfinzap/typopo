!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).typopo=e()}(function(){return function a(i,o,p){function l(r,e){if(!o[r]){if(!i[r]){var n="function"==typeof require&&require;if(!e&&n)return n(r,!0);if(c)return c(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var t=o[r]={exports:{}};i[r][0].call(t.exports,function(e){return l(i[r][1][e]||e)},t,t.exports,a,i,o,p)}return o[r].exports}for(var c="function"==typeof require&&require,e=0;e<p.length;e++)l(p[e]);return l}({1:[function(e,r,n){"use strict";function s(e,r){return e.replace(/(---)/g,"—")}function t(e,r){return e.replace(/(--)/g,"–")}function a(e,r){var n="["+r.spaces+"]["+r.hyphen+"]["+r.spaces+"]",s=new RegExp(n,"g"),t="";switch(r.locale){case"en-us":case"rue":case"sk":case"cs":t=r.space+r.emDash+r.space;break;case"de-de":t=r.space+r.enDash+r.space}return e.replace(s,t)}function i(e,r){var n="["+r.spaces+"]["+r.enDash+"|"+r.emDash+"]["+r.spaces+"]",s=new RegExp(n,"g"),t="";switch(r.locale){case"en-us":case"rue":case"sk":case"cs":t=r.space+r.emDash+r.space;break;case"de-de":t=r.space+r.enDash+r.space}return e.replace(s,t)}function o(e,r){var n="(["+r.spaces+"]?)(["+r.emDash+r.enDash+"])(["+r.spaces+"]?)(["+r.allChars+"])",s=new RegExp(n,"g"),t="";switch(r.locale){case"en-us":t=r.emDash+"$4";break;case"rue":case"sk":t=r.hairSpace+r.emDash+r.hairSpace+"$4";break;case"cs":t=r.nbsp+r.enDash+r.space+"$4";break;case"de-de":t=r.hairSpace+r.enDash+r.hairSpace+"$4"}return e.replace(s,t)}function p(e,r){var n="(["+r.allChars+"])(["+r.spaces+"]?)("+r.hyphen+")(["+r.spaces+"]?)(["+r.sentencePunctuation+"\\n\\r])",s=new RegExp(n,"g"),t="";switch(r.locale){case"en-us":t="$1"+r.emDash+"$5";break;case"rue":case"sk":t="$1"+r.hairSpace+r.emDash+"$5";break;case"cs":t="$1"+r.nbsp+r.enDash+"$5";break;case"de-de":t="$1"+r.hairSpace+r.enDash+"$5"}return e.replace(s,t)}function l(e,r){var n,s="("+r.cardinalNumber+")(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)("+r.cardinalNumber+")",t=new RegExp(s,"g");return e=(e=e.replace(t,"$1{{typopo__endash}}$3")).replace(t,"$1{{typopo__endash}}$3"),s="{{typopo__endash}}",t=new RegExp(s,"g"),n=r.enDash,e.replace(t,n)}function c(e,r){var n="(["+r.percent+r.permille+r.permyriad+"])(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)("+r.cardinalNumber+")",s=new RegExp(n,"g"),t="$1"+r.enDash+"$3";return e.replace(s,t)}function u(e,r){var n="("+r.cardinalNumber+")("+r.ordinalIndicator+")(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)("+r.cardinalNumber+")("+r.ordinalIndicator+")",s=new RegExp(n,"gi"),t="$1$2"+r.enDash+"$4$5";return e.replace(s,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceThreeHyphensWithEmDash=s,n.replaceTwoHyphensWithEnDash=t,n.replaceSpacedHyphenWithDash=a,n.consolidateSpacedDashes=i,n.fixDashSpacesBetweenWords=o,n.fixHyphenBetweenWordAndPunctuation=p,n.fixDashBetweenCardinalNumbers=l,n.fixDashBetweenPercentageRange=c,n.fixDashBetweenOrdinalNumbers=u,n.fixDash=function(e,r){return e=u(e=c(e=l(e=p(e=o(e=i(e=a(e=t(e=s(e)),r),r),r),r),r),r),r)}},{}],2:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixDoubleQuotesAndPrimes=function(e,r){var n="([^"+r.romanNumerals+"])(["+r.sentencePunctuation+"])("+r.doubleQuoteAdepts+")(["+r.sentencePunctuation+"])",s=new RegExp(n,"g");return e=e.replace(s,"$1$2$3"),n="("+r.doubleQuoteAdepts+")(["+r.terminalPunctuation+r.ellipsis+"])",s=new RegExp(n,"g"),e=e.replace(s,"$2$1"),n="(\\d["+r.spaces+"]?)(“|”|\"|″|‘{2,}|’{2,}|'{2,}|′{2,})",s=new RegExp(n,"g"),e=e.replace(s,"$1{{typopo__double-prime}}"),n="("+r.doubleQuoteAdepts+")(.*?)("+r.doubleQuoteAdepts+")",s=new RegExp(n,"g"),e=e.replace(s,"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n="("+r.doubleQuoteAdepts+")(["+r.lowercaseChars+r.uppercaseChars+"])",s=new RegExp(n,"g"),e=e.replace(s,"{{typopo__left-double-quote--unclosed}}$2"),n="(["+r.lowercaseChars+r.uppercaseChars+r.sentencePunctuation+r.ellipsis+"])("+r.doubleQuoteAdepts+")",s=new RegExp(n,"g"),e=e.replace(s,"$1{{typopo__right-double-quote--unclosed}}"),n="(["+r.spaces+"])("+r.doubleQuoteAdepts+")(["+r.spaces+"])",s=new RegExp(n,"g"),e=e.replace(s,"$1$3"),n="({{typopo__left-double-quote--unclosed}})(.*?)({{typopo__double-prime}})",s=new RegExp("({{typopo__left-double-quote--unclosed}})(.*?)({{typopo__double-prime}})","g"),e=(e=(e=(e=(e=e.replace(s,"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}")).replace(/({{typopo__left-double-quote}})( )/g,"$1")).replace(/( )({{typopo__right-double-quote}})/g,"$2")).replace(/( )({{typopo__double-prime}})/g,"$2")).replace(/({{typopo__right-double-quote}})/g,r.rightDoubleQuote),n="([^"+r.sentencePunctuation+"])(["+r.spaces+"])({{typopo__left-double-quote}})([^"+r.rightDoubleQuote+"]+?)([^"+r.romanNumerals+"])(["+r.terminalPunctuation+r.ellipsis+"])("+r.rightDoubleQuote+")",s=new RegExp(n,"g"),e=e.replace(s,"$1$2$3$4$5$7$6"),n="("+r.rightDoubleQuote+")",s=new RegExp(n,"g"),e=e.replace(s,"{{typopo__right-double-quote}}"),n="(?![.])(["+r.sentencePunctuation+"])([,])",s=new RegExp(n,"g"),e=e.replace(s,"$1"),n="(["+r.sentencePunctuation+r.allChars+"])({{typopo__left-double-quote}})",s=new RegExp(n,"g"),e=e.replace(s,"$1 $2"),n="({{typopo__right-double-quote}})(["+r.allChars+"])",s=new RegExp(n,"g"),e=(e=(e=(e=e.replace(s,"$1 $2")).replace(/({{typopo__double-prime}})/g,r.doublePrime)).replace(/({{typopo__left-double-quote}}|{{typopo__left-double-quote--unclosed}})/g,r.leftDoubleQuote)).replace(/({{typopo__right-double-quote}}|{{typopo__right-double-quote--unclosed}})/g,r.rightDoubleQuote)}},{}],3:[function(e,r,n){"use strict";function s(e,r){var n="["+r.ellipsis+"\\.]{3,}",s=new RegExp(n,"g"),t=r.ellipsis;return e.replace(s,t)}function t(e,r){var n="\\."+r.ellipsis+"|"+r.ellipsis+"{2,}|"+r.ellipsis+"\\.",s=new RegExp(n,"g"),t=r.ellipsis;return e.replace(s,t)}function a(e,r){var n="["+r.spaces+"]\\.{2}["+r.spaces+"]",s=new RegExp(n,"g"),t=r.space+r.ellipsis+r.space;return e.replace(s,t)}function i(e,r){var n=",["+r.spaces+"]?"+r.ellipsis+"["+r.spaces+"]?,",s=new RegExp(n,"g");return e.replace(s,", …,")}function o(e,r){var n="(^…)(["+r.spaces+"])(["+r.lowercaseChars+r.uppercaseChars+"])",s=new RegExp(n,"gm");return e.replace(s,"$1$3")}function p(e,r){var n="(["+r.sentencePunctuation+r.terminalQuotes+"])(["+r.spaces+"]?)(["+r.ellipsis+"])(["+r.spaces+"]?)(["+r.lowercaseChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1 $3$5")}function l(e,r){var n="(["+r.lowercaseChars+"])(["+r.spaces+"])(["+r.ellipsis+"])(["+r.spaces+"]?)(["+r.uppercaseChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1$3 $5")}function c(e,r){var n="(["+r.allChars+"])(["+r.ellipsis+"])(["+r.allChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1$2 $3")}function u(e,r){var n="(["+r.sentencePunctuation+r.terminalQuotes+"])(["+r.spaces+"]?)("+r.ellipsis+")(["+r.spaces+"]?)(["+r.uppercaseChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1 $3 $5")}function d(e,r){var n="(["+r.lowercaseChars+"])(["+r.spaces+"])(["+r.ellipsis+"]$)",s=new RegExp(n,"gm");return e.replace(s,"$1$3")}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceThreeCharsWithEllipsis=s,n.replaceTwoCharsWithEllipsis=t,n.replaceTwoPeriodsWithEllipsis=a,n.fixEllipsisSpacingAroundCommas=i,n.fixAposiopesisStartingParagraph=o,n.fixAposiopesisStartingSentence=p,n.fixAposiopesisBetweenSentences=l,n.fixAposiopesisBetweenWords=c,n.fixEllipsisBetweenSentences=u,n.fixAposiopesisEndingParagraph=d,n.fixEllipsis=function(e,r){return e=a(e=t(e=d(e=u(e=c(e=l(e=p(e=o(e=i(e=s(e,r),r),r),r),r),r),r),r),r),r)}},{}],4:[function(e,r,n){"use strict";function s(e,r){var n="(["+r.allChars+"])(-)(["+r.spaces+"])(["+r.allChars+"])",s=new RegExp(n,"g");return e=e.replace(s,"$1-$4"),n="(["+r.allChars+"])(["+r.spaces+"])(-)(["+r.allChars+"])",s=new RegExp(n,"g"),e=e.replace(s,"$1-$4")}Object.defineProperty(n,"__esModule",{value:!0}),n.fixSpaceAroundHyphen=s,n.fixHyphen=function(e,r){return e=s(e,r)}},{}],5:[function(e,r,n){"use strict";function s(e){return e.replace(/\.{2}/g,".")}Object.defineProperty(n,"__esModule",{value:!0}),n.removeExtraPeriod=s,n.fixPeriod=s},{}],6:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixSingleQuotesPrimesAndApostrophes=function(e,i){var r="("+i.singleQuoteAdepts+")(n)("+i.singleQuoteAdepts+")",n=new RegExp(r,"gi");e=e.replace(n,"{{typopo__apostrophe}}$2{{typopo__apostrophe}}");return r="("+i.singleQuoteAdepts+")(cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould)",n=new RegExp(r,"gi"),e=e.replace(n,"{{typopo__apostrophe}}$2"),r="(["+i.cardinalNumber+i.allChars+"])("+i.singleQuoteAdepts+")+(["+i.allChars+"])",n=new RegExp(r,"g"),e=e.replace(n,"$1{{typopo__apostrophe}}$3"),r="( )("+i.singleQuoteAdepts+")(["+i.cardinalNumber+"]{2})",n=new RegExp(r,"g"),e=e.replace(n,"$1{{typopo__apostrophe}}$3"),r="("+i.doubleQuoteAdepts+")(.*?)("+i.doubleQuoteAdepts+")",n=new RegExp(r,"g"),e=(e=e.replace(n,function(e,r,n,s){var t="(["+i.spaces+i.emDash+i.enDash+"])("+i.singleQuoteAdepts+"|,)(["+i.allChars+"])",a=new RegExp(t,"g");return n=n.replace(a,"$1{{typopo__left-single-quote--adept}}$3"),t="(["+i.allChars+"])([.,!?])?("+i.singleQuoteAdepts+")([ .,!?])",a=new RegExp(t,"g"),n=n.replace(a,"$1$2{{typopo__right-single-quote--adept}}$4"),t="({{typopo__left-single-quote--adept}})(["+i.allChars+"]+)({{typopo__right-single-quote--adept}})",a=new RegExp(t,"g"),n=n.replace(a,"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),t="({{typopo__left-single-quote--adept}})(.*)({{typopo__right-single-quote--adept}})",a=new RegExp(t,"g"),r+(n=n.replace(a,"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"))+s})).replace(/(\d)( ?)('|‘|’|‛|′)/g,"$1{{typopo__single-prime}}"),r="({{typopo__left-single-quote--adept}})(.*?)({{typopo__single-prime}})",n=new RegExp("({{typopo__left-single-quote--adept}})(.*?)({{typopo__single-prime}})","g"),e=e.replace(n,"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),r="("+i.singleQuoteAdepts+")",n=new RegExp(r,"g"),e=(e=(e=(e=(e=e.replace(n,"{{typopo__apostrophe}}")).replace(/({{typopo__single-prime}})/g,i.singlePrime)).replace(/{{typopo__apostrophe}}|{{typopo__left-single-quote--adept}}|{{typopo__right-single-quote--adept}}/g,i.apostrophe)).replace(/{{typopo__left-single-quote}}/g,i.leftSingleQuote)).replace(/{{typopo__right-single-quote}}/g,i.rightSingleQuote)}},{}],7:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixCopyright=function(e,r){return e=function(e,r){var n="(\\(c\\))(["+r.spaces+"]?)("+r.cardinalNumber+")",s=new RegExp(n,"gi"),t=r.copyright+"$2$3";return e.replace(s,t)}(e,r),e=(0,s.addSpaceBeforeSymbol)(e,r,r.copyright),e=(0,t.addNbspAfterSymbol)(e,r,r.copyright),e=(0,t.replaceSpacesWithNbspAfterSymbol)(e,r,r.copyright)};var s=e("../whitespace/spaces"),t=e("../whitespace/nbsp")},{"../whitespace/nbsp":17,"../whitespace/spaces":18}],8:[function(e,r,n){"use strict";function s(e,r,n,s){var t="(["+r.spaces+r.slash+"])(m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym)("+n+")",a=new RegExp(t,"g"),i="$1$2"+s;return e.replace(a,i)}function t(e,r){return s(e,r,"2","²")}function a(e,r){return s(e,r,"3","³")}Object.defineProperty(n,"__esModule",{value:!0}),n.fixSquares=t,n.fixCubes=a,n.fixExponents=function(e,r){return e=a(e=t(e,r),r)}},{}],9:[function(e,r,n){"use strict";function s(e,r){var n="(["+r.cardinalNumber+"]+)(["+r.spaces+"]?["+r.lowercaseChars+r.singlePrime+r.doublePrime+"]*)(["+r.spaces+"][x]["+r.spaces+"])(["+r.cardinalNumber+"]+)(["+r.spaces+"]?["+r.lowercaseChars+r.singlePrime+r.doublePrime+"]*)",s=new RegExp(n,"gi"),t="$1$2"+r.nbsp+r.multiplicationSign+r.nbsp+"$4$5";return e=(e=e.replace(s,t)).replace(s,t)}function t(e,r){var n="(["+r.allChars+"]+)(["+r.spaces+"][x]["+r.spaces+"])(["+r.allChars+"]+)",s=new RegExp(n,"g"),t="$1"+r.nbsp+r.multiplicationSign+r.nbsp+"$3";return e=(e=e.replace(s,t)).replace(s,t)}function a(e,i){var r="(["+i.cardinalNumber+"])(["+i.spaces+"]?)([x|×])(["+i.spaces+"])(["+i.lowercaseChars+"]+)",n=new RegExp(r,"gi");return e=e.replace(n,function(e,r,n,s,t,a){return""==n?r+n+i.multiplicationSign+i.nbsp+a:r+i.nbsp+i.multiplicationSign+i.nbsp+a})}function i(e,r){var n="(["+r.cardinalNumber+"]+)(["+r.singlePrime+r.doublePrime+"])?([x|×])(["+r.cardinalNumber+"]+)(["+r.singlePrime+r.doublePrime+"])?",s=new RegExp(n,"gi"),t="$1$2"+r.nbsp+r.multiplicationSign+r.nbsp+"$4$5";return e.replace(s,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.fixMultiplicationSignBetweenNumbers=s,n.fixMultiplicationSignBetweenWords=t,n.fixMultiplicationSignBetweenNumberAndWord=a,n.fixNbspAroundMultiplicationSign=i,n.fixMultiplicationSign=function(e,r){return e=i(e=a(e=t(e=s(e,r),r),r),r)}},{}],10:[function(e,r,n){"use strict";function s(e,r){var n="("+r.numberSign+")(["+r.spaces+"]+)("+r.cardinalNumber+")",s=new RegExp(n,"g");return e.replace(s,"$1$3")}Object.defineProperty(n,"__esModule",{value:!0}),n.removeExtraSpacesAfterNumberSign=s,n.fixNumberSign=function(e,r){return e=s(e,r)}},{}],11:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixPlusMinus=function(e,r){var n=new RegExp("(\\+\\-)|(\\-\\+)","g"),s=r.plusMinus;return e.replace(n,s)}},{}],12:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixRegisteredTrademark=function(e,r){return e=function(e,r){var n="([^0-9]|^)(["+r.spaces+"]*)(\\(r\\)|"+r.registeredTrademark+")",s=new RegExp(n,"gi"),t="$1"+r.registeredTrademark;return e.replace(s,t)}(e,r)}},{}],13:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixSectionSign=function(e,r){return e=function(e,r){var n="("+r.sectionSign+")(["+r.spaces+"])",s=new RegExp(n,"g"),t="$1"+r.nbsp;return e.replace(s,t)}(e=function(e,r){var n="("+r.sectionSign+")([^"+r.spaces+r.sectionSign+"])",s=new RegExp(n,"g"),t="$1"+r.nbsp+"$2";return e.replace(s,t)}(e=function(e,r){var n="([^"+r.spaces+r.sectionSign+r.openingBrackets+"])("+r.sectionSign+")",s=new RegExp(n,"g"),t="$1"+r.space+"$2";return e.replace(s,t)}(e,r),r),r)}},{}],14:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixSoundRecordingCopyright=function(e,r){return e=function(e,r){var n="(\\(p\\))(["+r.spaces+"]?)("+r.cardinalNumber+")",s=new RegExp(n,"gi"),t=r.soundRecordingCopyright+"$2$3";return e.replace(s,t)}(e,r),e=(0,s.addSpaceBeforeSymbol)(e,r,r.soundRecordingCopyright),e=(0,t.addNbspAfterSymbol)(e,r,r.soundRecordingCopyright),e=(0,t.replaceSpacesWithNbspAfterSymbol)(e,r,r.soundRecordingCopyright)};var s=e("../whitespace/spaces"),t=e("../whitespace/nbsp")},{"../whitespace/nbsp":17,"../whitespace/spaces":18}],15:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixTrademark=function(e,r){return e=function(e,r){var n="(["+r.spaces+"]*)(\\(tm\\)|"+r.trademark+")",s=new RegExp(n,"gi"),t=r.trademark;return e.replace(s,t)}(e,r)}},{}],16:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeEmptyLines=function(e){return e.replace(/^\s+/gm,"")}},{}],17:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeNbspBetweenMultiCharWords=s,n.addNbspAfterPreposition=t,n.addNbspAfterAmpersand=a,n.addNbspAfterCardinalNumber=i,n.addNbspAfterOrdinalNumber=o,n.addNbspWithinOrdinalDate=p,n.addNbspAfterRomanNumeral=l,n.fixNbspForNameWithRegnalNumber=c,n.addNbspBeforePercent=u,n.addNbspAfterSymbol=function(e,r,n){var s="("+n+")([^"+r.spaces+"])",t=new RegExp(s,"g"),a="$1"+r.nbsp+"$2";return e.replace(t,a)},n.replaceSpacesWithNbspAfterSymbol=function(e,r,n){var s="("+n+")(["+r.spaces+"])",t=new RegExp(s,"g"),a="$1"+r.nbsp;return e.replace(t,a)},n.fixNbsp=function(e,r){return e=u(e=c(e=l(e=p(e=o(e=i(e=a(e=t(e=s(e,r),r),r),r),r),r),r),r),r)};e("../whitespace/spaces");function s(e,r){var n="(["+r.lowercaseChars+r.uppercaseChars+"]{2,})(["+r.nbsp+r.narrowNbsp+"])(["+r.lowercaseChars+r.uppercaseChars+"]{2,})",s=new RegExp(n,"g");return e=(e=e.replace(s,"$1 $3")).replace(s,"$1 $3")}function t(e,r){var n="(^|["+r.space+"]|[^"+r.allChars+r.cardinalNumber+r.apostrophe+r.plus+r.minus+r.hyphen+"])(["+r.allChars+"])(["+r.space+"])",s=new RegExp(n,"g"),t="$1$2"+r.nbsp;return e=(e=e.replace(s,t)).replace(s,t)}function a(e,r){var n="(["+r.spaces+"])("+r.ampersand+")(["+r.spaces+"])",s=new RegExp(n,"g"),t=" $2"+r.nbsp;return e.replace(s,t)}function i(e,r){var n="([^"+r.nbsp+"]|^)("+r.cardinalNumber+")( )(["+r.allChars+"]+)",s=new RegExp(n,"g"),t="$1$2"+r.nbsp+"$4";return e.replace(s,t)}function o(e,r){var n="("+r.cardinalNumber+")("+r.ordinalIndicator+")(["+r.spaces+"]?)(["+r.allChars+"]+)",s=new RegExp(n,"g"),t="$1$2"+r.nbsp+"$4";return e.replace(s,t)}function p(e,r){var n="("+r.cardinalNumber+")("+r.ordinalIndicator+")(["+r.spaces+"]?)("+r.cardinalNumber+")("+r.ordinalIndicator+")(["+r.spaces+"]?)("+r.cardinalNumber+")",s=new RegExp(n,"g"),t="";switch(r.locale){case"en-us":case"rue":case"sk":case"cs":t="$1$2"+r.nbsp+"$4$5"+r.nbsp+"$7";break;case"de-de":t="$1$2"+r.nbsp+"$4$5"+r.space+"$7"}return e.replace(s,t)}function l(e,r){if(""==r.romanOrdinalIndicator)return e;var n="(\\b)(["+r.romanNumerals+"]+)("+r.romanOrdinalIndicator+")(["+r.spaces+"]?)(["+r.allChars+r.cardinalNumber+"])",s=new RegExp(n,"g"),t="$1$2$3"+r.nbsp+"$5";return e.replace(s,t)}function c(e,i){var r="(\\b["+i.uppercaseChars+"]["+i.lowercaseChars+"]+?)(["+i.spaces+"])(["+i.romanNumerals+"]+\\b)("+i.romanOrdinalIndicator+")(["+i.nbsp+"]?)",n=new RegExp(r,"g");return e.replace(n,function(e,r,n,s,t,a){return""==a&&"I"==s?r+i.space+s+t:""==a&&"I"!=s?r+i.nbsp+s+t:a==i.nbsp&&"I"==s?r+i.space+s+t+a:r+i.nbsp+s+t+i.space})}function u(e,r){var n="(["+r.spaces+"])(["+r.percent+r.permille+r.permyriad+"])",s=new RegExp(n,"g"),t=r.nbsp+"$2";return e.replace(s,t)}},{"../whitespace/spaces":18}],18:[function(e,r,n){"use strict";function s(e,r){var n="["+r.spaces+"]{2,}",s=new RegExp(n,"g");return e.replace(s," ")}function t(e,r){for(var n=e.split(/\r?\n/),s=0;s<n.length;s++)n[s]=n[s].replace(/^\s+/,"");return n.join("\n")}function a(e,r){var n="(["+r.spaces+"])(["+r.sentencePausePunctuation+"])([^\\-\\)]|$)",s=new RegExp(n,"g");return e.replace(s,"$2$3")}function i(e,r){var n="(["+r.spaces+"])(["+r.terminalPunctuation+r.closingBrackets+r.degree+"])",s=new RegExp(n,"g");return e.replace(s,"$2")}function o(e,r){var n="("+r.cardinalNumber+")(["+r.spaces+"]?)("+r.ordinalIndicator+")(["+r.spaces+"]|\\b)",s=new RegExp(n,"g");return e.replace(s,"$1$3$4")}function p(e,r){var n="(["+r.openingBrackets+"])(["+r.spaces+"])",s=new RegExp(n,"g");return e.replace(s,"$1")}function l(e,a){var r="(["+a.lowercaseChars+a.uppercaseChars+"])(["+a.openingBrackets+"])(["+a.lowercaseChars+a.uppercaseChars+a.ellipsis+"])(["+a.lowercaseChars+a.uppercaseChars+a.ellipsis+a.closingBrackets+"])",n=new RegExp(r,"g");return e.replace(n,function(e,r,n,s,t){return"s"==s|"S"==s|s+t=="es"|s+t=="ES"?r+n+s+t:r+a.space+n+s+t})}function c(e,r){var n="(["+r.lowercaseChars+r.uppercaseChars+"]{2,}|["+r.ellipsis+"])(["+r.terminalPunctuation+"])(["+r.uppercaseChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1$2 $3")}function u(e,r){var n="(["+r.lowercaseChars+r.uppercaseChars+"]{2,}|["+r.ellipsis+"])(["+r.sentencePausePunctuation+"])(["+r.lowercaseChars+r.uppercaseChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1$2 $3")}function d(e,r){var n="(["+r.closingBrackets+"])(["+r.lowercaseChars+r.uppercaseChars+"])",s=new RegExp(n,"g");return e.replace(s,"$1 $2")}function g(e,r){return e.trim()}Object.defineProperty(n,"__esModule",{value:!0}),n.removeMultipleSpaces=s,n.removeSpacesAtParagraphStart=t,n.removeSpaceBeforeSentencePausePunctuation=a,n.removeSpaceBeforeTerminalPunctuation=i,n.removeSpaceBeforeOrdinalIndicator=o,n.removeSpaceAfterOpeningBrackets=p,n.addSpaceBeforeOpeningBrackets=l,n.addSpaceAfterTerminalPunctuation=c,n.addSpaceAfterSentencePause=u,n.addSpaceAfterClosingBrackets=d,n.removeTrailingSpaces=g,n.addSpaceBeforeSymbol=function(e,r,n){var s="([^"+r.spaces+r.openingBrackets+"])("+n+")",t=new RegExp(s,"g"),a="$1"+r.space+"$2";return e.replace(t,a)},n.fixSpaces=function(e,r){return e=g(e=u(e=d(e=c(e=l(e=p(e=o(e=i(e=a(e=t(e=s(e,r)),r),r),r),r),r),r),r),r))}},{}],19:[function(e,r,n){"use strict";function s(e,r){var n="(["+r.uppercaseChars+"]["+r.allChars+"]?\\.)(["+r.spaces+"]?)",s="(["+r.allChars+"]{2,}[^\\.])",t="";switch(r.locale){case"en-us":t="";break;case"rue":case"sk":case"cs":case"de-de":t=r.nbsp}var a=n+s,i=new RegExp(a,"g"),o="$1"+r.nbsp+"$3";return e=e.replace(i,o),a=n+n+s,i=new RegExp(a,"g"),o="$1"+t+"$3"+r.space+"$5",e=e.replace(i,o),a=n+n+n+s,i=new RegExp(a,"g"),o="$1"+t+"$3"+t+"$5"+r.space+"$7",e=e.replace(i,o)}function t(e,r){var n="([^"+r.allChars+r.enDash+r.emDash+"]|^)",s="(["+r.allChars+"]|\\D)",t="([^"+r.allChars+"]|$)",a="";switch(r.locale){case"en-us":a="";break;case"rue":case"sk":case"cs":case"de-de":a=r.nbsp}for(var i=[],o=0;o<r.multipleWordAbbreviations.length;o++){for(var p=r.multipleWordAbbreviations[o].split(" "),l="",c=0;c<p.length;c++)l+="("+p[c]+")(\\.)(["+r.spaces+"]?)";i[o]=l}for(var u=0;u<i.length;u++){for(var d=n+i[u]+s,g=new RegExp(d,"gi"),h="$1",b=(i[u].match(/\(/g)||[]).length/3,f=0;f<b-1;f++)h+="$"+(3*f+2)+"."+a;h+="$"+(3*(b-1)+2)+". $"+(3*b+2),e=e.replace(g,h)}for(var m=0;m<i.length;m++){for(var $=n+i[m]+t,w=new RegExp($,"gi"),v="$1",x=(i[m].match(/\(/g)||[]).length/3,_=0;_<x-1;_++)v+="$"+(3*_+2)+"."+a;v+="$"+(3*(x-1)+2)+".$"+(3*x+2),e=e.replace(w,v)}return e}function a(e,r){for(var n=[],s=0;s<r.singleWordAbbreviations.length;s++)n[s]="("+r.singleWordAbbreviations[s]+")(\\.)(["+r.spaces+"]?)";for(var t="([^"+r.allChars+r.enDash+r.emDash+r.nbsp+"\\.]|^)",a="(["+r.allChars+"\\d]+)([^\\.]|$)",i=0;i<n.length;i++){var o=t+n[i]+a,p=new RegExp(o,"gi"),l="$1$2$3"+r.nbsp+"$5$6";e=e.replace(p,l)}for(var c="(["+r.allChars+"\\d])(["+r.spaces+"])",u="([^"+r.spaces+r.allChars+"\\d]|$)",d=0;d<n.length;d++){var g=c+n[d]+u,h=new RegExp(g,"gi"),b="$1"+r.nbsp+"$3$4$5$6";e=e.replace(h,b)}return e}Object.defineProperty(n,"__esModule",{value:!0}),n.fixInitials=s,n.fixMultipleWordAbbreviations=t,n.fixSingleWordAbbreviations=a,n.fixAbbreviations=function(e,r){return e=a(e=t(e=s(e,r),r),r)}},{}],20:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixCase=function(e,r){var n="([^"+r.allChars+"]|^)(["+r.uppercaseChars+"]{2})(["+r.lowercaseChars+"]{2,})",s=new RegExp(n,"g");return e=e.replace(s,function(e,r,n,s){return r+n.substring(0,1)+n.substring(1).toLowerCase()+s}),n="(\\b)(?!iOS)(["+r.lowercaseChars+"])(["+r.uppercaseChars+"]{2,})",s=new RegExp(n,"g"),e=e.replace(s,function(e,r,n,s){return r+n+s.toLowerCase()})}},{}],21:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.excludeExceptions=function(e,r){a(e,r.emailAddressPattern),a(e,r.webUrlPattern);for(var n=0;n<t.length;n++){var s="{{typopo__exception-"+n+"}}";e=e.replace(t[n],s)}return e},n.placeExceptions=function(e){for(var r=0;r<t.length;r++){var n=new RegExp("{{typopo__exception-"+r+"}}","g"),s=t[r];e=e.replace(n,s)}return e};var t=[];function a(e,r){var n=new RegExp(r,"g"),s=e.match(n);null!=s&&(t=t.concat(s))}},{}],22:[function(e,r,n){"use strict";function s(e,r){var n="(issn)(:?)(["+r.spaces+"]?)(\\d{4})(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)(\\d{4})",s=new RegExp(n,"gi"),t="ISSN$2"+r.nbsp+"$4-$6";return e.replace(s,t)}function t(e,r){var n="(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)",s="(isbn)(:?)(["+r.spaces+"]?)(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(X|\\d+)",t=new RegExp(s,"gi"),a="ISBN$2"+r.nbsp+"$4-$6-$8-$10";return e.replace(t,a)}function a(e,r){var n="(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)",s="(isbn)(:?)(["+r.spaces+"]?)(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(X|\\d+)",t=new RegExp(s,"gi"),a="ISBN$2"+r.nbsp+"$4-$6-$8-$10-$12";return e.replace(t,a)}function i(e,r){var n="(["+r.spaces+"]?["+r.hyphen+r.enDash+r.emDash+"]["+r.spaces+"]?)",s=new RegExp("(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(\\d+)"+n+"(X|\\d+?)","g");return e.replace(s,"$1-$3-$5-$7-$9")}Object.defineProperty(n,"__esModule",{value:!0}),n.fixISSN=s,n.fixISBN10=t,n.fixISBN13=a,n.fixISBNnumber=i,n.fixPubId=function(e,r){return e=i(e=a(e=t(e=s(e,r),r),r),r)}},{}],23:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","např","sv","tj","tzv"],multipleWordAbbreviations:["hl m","n l","p n l","př n l"]};n.default=s},{}],24:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["S","z","St","Stk","Mo","Di","Mi","Do","Fr","Sa","So","Bhf","Hbf","Nr","ca","usw","geb","gest","u"],multipleWordAbbreviations:["b w","d h","d i","e V","n Chr","s a","s o","s u","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","z B","z T","z Zt","n u Z","u a m","v u Z","Ges m b H"]};n.default=s},{}],25:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={quotes:{leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},numbers:{ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},singleWordAbbreviations:["p","pp","no","vol"],multipleWordAbbreviations:["U S","e g","i e","a m","p m"]};n.default=s},{}],26:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=p(e("./cs")),t=p(e("./en-us")),a=p(e("./rue")),i=p(e("./sk")),o=p(e("./de-de"));function p(e){return e&&e.__esModule?e:{default:e}}var l={cs:s.default,"en-us":t.default,rue:a.default,sk:i.default,"de-de":o.default};n.default=function e(r){for(r in!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.locale=r,this.nonLatinLowercase="áäčďéěíĺľňóôöőŕřšťúüűůýžабвгґдезіийклмнопрстуфъыьцчжшїщёєюях",this.nonLatinUppercase="ÁÄČĎÉĚÍĹĽŇÓÔÖŐŔŘŠŤÚÜŰŮÝŽАБВГҐДЕЗІИЙКЛМНОПРСТУФЪЫЬЦЧЖШЇЩЁЄЮЯХ",this.nonLatinChars=this.nonLatinLowercase+this.nonLatinUppercase,this.lowercaseChars="a-z"+this.nonLatinLowercase,this.uppercaseChars="A-Z"+this.nonLatinUppercase,this.allChars=this.lowercaseChars+this.uppercaseChars,this.singleQuoteAdepts="‚|'|‘|’|ʼ|‛|′|`|‹|›",this.leftSingleQuote=l[r].quotes.leftSingleQuote,this.rightSingleQuote=l[r].quotes.rightSingleQuote,this.apostrophe="’",this.singlePrime="′",this.doubleQuoteAdepts="„|“|”|\"|«|»|″|,{2,}|‘{2,}|’{2,}|'{2,}|‹{2,}|›{2,}|′{2,}",this.leftDoubleQuote=l[r].quotes.leftDoubleQuote,this.rightDoubleQuote=l[r].quotes.rightDoubleQuote,this.doublePrime="″",this.space=" ",this.nbsp=" ",this.hairSpace=" ",this.narrowNbsp=" ",this.spaces=this.space+this.nbsp+this.hairSpace+this.narrowNbsp,this.terminalPunctuation="\\.\\!\\?",this.terminalQuotes=this.rightSingleQuote+this.rightDoubleQuote,this.sentencePausePunctuation="\\,\\:\\;",this.sentencePunctuation=this.sentencePausePunctuation+this.terminalPunctuation,this.openingBrackets="\\(\\[\\{",this.closingBrackets="\\)\\]\\}",this.ellipsis="…",this.hyphen="-",this.enDash="–",this.emDash="—",this.slash="/",this.degree="°",this.multiplicationSign="×",this.ampersand="&",this.sectionSign="§",this.copyright="©",this.registeredTrademark="®",this.soundRecordingCopyright="℗",this.trademark="™",this.plus="+",this.minus="−",this.plusMinus="±",this.percent="%",this.permille="‰",this.permyriad="‱",this.numberSign="#",this.webUrlPattern="((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)",this.emailAddressPattern="[a-zA-Z0-9\\+\\.\\_\\%\\-]{1,256}\\@[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}(\\.[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25})+",this.cardinalNumber="\\d",this.ordinalIndicator=l[r].numbers.ordinalIndicator,this.romanNumerals="IVXLCDM",this.romanOrdinalIndicator=l[r].numbers.romanOrdinalIndicator,this.singleWordAbbreviations=[],l)this.singleWordAbbreviations=this.singleWordAbbreviations.concat(l[r].singleWordAbbreviations);for(r in this.multipleWordAbbreviations=[],l)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat(l[r].multipleWordAbbreviations)}},{"./cs":23,"./de-de":24,"./en-us":25,"./rue":27,"./sk":28}],27:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={quotes:{leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["ціт","ст","канц","абз","тзв","Зб","ч","напр"],multipleWordAbbreviations:["т зн","Е Ч","евід ч","род ч","т ч","т д"]};n.default=s},{}],28:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","napr","sv","tzv","čl","cit","roč","vyd"],multipleWordAbbreviations:["hl m","n l","p n l","pr n l","s a","s l","t j","zodp red","t č"]};n.default=s},{}],29:[function(e,r,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fixTypos=function(e,r,n){r=void 0===r?"en-us":r;var s=new t.default(r);n=void 0===n?{removeLines:!0}:n,e=(0,R.excludeExceptions)(e,s),n.removeLines&&(e=(0,a.removeEmptyLines)(e));return e=(0,l.fixEllipsis)(e,s),e=(0,o.fixSpaces)(e,s),e=(0,p.fixPeriod)(e),e=(0,u.fixDash)(e,s),e=(0,c.fixHyphen)(e,s),e=(0,g.fixSingleQuotesPrimesAndApostrophes)(e,s),e=(0,d.fixDoubleQuotesAndPrimes)(e,s),e=(0,h.fixMultiplicationSign)(e,s),e=(0,b.fixSectionSign)(e,s),e=(0,f.fixCopyright)(e,s),e=(0,m.fixSoundRecordingCopyright)(e,s),e=(0,$.fixPlusMinus)(e,s),e=(0,w.fixRegisteredTrademark)(e,s),e=(0,v.fixTrademark)(e,s),e=(0,x.fixExponents)(e,s),e=(0,_.fixNumberSign)(e,s),e=(0,E.fixCase)(e,s),e=(0,y.fixAbbreviations)(e,s),e=(0,S.fixPubId)(e,s),e=(0,i.fixNbsp)(e,s),e=(0,R.placeExceptions)(e)};var s,t=(s=e("./locale/locale"))&&s.__esModule?s:{default:s},a=e("./lib/whitespace/lines"),i=e("./lib/whitespace/nbsp"),o=e("./lib/whitespace/spaces"),p=e("./lib/punctuation/period"),l=e("./lib/punctuation/ellipsis"),c=e("./lib/punctuation/hyphen"),u=e("./lib/punctuation/dash"),d=e("./lib/punctuation/double-quotes"),g=e("./lib/punctuation/single-quotes"),h=e("./lib/symbols/multiplication-sign"),b=e("./lib/symbols/section-sign"),f=e("./lib/symbols/copyright"),m=e("./lib/symbols/sound-recording-copyright"),$=e("./lib/symbols/plus-minus"),w=e("./lib/symbols/registered-trademark"),v=e("./lib/symbols/trademark"),x=e("./lib/symbols/exponents"),_=e("./lib/symbols/number-sign"),y=e("./lib/words/abbreviations"),E=e("./lib/words/case"),S=e("./lib/words/pub-id"),R=e("./lib/words/exceptions")},{"./lib/punctuation/dash":1,"./lib/punctuation/double-quotes":2,"./lib/punctuation/ellipsis":3,"./lib/punctuation/hyphen":4,"./lib/punctuation/period":5,"./lib/punctuation/single-quotes":6,"./lib/symbols/copyright":7,"./lib/symbols/exponents":8,"./lib/symbols/multiplication-sign":9,"./lib/symbols/number-sign":10,"./lib/symbols/plus-minus":11,"./lib/symbols/registered-trademark":12,"./lib/symbols/section-sign":13,"./lib/symbols/sound-recording-copyright":14,"./lib/symbols/trademark":15,"./lib/whitespace/lines":16,"./lib/whitespace/nbsp":17,"./lib/whitespace/spaces":18,"./lib/words/abbreviations":19,"./lib/words/case":20,"./lib/words/exceptions":21,"./lib/words/pub-id":22,"./locale/locale":26}]},{},[29])(29)});
/*!
 * Typopo v2.6.0 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */
(function(h,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(h=typeof globalThis<"u"?globalThis:h||self,c(h.typopo={}))})(this,function(h){"use strict";const d={cs:{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","např","sv","tj","tzv"],multipleWordAbbreviations:["hl m","n l","p n l","př n l"]},"en-us":{quotes:{leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},numbers:{ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},singleWordAbbreviations:["p","pp","no","vol"],multipleWordAbbreviations:["U S","e g","i e","a m","p m"]},rue:{quotes:{leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["ціт","ст","канц","абз","тзв","Зб","ч","напр"],multipleWordAbbreviations:["т зн","Е Ч","евід ч","род ч","т ч","т д"]},sk:{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","napr","sv","tzv","čl","cit","roč","vyd"],multipleWordAbbreviations:["hl m","n l","p n l","pr n l","s a","s l","t j","zodp red","t č"]},"de-de":{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["S","z","St","Stk","Mo","Di","Mi","Do","Fr","Sa","So","Bhf","Hbf","Nr","ca","usw","geb","gest","u"],multipleWordAbbreviations:["b w","d h","d i","e V","n Chr","s a","s o","s u","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","z B","z T","z Zt","n u Z","u a m","v u Z","Ges m b H"]}};class A{constructor(e){this.locale=e,this.leftSingleQuote=d[e].quotes.leftSingleQuote,this.rightSingleQuote=d[e].quotes.rightSingleQuote,this.leftDoubleQuote=d[e].quotes.leftDoubleQuote,this.rightDoubleQuote=d[e].quotes.rightDoubleQuote,this.ordinalIndicator=d[e].numbers.ordinalIndicator,this.romanOrdinalIndicator=d[e].numbers.romanOrdinalIndicator,this.singleWordAbbreviations=[];for(e in d)this.singleWordAbbreviations=this.singleWordAbbreviations.concat(d[e].singleWordAbbreviations);this.multipleWordAbbreviations=[];for(e in d)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat(d[e].multipleWordAbbreviations)}}function C(n){return n.replace(/[\n\r]{2,}/gm,`
`)}function m(n,e,t){let p=0,$=n,s="";for(;$!==s&&p<50;)s=$,$=$.replace(e,t),p++;return $}function D(n,e){return m(n,new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,})([${e.nbsp}${e.narrowNbsp}])([${e.lowercaseChars}${e.uppercaseChars}]{2,})`,"g"),"$1 $3")}function g(n,e){return n=m(n,new RegExp(`(^|[${e.space}]|[^${e.allChars}${e.cardinalNumber}${e.apostrophe}${e.plus}${e.minus}${e.hyphen}])([${e.lowercaseChars}])([${e.space}])`,"g"),`$1$2${e.nbsp}`),n=n.replace(new RegExp(`(^|[${e.sentencePunctuation}${e.ellipsis}${e.copyright}${e.registeredTrademark}${e.soundRecordingCopyright}])([${e.spaces}]?)([${e.uppercaseChars}])([${e.spaces}])`,"g"),`$1$2$3${e.nbsp}`),e.locale=="en-us"&&(n=n.replace(new RegExp(`(^|[${e.spaces}])(I)([${e.spaces}])`,"g"),`$1$2${e.nbsp}`)),n}function P(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.ampersand})([${e.spaces}])`,"g"),` $2${e.nbsp}`)}function v(n,e){return n.replace(new RegExp(`([^${e.nbsp}${e.cardinalNumber}]|^)(${e.cardinalNumber}{1,2})([${e.spaces}])([${e.allChars}])`,"g"),`$1$2${e.nbsp}$4`)}function N(n,e){return n.replace(new RegExp(`([^${e.nbsp}${e.cardinalNumber}_%\\-]|^)(${e.cardinalNumber}{1,2})(${e.ordinalIndicator})([${e.spaces}]?)([${e.allChars}])`,"g"),`$1$2$3${e.nbsp}$5`)}function W(n,e){let t="";switch(e.locale){case"en-us":case"rue":case"sk":case"cs":t=`$1$2${e.nbsp}$4$5${e.nbsp}$7`;break;case"de-de":t=`$1$2${e.nbsp}$4$5${e.space}$7`;break}return n.replace(new RegExp(`(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?)(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?)(${e.cardinalNumber})`,"g"),t)}function B(n,e){return e.romanOrdinalIndicator!=""?n.replace(new RegExp(`(\\b)([${e.romanNumerals}]+)(${e.romanOrdinalIndicator})([${e.spaces}]?)([${e.allChars}${e.cardinalNumber}])`,"g"),`$1$2$3${e.nbsp}$5`):n}function k(n,e){let t=`(\\b[${e.uppercaseChars}][${e.lowercaseChars}]+?)([${e.spaces}])([${e.romanNumerals}]+\\b)(${e.romanOrdinalIndicator})([${e.nbsp}]?)`,r=new RegExp(t,"g");return n.replace(r,function(p,$,s,u,i,o){return o==""&&u=="I"?$+e.space+u+i:o==""&&u!="I"?$+e.nbsp+u+i:o==e.nbsp&&u=="I"?$+e.space+u+i+o:$+e.nbsp+u+i+e.space})}function q(n,e){var r;const t={"en-us":()=>"",sk:p=>`${p.nbsp}`,cs:p=>`${p.nbsp}`,rue:p=>`${p.nbsp}`,"de-de":p=>`${p.narrowNbsp}`};return n.replace(new RegExp(`(\\d)([${e.spaces}])([${e.percent}${e.permille}${e.permyriad}])`,"g"),`$1${(r=t[e.locale])==null?void 0:r.call(t,e)}$3`)}function I(n,e){let t=e.uppercaseChars;e.locale=="en-us"&&(t=t.replace(/A-Z/g,"A-HJ-Z"));let r=`([^${e.sentencePunctuation}${e.ellipsis}${e.closingBrackets}${e.rightDoubleQuote}${e.rightSingleQuote}${e.apostrophe}${e.multiplicationSign}${e.emDash}${e.enDash}])([${e.spaces}])([${t}])(([${e.spaces}])|(\\.$|$))`,p=new RegExp(r,"g");return n.replace(p,function($,s,u,i,o,a){return e.locale=="en-us"?s+e.nbsp+i+o:i=="I"&&(a==e.nbsp||a==e.hairSpace||a==e.narrowNbsp)?s+e.nbsp+i+e.space:s+e.nbsp+i+o})}function M(n,e,t){return n.replace(new RegExp(`(${e})([^${t.spaces}])`,"g"),`$1${t.nbsp}$2`)}function T(n,e,t){return n.replace(new RegExp(`(${e})([${t.spaces}])`,"g"),`$1${t.nbsp}`)}function L(n,e){return n=D(n,e),n=g(n,e),n=P(n,e),n=v(n,e),n=N(n,e),n=W(n,e),n=B(n,e),n=I(n,e),n=k(n,e),n=q(n,e),n}function O(n,e){return n.replace(new RegExp(`(\\S)([${e.spaces}]{2,})(\\S)`,"g"),"$1 $3")}function j(n,e,t){let r=n.split(/\r?\n/),p=new RegExp("(^\\s+)([-\\*\\+\\>]*)","g");for(let $=0;$<r.length;$++)r[$]=r[$].replace(p,function(s,u,i){return t.removeWhitespacesBeforeMarkdownList==!1&&i!=""?u+i:i});return r.join(`
`)}function z(n){let e=n.split(/\r?\n/),t=new RegExp("(\\s+$)","g");for(let r=0;r<e.length;r++)e[r]=e[r].replace(t,"");return e.join(`
`)}function Z(n,e){return n.replace(new RegExp(`([${e.spaces}])([${e.sentencePausePunctuation}])([^\\-\\)]|$)`,"g"),"$2$3")}function H(n,e){return n.replace(new RegExp(`([${e.spaces}])([${e.terminalPunctuation}${e.closingBrackets}${e.degree}])`,"g"),"$2")}function X(n,e){return n.replace(new RegExp(`(${e.cardinalNumber})([${e.spaces}]?)(${e.ordinalIndicator})([${e.spaces}]|\\b)`,"g"),"$1$3$4")}function U(n,e){return n.replace(new RegExp(`([${e.openingBrackets}])([${e.spaces}])`,"g"),"$1")}function F(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}])([${e.openingBrackets}])([${e.lowercaseChars}${e.uppercaseChars}${e.ellipsis}])([${e.lowercaseChars}${e.uppercaseChars}${e.ellipsis}${e.closingBrackets}])`,"g"),function(t,r,p,$,s){return $=="s"|$=="S"|$+s=="es"|$+s=="ES"?`${r}${p}${$}${s}`:`${r}${e.space}${p}${$}${s}`})}function G(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,}|[${e.ellipsis}])([${e.terminalPunctuation}])([${e.uppercaseChars}])`,"g"),"$1$2 $3")}function J(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,}|[${e.ellipsis}])([${e.sentencePausePunctuation}])([${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"$1$2 $3")}function K(n,e){return n.replace(new RegExp(`([${e.closingBrackets}])([${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"$1 $2")}function V(n,e,t){return n.replace(new RegExp(`([^${t.spaces}${t.openingBrackets}])(${e})`,"g"),`$1${t.space}$2`)}function Y(n,e,t){return n=O(n,e),n=j(n,e,t),n=z(n),n=Z(n,e),n=H(n,e),n=X(n,e),n=U(n,e),n=F(n,e),n=G(n,e),n=K(n,e),n=J(n,e),n}function l(n){return n.replace(new RegExp("\\.{2}(?![\\\\/])","g"),".")}function ee(n){return l(n)}function ne(n,e){return n.replace(new RegExp(`[${e.ellipsis}\\.]{3,}`,"g"),e.ellipsis)}function te(n,e){return n.replace(new RegExp(`\\.${e.ellipsis}|${e.ellipsis}{2,}|${e.ellipsis}\\.`,"g"),e.ellipsis)}function pe(n,e){return n.replace(new RegExp(`[${e.spaces}]\\.{2}[${e.spaces}]`,"g"),`${e.space}${e.ellipsis}${e.space}`)}function re(n,e){return n.replace(new RegExp(`(,)([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)(,)`,"g"),`$1 ${e.ellipsis}$5`)}function $e(n,e){return n.replace(new RegExp(`(,)([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)(\\B|[${e.closingBrackets}])([^,]|$)`,"g"),"$1$3$5$6")}function ue(n,e){return n.replace(new RegExp(`(^${e.ellipsis})([${e.spaces}])([${e.lowercaseChars}${e.uppercaseChars}])`,"gm"),"$1$3")}function se(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}${e.terminalQuotes}])([${e.spaces}]?)([${e.ellipsis}])([${e.spaces}]?)([${e.lowercaseChars}])`,"g"),"$1 $3$5")}function ie(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}])([${e.spaces}])([${e.ellipsis}])([${e.spaces}]?)([${e.uppercaseChars}])`,"g"),"$1$3 $5")}function oe(n,e){return n.replace(new RegExp(`([${e.allChars}])([${e.ellipsis}])([${e.allChars}])`,"g"),"$1$2 $3")}function ae(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}${e.terminalQuotes}])([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)([${e.uppercaseChars}])`,"g"),"$1 $3 $5")}function de(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}])([${e.spaces}])+([${e.ellipsis}][${e.rightDoubleQuote}${e.rightSingleQuote}]?$)`,"gm"),"$1$3")}function be(n,e){return n=ne(n,e),n=re(n,e),n=$e(n,e),n=ue(n,e),n=se(n,e),n=ie(n,e),n=oe(n,e),n=ae(n,e),n=de(n,e),n=te(n,e),n=pe(n,e),n}function fe(n,e){return n=n.replace(new RegExp(`([${e.allChars}])(-)([${e.spaces}])([${e.allChars}])`,"g"),"$1-$4"),n=n.replace(new RegExp(`([${e.allChars}])([${e.spaces}])(-)([${e.allChars}])`,"g"),"$1-$4"),n}function he(n,e){return n=fe(n,e),n}function me(n){return n.replace(/(---)/g,"—")}function ce(n){return n.replace(/(--)/g,"–")}function xe(n,e){var r;const t={"en-us":p=>`${p.emDash}`,rue:p=>`${p.hairSpace}${p.emDash}${p.hairSpace}`,sk:p=>`${p.hairSpace}${p.emDash}${p.hairSpace}`,cs:p=>`${p.nbsp}${p.enDash}${p.space}`,"de-de":p=>`${p.hairSpace}${p.enDash}${p.hairSpace}`};return n.replace(new RegExp(`([${e.allChars}\\d])([${e.spaces}]*[${e.enDash}${e.emDash}][${e.spaces}]*|[${e.spaces}]+[${e.hyphen}][${e.spaces}]+)([${e.allChars}\\d])`,"g"),`$1${(r=t[e.locale])==null?void 0:r.call(t,e)}$3`)}function we(n,e){var r;const t={"en-us":p=>`$1${p.emDash}$5`,rue:p=>`$1${p.hairSpace}${p.emDash}$5`,sk:p=>`$1${p.hairSpace}${p.emDash}$5`,cs:p=>`$1${p.nbsp}${p.enDash}$5`,"de-de":p=>`$1${p.hairSpace}${p.enDash}$5`};return n.replace(new RegExp(`([${e.allChars}])([${e.spaces}]?)(${e.hyphen})([${e.spaces}]?)([${e.sentencePunctuation}\\n\\r])`,"g"),((r=t[e.locale])==null?void 0:r.call(t,e))||"")}function ge(n,e){return n=m(n,new RegExp(`(${e.cardinalNumber})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})`,"g"),"$1{{typopo__endash}}$3"),n.replace(new RegExp("{{typopo__endash}}","g"),e.enDash)}function Se(n,e){return n.replace(new RegExp(`([${e.percent}${e.permille}${e.permyriad}])([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})`,"g"),`$1${e.enDash}$3`)}function Ee(n,e){return n.replace(new RegExp(`(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})(${e.ordinalIndicator})`,"gi"),`$1$2${e.enDash}$4$5`)}function Re(n,e){return n=me(n),n=ce(n),n=xe(n,e),n=we(n,e),n=ge(n,e),n=Se(n,e),n=Ee(n,e),n}const b="{{typopo__markdown_tick}}";function S(n,e){return e.keepMarkdownCodeBlocks?n.replace(/(\s*)(```)/g,`$1${b}${b}${b}`).replace(/(``)(.*?)(``)/g,`${b}${b}$2${b}${b}`).replace(/(`)(.*?)(`)/g,`${b}$2${b}`):n}function E(n,e){return e.keepMarkdownCodeBlocks?n.replace(new RegExp(`${b}`,"g"),"`"):n}function ye(n,e){return n.replace(new RegExp(`([^${e.romanNumerals}])([${e.sentencePunctuation}])([${e.sentencePunctuation}])(${e.doubleQuoteAdepts})`,"g"),"$1$2$4")}function _e(n,e){return n.replace(new RegExp(`([^${e.romanNumerals}])([${e.sentencePunctuation}])(${e.doubleQuoteAdepts})([${e.sentencePunctuation}])`,"g"),"$1$2$3")}function Qe(n,e){return n=n.replace(new RegExp(`([^0-9]|^)(${e.doubleQuoteAdepts})(.+?)(\\d+)(${e.doubleQuoteAdepts})([${e.terminalPunctuation}${e.ellipsis}])`,"g"),"$1$2$3$4$6$5"),n=n.replace(new RegExp(`(\\b\\d{1,3})([${e.spaces}]?)(“|”|\\"|″|‘{2,}|’{2,}|'{2,}|′{2,})`,"g"),"$1$2{{typopo__double-prime}}"),n}function Ae(n,e){return n=n.replace(new RegExp(`(${e.doubleQuoteAdepts})(\\d+)({{typopo__double-prime}})`,"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n=n.replace(new RegExp(`(${e.doubleQuoteAdepts})(.*?)(${e.doubleQuoteAdepts})`,"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n}function Ce(n,e){return n.replace(new RegExp(`(${e.doubleQuoteAdepts})([0-9${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"{{typopo__left-double-quote--standalone}}$2")}function De(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}${e.sentencePunctuation}${e.ellipsis}])(${e.doubleQuoteAdepts})`,"g"),"$1{{typopo__right-double-quote--standalone}}")}function Pe(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.doubleQuoteAdepts})([${e.spaces}])`,"g"),"$1")}function ve(n){return n.replace(new RegExp("({{typopo__left-double-quote--standalone}})(.*?)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}").replace(new RegExp("({{typopo__double-prime}})(.*?)({{typopo__right-double-quote--standalone}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}")}function Ne(n,e){return n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftDoubleQuote})([^${e.rightDoubleQuote}]+?)([^${e.romanNumerals}${e.closingBrackets}])([${e.terminalPunctuation}${e.ellipsis}])(${e.rightDoubleQuote})`,"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftDoubleQuote})(.+?)([^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])([${e.spaces}])([${e.lowercaseChars}])`,"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp(`(^${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"gm"),"$1$3$2$4"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.spaces}]${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$3$2$4"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.rightDoubleQuote}][${e.spaces}]${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$3$2$4"),n}function We(n,e){return n.replace(/{{typopo__double-prime}}/g,e.doublePrime).replace(/({{typopo__left-double-quote}}|{{typopo__left-double-quote--standalone}})/g,e.leftDoubleQuote).replace(/({{typopo__right-double-quote}}|{{typopo__right-double-quote--standalone}})/g,e.rightDoubleQuote)}function Be(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}])([,])(${e.rightDoubleQuote})`,"g"),"$1$3")}function ke(n,e){return n=n.replace(new RegExp(`(${e.leftDoubleQuote})([${e.spaces}])`,"g"),"$1"),n=n.replace(new RegExp(`([${e.spaces}])(${e.rightDoubleQuote})`,"g"),"$2"),n=n.replace(new RegExp(`([${e.spaces}])(${e.doublePrime})`,"g"),"$2"),n}function qe(n,e){return n=n.replace(new RegExp(`([${e.sentencePunctuation}${e.allChars}])([${e.leftDoubleQuote}])`,"g"),"$1 $2"),n=g(n,e),n}function Ie(n,e){return n.replace(new RegExp(`([${e.rightDoubleQuote}])([${e.allChars}])`,"g"),"$1 $2")}function Me(n,e,t){return n=S(n,t),n=ye(n,e),n=_e(n,e),n=Qe(n,e),n=Ae(n,e),n=Ce(n,e),n=De(n,e),n=Pe(n,e),n=ve(n),n=We(n,e),n=E(n,t),n=ke(n,e),n=qe(n,e),n=Ie(n,e),n=Ne(n,e),n=Be(n,e),n}function Te(n,e){return[["dead","buried"],["drill","bass"],["drum","bass"],["rock","roll"],["pick","mix"],["fish","chips"],["salt","shake"],["mac","cheese"],["pork","beans"],["drag","drop"],["rake","scrape"],["hook","kill"]].forEach(r=>{n=n.replace(new RegExp(`(${r[0]})([${e.spaces}]?)(${e.singleQuoteAdepts})(n)(${e.singleQuoteAdepts})([${e.spaces}]?)(${r[1]})`,"gi"),`$1${e.nbsp}{{typopo__apostrophe}}$4{{typopo__apostrophe}}${e.nbsp}$7`)}),n}function Le(n,e){let t="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould";return n.replace(new RegExp(`(${e.singleQuoteAdepts})(${t})`,"gi"),"{{typopo__apostrophe}}$2")}function Oe(n,e){return n.replace(new RegExp(`(\\Bin)(${e.singleQuoteAdepts})`,"gi"),"$1{{typopo__apostrophe}}")}function je(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}${e.allChars}])(${e.singleQuoteAdepts})+([${e.allChars}])`,"g"),"$1{{typopo__apostrophe}}$3")}function ze(n,e){return n.replace(new RegExp(`([^0-9]|[A-Z][0-9])([${e.spaces}])(${e.singleQuoteAdepts})([${e.cardinalNumber}]{2})`,"g"),"$1$2{{typopo__apostrophe}}$4")}function Ze(n){return n.replace(/(\d)( ?)('|‘|’|‛|′)/g,"$1$2{{typopo__single-prime}}")}function He(n,e){return n.replace(new RegExp(`(^|[${e.spaces}${e.emDash}${e.enDash}])(${e.singleQuoteAdepts}|,)([${e.allChars}${e.ellipsis}])`,"g"),"$1{{typopo__left-single-quote--standalone}}$3")}function Xe(n,e){return n.replace(new RegExp(`([${e.allChars}])([${e.sentencePunctuation}${e.ellipsis}])?(${e.singleQuoteAdepts})([ ${e.sentencePunctuation}])?`,"g"),"$1$2{{typopo__right-single-quote--standalone}}$4")}function Ue(n,e){return n.replace(new RegExp(`(${e.doubleQuoteAdepts})(.*?)(${e.doubleQuoteAdepts})`,"g"),function(t,r,p,$){return p=He(p,e),p=Xe(p,e),p=Fe(p),r+p+$})}function Fe(n){return n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}")}function Ge(n,e){return n.replace(new RegExp(`(\\B)(${e.singleQuoteAdepts})([${e.allChars}]+)(${e.singleQuoteAdepts})(\\B)`,"g"),"$1{{typopo__left-single-quote}}$3{{typopo__right-single-quote}}$5")}function Je(n,e){return n.replace(new RegExp(`(${e.singleQuoteAdepts})`,"g"),"{{typopo__apostrophe}}")}function Ke(n){return n=n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*?)({{typopo__single-prime}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n=n.replace(new RegExp("({{typopo__single-prime}})(.*?)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n}function Ve(n,e){return n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftSingleQuote})([^${e.rightSingleQuote}]+?)([^${e.romanNumerals}])([${e.terminalPunctuation}${e.ellipsis}])(${e.rightSingleQuote})`,"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftSingleQuote})(.+?)([^${e.romanNumerals}])(${e.rightSingleQuote})([${e.terminalPunctuation}${e.ellipsis}])([${e.spaces}])([${e.lowercaseChars}])`,"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.spaces}]|^)(${e.leftSingleQuote})([^${e.rightSingleQuote}]+?)([^${e.romanNumerals}])(${e.rightSingleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$2$3$4$6$5$7"),n}function Ye(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.singlePrime})`,"g"),"$2")}function le(n,e){return n=n.replace(/({{typopo__single-prime}})/g,e.singlePrime),n=n.replace(/{{typopo__apostrophe}}|{{typopo__left-single-quote--standalone}}|{{typopo__right-single-quote--standalone}}/g,e.apostrophe),n=n.replace(/{{typopo__left-single-quote}}/g,e.leftSingleQuote),n=n.replace(/{{typopo__right-single-quote}}/g,e.rightSingleQuote),n=n.replace(/{{typopo__markdown_syntax_highlight}}/g,"```"),n}function en(n,e,t){return n=S(n,t),n=Te(n,e),n=Le(n,e),n=je(n,e),n=ze(n,e),n=Oe(n,e),n=Ze(n),n=Ge(n,e),n=Ue(n,e),n=Ke(n),n=Je(n,e),n=le(n,e),n=E(n,t),n=Ve(n,e),n=Ye(n,e),n}function nn(n,e){return m(n,new RegExp(`([${e.cardinalNumber}]+)([${e.spaces}]?[${e.lowercaseChars}${e.singlePrime}${e.doublePrime}]*)([${e.spaces}][x][${e.spaces}])([${e.cardinalNumber}]+)([${e.spaces}]?[${e.lowercaseChars}${e.singlePrime}${e.doublePrime}]*)`,"gi"),`$1$2${e.nbsp}${e.multiplicationSign}${e.nbsp}$4$5`)}function tn(n,e){return m(n,new RegExp(`([${e.allChars}]+)([${e.spaces}][x][${e.spaces}])([${e.allChars}]+)`,"g"),`$1${e.nbsp}${e.multiplicationSign}${e.nbsp}$3`)}function pn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}])([${e.spaces}]?)([x|×])([${e.spaces}])([${e.lowercaseChars}]+)`,"gi"),function(t,r,p,$,s,u){return p==""?`${r}${p}${e.multiplicationSign}${e.nbsp}${u}`:`${r}${e.nbsp}${e.multiplicationSign}${e.nbsp}${u}`})}function rn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}]+)([${e.singlePrime}${e.doublePrime}])?([x|×])([${e.cardinalNumber}]+)([${e.singlePrime}${e.doublePrime}])?`,"gi"),`$1$2${e.nbsp}${e.multiplicationSign}${e.nbsp}$4$5`)}function $n(n,e){return n=nn(n,e),n=tn(n,e),n=pn(n,e),n=rn(n,e),n}function un(n,e){return n.replace(new RegExp(`([^${e.spaces}${e.sectionSign}${e.openingBrackets}])(${e.sectionSign})`,"g"),`$1${e.space}$2`)}function sn(n,e){return n.replace(new RegExp(`(${e.sectionSign})([^${e.spaces}${e.sectionSign}])`,"g"),`$1${e.nbsp}$2`)}function on(n,e){return n.replace(new RegExp(`(${e.sectionSign})([${e.spaces}])`,"g"),`$1${e.nbsp}`)}function an(n,e){return n=un(n,e),n=sn(n,e),n=on(n,e),n}function R(n,e,t,r){return n.replace(new RegExp(`(\\(${e}\\))([${r.spaces}]*)(${r.cardinalNumber})`,"gi"),`${t}$2$3`)}function y(n,e,t){return n=V(n,e,t),n=M(n,e,t),n=T(n,e,t),n}function dn(n,e){return n=R(n,"c",e.copyright,e),n=y(n,e.copyright,e),n=R(n,"p",e.soundRecordingCopyright,e),n=y(n,e.soundRecordingCopyright,e),n}function bn(n,e){return n.replace(new RegExp("(\\+\\-)|(\\-\\+)","g"),e.plusMinus)}function x(n,e,t,r){return n.replace(new RegExp(`([^0-9]|^)([${r.spaces}]*)(\\(${e}\\)|${t})`,"gi"),`$1${t}`)}function fn(n,e){return n=x(n,"r",e.registeredTrademark,e),n=x(n,"sm",e.serviceMark,e),n=x(n,"tm",e.trademark,e),n}function _(n,e,t,r){let p="m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym";return n.replace(new RegExp(`([${e.spaces}${e.slash}])(${p})(${t})`,"g"),`$1$2${r}`)}function hn(n,e){return _(n,e,"2","²")}function mn(n,e){return _(n,e,"3","³")}function cn(n,e){return n=hn(n,e),n=mn(n,e),n}function xn(n,e){return n.replace(new RegExp(`([${e.spaces}]+)(${e.numberSign})([${e.spaces}]+)(${e.cardinalNumber})`,"g"),"$1$2$4")}function wn(n,e){return n=xn(n,e),n}function Q(n){return{"en-us":"",rue:n.nbsp,sk:n.nbsp,cs:n.nbsp,"de-de":n.nbsp}[n.locale]}function gn(n,e){const t=Q(e),r=`([${e.uppercaseChars}][${e.allChars}]?\\.)([${e.spaces}]?)`,p=`([${e.allChars}]{2,}[^\\.])`,$=[{pattern:`${r}${p}`,replacement:`$1${e.nbsp}$3`},{pattern:`${r}${r}${p}`,replacement:`$1${t}$3${e.space}$5`},{pattern:`${r}${r}${r}${p}`,replacement:`$1${t}$3${t}$5${e.space}$7`}];for(const{pattern:s,replacement:u}of $)n=n.replace(new RegExp(s,"g"),u);return n}function Sn(n,e){let t=`([^${e.allChars}${e.enDash}${e.emDash}]|^)`,r=`([${e.allChars}]|\\D)`,p=`([^${e.allChars}${e.leftDoubleQuote}${e.leftSingleQuote}${e.backtick}\\p{Emoji}]|$)`;const $=Q(e);let s=[];for(let u=0;u<e.multipleWordAbbreviations.length;u++){let i=e.multipleWordAbbreviations[u].split(" "),o="";for(let a=0;a<i.length;a++)o+=`(${i[a]})(\\.)([${e.spaces}]?)`;s[u]=o}for(let u=0;u<s.length;u++){let i=`${t}${s[u]}${r}`,o="$1",a=(s[u].match(/\(/g)||[]).length/3;for(let f=0;f<a-1;f++)o+=`$${f*3+2}.${$}`;o+=`$${(a-1)*3+2}. $${a*3+2}`,n=n.replace(new RegExp(i,"gi"),o)}for(let u=0;u<s.length;u++){let i=`${t}${s[u]}${p}`,o="$1",a=(s[u].match(/\(/g)||[]).length/3;for(let f=0;f<a-1;f++)o+=`$${f*3+2}.${$}`;o+=`$${(a-1)*3+2}.$${a*3+2}`,n=n.replace(new RegExp(i,"giu"),o)}return n}function En(n,e){let t=[];for(let u=0;u<e.singleWordAbbreviations.length;u++)t[u]=`(${e.singleWordAbbreviations[u]})(\\.)([${e.spaces}]?)`;let r=`([^${e.allChars}${e.enDash}${e.emDash}${e.nbsp}\\.]|^)`,p=`([${e.allChars}\\d]+)([^\\.]|$)`;for(let u=0;u<t.length;u++)n=n.replace(new RegExp(`${r}${t[u]}${p}`,"gi"),`$1$2$3${e.nbsp}$5$6`);let $=`([${e.allChars}\\d])([${e.spaces}])`,s=`([^${e.spaces}${e.allChars}\\d]|$)`;for(let u=0;u<t.length;u++)n=n.replace(new RegExp(`${$}${t[u]}${s}`,"gi"),`$1${e.nbsp}$3$4$5$6`);return n}function Rn(n,e){return n=gn(n,e),n=Sn(n,e),n=En(n,e),n}function yn(n,e){return n=n.replace(new RegExp(`([^${e.allChars}]|^)([${e.uppercaseChars}]{2})([${e.lowercaseChars}]{2,})`,"g"),function(t,r,p,$){return`${r}${p.substring(0,1)}${p.substring(1).toLowerCase()}${$}`}),n.replace(new RegExp(`(\\b)(?!iOS)([${e.lowercaseChars}])([${e.uppercaseChars}]{2,})`,"g"),function(t,r,p,$){return`${r}${p.toUpperCase()}${$.toLowerCase()}`})}function _n(n,e){return n.replace(new RegExp(`(issn)(:?)([${e.spaces}]?)(\\d{4})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(\\d{4})`,"gi"),`ISSN$2${e.nbsp}$4-$6`)}function Qn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp(`(isbn)(:?)([${e.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${e.nbsp}$4-$6-$8-$10`)}function An(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp(`(isbn)(:?)([${e.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${e.nbsp}$4-$6-$8-$10-$12`)}function Cn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp("(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+?)","g"),"$1-$3-$5-$7-$9")}function Dn(n,e){return n=_n(n,e),n=Qn(n,e),n=An(n,e),n=Cn(n,e),n}function Pn(n,e){let t=[];return w(n,e.emailPattern,t),w(n,e.urlPattern,t),w(n,e.filenamePattern,t),{processedText:vn(n,t),exceptions:t}}function w(n,e,t){const r=new RegExp(e,"gi"),p=n.match(r);return p&&p.forEach($=>t.push($)),t}function vn(n,e){return e.reduce((t,r,p)=>{const $=`{{typopo__exception-${p}}}`;return t.replace(r,$)},n)}function Nn(n,e){return e.reduce((t,r,p)=>{const $=new RegExp(`{{typopo__exception-${p}}}`,"g");return t.replace($,r)},n)}/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */function Wn(n,e,t){e=typeof e>"u"?"en-us":e;let r=new A(e);t=typeof t>"u"?{removeLines:!0,removeWhitespacesBeforeMarkdownList:!0,keepMarkdownCodeBlocks:!1}:t;const{processedText:p,exceptions:$}=Pn(n,r);return n=p,t.removeLines&&(n=C(n)),n=be(n,r),n=Y(n,r,t),n=ee(n),n=Re(n,r),n=he(n,r),n=en(n,r,t),n=Me(n,r,t),n=$n(n,r),n=an(n,r),n=dn(n,r),n=bn(n,r),n=fn(n,r),n=cn(n,r),n=wn(n,r),n=yn(n,r),n=Rn(n,r),n=Dn(n,r),n=L(n,r),n=Nn(n,$),n}h.fixTypos=Wn,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});

/*!
 * Typopo v2.9.0 (https://typopo.org)
 * Copyright 2015–2026 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */
(function(f,h){typeof exports=="object"&&typeof module<"u"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(f=typeof globalThis<"u"?globalThis:f||self,h(f.typopo={}))})(this,(function(f){"use strict";const h="‚|'|‘|’|ʼ|‛|´|`|′|‹|›",B="„|“|”|\"|«|»|″|,{2,}|‚{2,}|[‘’ʼ'‹›′´`]{2,}",L="    ",S="\\.!?",v=",:;"+S,n={singleQuoteAdepts:h,apostrophe:"’",singlePrime:"′",backtick:"`",doubleQuoteAdepts:B,doublePrime:"″",space:" ",nbsp:" ",hairSpace:" ",narrowNbsp:" ",spaces:L,terminalPunctuation:S,sentencePausePunctuation:",:;",sentencePunctuation:v,openingBrackets:"\\(\\[\\{",closingBrackets:"\\)\\]\\}",ellipsis:"…",hyphen:"-",enDash:"–",emDash:"—",slash:"/",degree:"°",multiplicationSign:"×",ampersand:"&",sectionSign:"§",paragraphSign:"¶",copyright:"©",soundRecordingCopyright:"℗",registeredTrademark:"®",serviceMark:"℠",trademark:"™",plus:"+",minus:"−",plusMinus:"±",percent:"%",permille:"‰",permyriad:"‱",numberSign:"#",numeroSign:"№",romanNumerals:"IVXLCDM",urlPattern:"((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|agency|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|cloud|com|company|coop|c[acdfghiklmnoruvxyz])|(?:dev|d[ejkmoz])|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|guide|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om|one)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|(?:shop|store|s[abcdeghijklmnortuvyz])|(?:tel|travel|team|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|(?:work|w[fs])|(?:xyz)|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)",emailPattern:"[a-zA-Z0-9\\+\\.\\_\\%\\-]{1,256}\\@[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}(\\.[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25})+",filenamePattern:"\\b[a-zA-Z0-9_%\\-]+\\.(ai|asm|bat|bmp|c|cpp|cs|css|csv|dart|doc|docx|exe|gif|go|html|ics|java|jpeg|jpg|js|json|key|kt|less|lua|log|md|mp4|odp|ods|odt|pdf|php|pl|png|ppt|pptx|psd|py|r|rar|rb|rs|scala|scss|sh|svg|sql|swift|tar.gz|tar|tex|tiff|ts|txt|vbs|xml|xls|xlsx|yaml|yml|zip)\\b"},W={quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},directSpeechIntro:":",dashWords:{spaceBefore:n.nbsp,dash:n.enDash,spaceAfter:n.space},spaceAfter:{copyright:n.space,soundRecordingCopyright:n.space,numeroSign:n.nbsp,sectionSign:n.nbsp,paragraphSign:n.nbsp,abbreviation:n.nbsp},spaceBefore:{percent:n.nbsp},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},ordinalDate:{firstSpace:n.nbsp,secondSpace:n.nbsp},singleWordAbbreviations:["č","fol","např","odst","par","r","s","str","sv","tj","tzv"],multipleWordAbbreviations:["hl m","n l","p n l","př n l"]},N={quotes:{leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},directSpeechIntro:",",dashWords:{spaceBefore:"",dash:n.emDash,spaceAfter:""},spaceAfter:{copyright:n.nbsp,soundRecordingCopyright:n.nbsp,numeroSign:n.nbsp,sectionSign:n.nbsp,paragraphSign:n.nbsp,abbreviation:""},spaceBefore:{percent:""},numbers:{ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},ordinalDate:{firstSpace:n.nbsp,secondSpace:n.nbsp},singleWordAbbreviations:["p","pp","no","vol"],multipleWordAbbreviations:["U S","e g","i e","a m","p m"]},q={quotes:{leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},directSpeechIntro:":",dashWords:{spaceBefore:n.hairSpace,dash:n.emDash,spaceAfter:n.hairSpace},spaceAfter:{copyright:n.nbsp,soundRecordingCopyright:n.nbsp,numeroSign:n.nbsp,sectionSign:n.narrowNbsp,paragraphSign:n.narrowNbsp,abbreviation:n.nbsp},spaceBefore:{percent:n.nbsp},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},ordinalDate:{firstSpace:n.nbsp,secondSpace:n.nbsp},singleWordAbbreviations:["ціт","ст","канц","абз","тзв","Зб","ч","напр"],multipleWordAbbreviations:["т зн","Е Ч","евід ч","род ч","т ч","т д"]},I={quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},directSpeechIntro:":",dashWords:{spaceBefore:n.hairSpace,dash:n.emDash,spaceAfter:n.hairSpace},spaceAfter:{copyright:n.nbsp,soundRecordingCopyright:n.nbsp,numeroSign:n.nbsp,sectionSign:n.narrowNbsp,paragraphSign:n.narrowNbsp,abbreviation:n.nbsp},spaceBefore:{percent:n.nbsp},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},ordinalDate:{firstSpace:n.nbsp,secondSpace:n.nbsp},singleWordAbbreviations:["č","cit","čl","fol","napr","odst","par","r","roč","s","str","sv","tzv","vyd"],multipleWordAbbreviations:["hl m","n l","p n l","pr n l","s a","s l","t č","t j","zodp red"]},C={quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},directSpeechIntro:":",dashWords:{spaceBefore:n.hairSpace,dash:n.enDash,spaceAfter:n.hairSpace},spaceAfter:{copyright:n.nbsp,soundRecordingCopyright:n.nbsp,numeroSign:n.nbsp,sectionSign:n.nbsp,paragraphSign:n.nbsp,abbreviation:n.nbsp},spaceBefore:{percent:n.narrowNbsp},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},ordinalDate:{firstSpace:n.nbsp,secondSpace:n.space},singleWordAbbreviations:["Bhf","ca","Di","Do","Fr","geb","gest","Hbf","Mi","Mo","Nr","S","Sa","So","St","Stk","u","usw","z"],multipleWordAbbreviations:["b w","d h","d i","e V","Ges m b H","n Chr","n u Z","s a","s o","s u","u a m","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","v u Z","z B","z T","z Zt"]},$={cs:W,"en-us":N,rue:q,sk:I,"de-de":C},w="en-us";class z{constructor(t){$[t]||(console.warn(`Locale '${t}' not found, falling back to '${w}'`),t=w),this.ID=t,this.leftSingleQuote=$[t].quotes.leftSingleQuote,this.rightSingleQuote=$[t].quotes.rightSingleQuote,this.leftDoubleQuote=$[t].quotes.leftDoubleQuote,this.rightDoubleQuote=$[t].quotes.rightDoubleQuote,this.terminalQuotes=this.rightSingleQuote+this.rightDoubleQuote,this.directSpeechIntro=$[t].directSpeechIntro,this.dashWords=$[t].dashWords,this.spaceAfter=$[t].spaceAfter,this.spaceBefore=$[t].spaceBefore,this.ordinalIndicator=$[t].numbers.ordinalIndicator,this.romanOrdinalIndicator=$[t].numbers.romanOrdinalIndicator,this.ordinalDate=$[t].ordinalDate,this.singleWordAbbreviations=[];for(const r in $)this.singleWordAbbreviations=this.singleWordAbbreviations.concat($[r].singleWordAbbreviations);this.multipleWordAbbreviations=[];for(const r in $)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat($[r].multipleWordAbbreviations);const p=[];for(const r in $){const s=$[r].directSpeechIntro;s&&!p.includes(s)&&p.push(s)}this.directSpeechIntroAdepts=p.join("")}}function M(e){return e.replace(/[\n\r]{2,}/gm,`
`)}function b(e,t,p){let s=0,o=e,c="";for(;o!==c&&s<50;)c=o,o=o.replace(t,p),s++;return o}function U(e){return b(e,new RegExp(`([\\p{L}]{2,})([${n.nbsp}${n.narrowNbsp}])([\\p{L}]{2,})`,"gu"),"$1 $3")}function E(e,t){return e=b(e,new RegExp(`(^|[${n.space}]|[^\\p{L}\\d${n.apostrophe}${n.plus}${n.minus}${n.hyphen}])([\\p{Ll}])([${n.space}])`,"gu"),`$1$2${n.nbsp}`),e=e.replace(new RegExp(`(^|[${n.sentencePunctuation}${n.ellipsis}${n.copyright}${n.registeredTrademark}${n.soundRecordingCopyright}])([${n.spaces}]?)([\\p{Lu}])([${n.spaces}])`,"gu"),`$1$2$3${n.nbsp}`),t.ID=="en-us"&&(e=e.replace(new RegExp(`(^|[${n.spaces}])(I)([${n.spaces}])`,"g"),`$1$2${n.nbsp}`)),e}function T(e){return e.replace(new RegExp(`([${n.spaces}])(${n.ampersand})([${n.spaces}])`,"g"),` $2${n.nbsp}`)}function O(e){return e.replace(new RegExp(`([^${n.nbsp}\\d]|^)(\\d{1,2})([${n.spaces}])([\\p{L}])`,"gu"),`$1$2${n.nbsp}$4`)}function j(e,t){return e.replace(new RegExp(`([^${n.nbsp}\\d_%\\-]|^)(\\d{1,2})(${t.ordinalIndicator})([${n.spaces}]?)([\\p{L}])`,"gu"),`$1$2$3${n.nbsp}$5`)}function Z(e,t){return e.replace(new RegExp(`(\\d{1,2})(\\.)([${n.spaces}]?)(\\d{1,2})(\\.)([${n.spaces}]?)(\\d{4})`,"g"),`$1$2${t.ordinalDate.firstSpace}$4$5${t.ordinalDate.secondSpace}$7`)}function _(e,t){return t.romanOrdinalIndicator!=""?e.replace(new RegExp(`(\\b[\\p{Lu}][\\p{L}]?${t.romanOrdinalIndicator}[${n.spaces}]?)?(\\b)([${n.romanNumerals}]+)(${t.romanOrdinalIndicator})([${n.spaces}]?)([\\p{L}\\d])`,"gu"),function(p,r,s,o,c,u,i){return r?p:`${s}${o}${c}${n.nbsp}${i}`}):e}function X(e,t){let p=`(\\b[\\p{Lu}][\\p{Ll}]+?)([${n.spaces}])([${n.romanNumerals}]+\\b)(${t.romanOrdinalIndicator})([${n.nbsp}]?)`,r=new RegExp(p,"gu");return e.replace(r,function(s,o,c,u,i,l){return l==""&&u=="I"?o+n.space+u+i:l==""&&u!="I"?o+n.nbsp+u+i:l==n.nbsp&&u=="I"?o+n.space+u+i+l:o+n.nbsp+u+i+n.space})}function F(e,t){return e.replace(new RegExp(`(\\d)([${n.spaces}])([${n.percent}${n.permille}${n.permyriad}])`,"gu"),`$1${t.spaceBefore.percent}$3`)}function H(e,t){let p=`([^${n.sentencePunctuation}${n.ellipsis}${n.closingBrackets}${t.rightDoubleQuote}${t.rightSingleQuote}${n.apostrophe}${n.multiplicationSign}${n.emDash}${n.enDash}])([${n.spaces}])([\\p{Lu}])([${n.spaces}]|\\.$|$)`,r=new RegExp(p,"gu");return e.replace(r,function(s,o,c,u,i){return t.ID==="en-us"&&u==="I"?s:t.ID==="en-us"?o+n.nbsp+u+i:u==="I"&&i&&n.spaces.includes(i)?o+n.nbsp+u+n.space:o+n.nbsp+u+i})}function G(e,t,p){return p=p!==void 0?p:n.nbsp,e.replace(new RegExp(`(${t})([^${n.spaces}${t}])`,"g"),`$1${p}$2`)}function V(e,t,p){return p=p!==void 0?p:n.nbsp,e.replace(new RegExp(`(${t})([${n.spaces}]+)`,"g"),`$1${p}`)}function Y(e,t){return e=U(e),e=E(e,t),e=T(e),e=O(e),e=j(e,t),e=Z(e,t),e=_(e,t),e=H(e,t),e=X(e,t),e=F(e,t),e}function J(e){return e.replace(new RegExp(`(\\S)([${n.spaces}]{2,})(\\S)`,"g"),"$1 $3")}function K(e,t){let p=e.split(/\r?\n/),r=new RegExp("(^\\s+)([-\\*\\+\\>]*)","g");for(let s=0;s<p.length;s++)p[s]=p[s].replace(r,function(o,c,u){return t.removeWhitespacesBeforeMarkdownList==!1&&u!=""?c+u:u});return p.join(`
`)}function ee(e){let t=e.split(/\r?\n/),p=new RegExp("(\\s+$)","g");for(let r=0;r<t.length;r++)t[r]=t[r].replace(p,"");return t.join(`
`)}function ne(e){return e.replace(new RegExp(`([${n.spaces}])([${n.sentencePausePunctuation}])([^\\-\\)]|$)`,"g"),"$2$3")}function te(e){return e.replace(new RegExp(`([^${n.openingBrackets}])([${n.spaces}])([${n.terminalPunctuation}${n.closingBrackets}${n.degree}])`,"g"),"$1$3")}function pe(e,t){return e.replace(new RegExp(`(\\d)([${n.spaces}]?)(${t.ordinalIndicator})([${n.spaces}]|\\b)`,"g"),"$1$3$4")}function re(e){return e.replace(new RegExp(`([${n.openingBrackets}])([${n.spaces}])([^${n.closingBrackets}])`,"g"),"$1$3")}function ae(e){return e.replace(new RegExp(`([\\p{L}])([${n.openingBrackets}])([\\p{L}${n.ellipsis}])([\\p{L}${n.ellipsis}${n.closingBrackets}])`,"gu"),function(t,p,r,s,o){return s=="s"|s=="S"|s+o=="es"|s+o=="ES"?`${p}${r}${s}${o}`:`${p}${n.space}${r}${s}${o}`})}function se(e){return e.replace(new RegExp(`([\\p{L}]{2,}|[${n.ellipsis}])([${n.terminalPunctuation}])([\\p{Lu}])`,"gu"),"$1$2 $3")}function oe(e){return e.replace(new RegExp(`([\\p{L}]{2,}|[${n.ellipsis}])([${n.sentencePausePunctuation}])([\\p{L}])`,"gu"),"$1$2 $3")}function ue(e){return e.replace(new RegExp(`([${n.closingBrackets}])([\\p{L}])`,"gu"),"$1 $2")}function ce(e,t){return e.replace(new RegExp(`([^${n.spaces}${n.openingBrackets}${t}])(${t})`,"g"),`$1${n.space}$2`)}function ie(e,t,p){return e=J(e),e=K(e,p),e=ee(e),e=ne(e),e=te(e),e=pe(e,t),e=re(e),e=ae(e),e=se(e),e=ue(e),e=oe(e),e}function $e(e){return e.replace(new RegExp("\\.{2}(?![\\\\/])","g"),".")}function le(e){return $e(e)}function de(e){return e.replace(new RegExp(`[${n.ellipsis}\\.]{3,}`,"g"),n.ellipsis)}function fe(e){return e.replace(new RegExp(`\\.${n.ellipsis}|${n.ellipsis}{2,}|${n.ellipsis}\\.`,"g"),n.ellipsis)}function he(e){return e.replace(new RegExp(`[${n.spaces}]\\.{2}[${n.spaces}]`,"g"),`${n.space}${n.ellipsis}${n.space}`)}function be(e){return e.replace(new RegExp(`(,)([${n.spaces}]?)(${n.ellipsis})([${n.spaces}]?)(,)`,"g"),`$1 ${n.ellipsis}$5`)}function me(e){return e.replace(new RegExp(`(,)([${n.spaces}]?)(${n.ellipsis})([${n.spaces}]?)(\\B|[${n.closingBrackets}])([^,]|$)`,"g"),"$1$3$5$6")}function ge(e){return e.replace(new RegExp(`(^${n.ellipsis})([${n.spaces}])([\\p{L}])`,"gmu"),"$1$3")}function xe(e,t){return e.replace(new RegExp(`([^${t.terminalQuotes}])([${n.sentencePunctuation}])([${n.spaces}]?)([${n.ellipsis}])([${n.spaces}]?)([\\p{Ll}])`,"gu"),"$1$2 $4$6")}function Se(e){return e.replace(new RegExp(`([\\p{Ll}])([${n.spaces}])([${n.ellipsis}])([${n.spaces}]?)([\\p{Lu}])`,"gu"),"$1$3 $5")}function we(e){return e.replace(new RegExp(`([\\p{L}])([${n.ellipsis}])([\\p{L}])`,"gu"),"$1$2 $3")}function Ee(e,t){return e.replace(new RegExp(`([${n.sentencePunctuation}${t.terminalQuotes}])([${n.spaces}]?)(${n.ellipsis})([${n.spaces}]?)([\\p{Lu}])`,"gu"),"$1 $3 $5")}function Ae(e,t){return e.replace(new RegExp(`([\\p{Ll}])([${n.spaces}])+([${n.ellipsis}][${t.rightDoubleQuote}${t.rightSingleQuote}]?$)`,"gmu"),"$1$3")}function Re(e,t){return e=de(e),e=be(e),e=me(e),e=ge(e),e=xe(e,t),e=Se(e),e=we(e),e=Ee(e,t),e=Ae(e,t),e=fe(e),e=he(e),e}const a={apos:"",singlePrime:"",doublePrime:"",lsq:"",rsq:"",lsqUnpaired:"",rsqUnpaired:"",ldq:"",rdq:"",ldqUnpaired:"",rdqUnpaired:"",enDash:"",tick:""},A=57856,R=63743,De=R-A+1;function D(e){const t=A+e;if(t>R)throw new Error(`Exception index ${e} exceeds PUA limit (max ${De}). Text contains too many exceptions (emails/URLs/filenames). Consider processing the text in smaller chunks.`);return String.fromCharCode(t)}function Qe(e,t){return e.replace(new RegExp(`([\\p{L}\\d])([${n.spaces}]*[${n.enDash}${n.emDash}]{1,3}[${n.spaces}]*|[${n.spaces}]+[${n.hyphen}]{1,3}[${n.spaces}]+)([\\p{L}\\d])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}${t.dashWords.spaceAfter}$3`)}function Pe(e,t){return e.replace(new RegExp(`([\\p{L}])([${n.spaces}]?)([${n.hyphen}${n.enDash}${n.emDash}]{1,3})([${n.spaces}]?)([${n.sentencePunctuation}\\n\\r])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}$5`)}function ke(e,t){return e=e.replace(new RegExp(`([${n.openingBrackets}])[${n.spaces}]*([${n.hyphen}${n.enDash}${n.emDash}]+)[${n.spaces}]*([${n.closingBrackets}])`,"gu"),"$1$2$3"),e=e.replace(new RegExp(`([\\p{L}])[${n.spaces}]*[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]*([${n.openingBrackets}])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}${t.dashWords.spaceAfter}$2`),e=e.replace(new RegExp(`([${n.closingBrackets}])[${n.spaces}]*[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]*([\\p{L}])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}${t.dashWords.spaceAfter}$2`),e=e.replace(new RegExp(`([\\p{L}])[${n.spaces}]*[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]*([${n.closingBrackets}])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}${t.dashWords.spaceAfter}$2`),e=e.replace(new RegExp(`([${n.openingBrackets}])[${n.spaces}]*[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]*([\\p{L}])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}${t.dashWords.spaceAfter}$2`),e=e.replace(new RegExp(`([${n.closingBrackets}])[${n.spaces}]*[${n.hyphen}${n.enDash}${n.emDash}][${n.spaces}]*([${n.openingBrackets}])`,"gu"),`$1${t.dashWords.spaceBefore}${t.dashWords.dash}${t.dashWords.spaceAfter}$2`),e}function ye(e){return e=b(e,new RegExp(`(\\d)([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]?)(\\d)`,"gu"),`$1${a.enDash}$3`),e.replace(new RegExp(`${a.enDash}`,"g"),n.enDash)}function Be(e){return e.replace(new RegExp(`([${n.percent}${n.permille}${n.permyriad}])([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]?)(\\d)`,"gu"),`$1${n.enDash}$3`)}function Le(e,t){return e.replace(new RegExp(`(\\d)(${t.ordinalIndicator})([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}]{1,3}[${n.spaces}]?)(\\d)(${t.ordinalIndicator})`,"giu"),`$1$2${n.enDash}$4$5`)}function ve(e,t){return e=Qe(e,t),e=Pe(e,t),e=ke(e,t),e=ye(e),e=Be(e),e=Le(e,t),e}function Q(e,t){return t.keepMarkdownCodeBlocks?e.replace(/(\s*)(```)/g,`$1${a.tick}${a.tick}${a.tick}`).replace(/(``)(.*?)(``)/g,`${a.tick}${a.tick}$2${a.tick}${a.tick}`).replace(/(`)(.*?)(`)/g,`${a.tick}$2${a.tick}`):e}function P(e,t){return t.keepMarkdownCodeBlocks?e.replace(new RegExp(`${a.tick}`,"g"),"`"):e}function We(e){return e.replace(new RegExp(`([^${n.romanNumerals}])([${n.sentencePunctuation}])([${n.sentencePausePunctuation}])(${n.doubleQuoteAdepts})`,"g"),"$1$2$4")}function Ne(e){return e.replace(new RegExp(`([^${n.romanNumerals}])([${n.sentencePunctuation}])(${n.doubleQuoteAdepts})([${n.sentencePunctuation}])`,"g"),"$1$2$3")}function qe(e){return e=e.replace(new RegExp(`([^0-9]|^)(${n.doubleQuoteAdepts})(.+?)(\\d+)(${n.doubleQuoteAdepts})([${n.terminalPunctuation}${n.ellipsis}])`,"g"),"$1$2$3$4$6$5"),e=e.replace(new RegExp(`(\\b\\d{1,3})([${n.spaces}]?)(${n.doubleQuoteAdepts})`,"g"),`$1$2${a.doublePrime}`),e}function Ie(e){return e=e.replace(new RegExp(`(${n.doubleQuoteAdepts})(\\d+)(${a.doublePrime})`,"g"),`${a.ldq}$2${a.rdq}`),e=e.replace(new RegExp(`(${n.doubleQuoteAdepts})(.*?)(${n.doubleQuoteAdepts})`,"g"),`${a.ldq}$2${a.rdq}`),e}function Ce(e){return e.replace(new RegExp(`(${n.doubleQuoteAdepts})([0-9\\p{L}])`,"gu"),`${a.ldqUnpaired}$2`)}function ze(e){return e.replace(new RegExp(`([\\p{L}${n.sentencePunctuation}${n.ellipsis}])(${n.doubleQuoteAdepts})`,"gu"),`$1${a.rdqUnpaired}`)}function Me(e){return e.replace(new RegExp(`([${n.spaces}])(${n.doubleQuoteAdepts})([${n.spaces}])`,"gu"),"$1")}function Ue(e){return e.replace(new RegExp(`(${a.ldqUnpaired})(.*?)(${a.doublePrime})`,"g"),`${a.ldq}$2${a.rdq}`).replace(new RegExp(`(${a.doublePrime})(.*?)(${a.rdqUnpaired})`,"g"),`${a.ldq}$2${a.rdq}`)}function Te(e,t){return e.replace(new RegExp(`(${t.leftDoubleQuote})([^${n.spaces}${t.rightDoubleQuote}]+?)([^${n.romanNumerals}${n.sentencePunctuation}])([${n.sentencePunctuation}]{1,})(${t.rightDoubleQuote})`,"g"),(p,r,s,o,c,u)=>c.length===1&&/[.,;:]/.test(c)?r+s+o+u+c:p)}function Oe(e,t){return e=e.replace(new RegExp(`(${t.leftDoubleQuote})(.+)([${n.spaces}])(?!${t.leftDoubleQuote})([^${n.romanNumerals}]{2,})(${t.rightDoubleQuote})([${n.sentencePunctuation}${n.ellipsis}])`,"g"),"$1$2$3$4$6$5"),e=e.replace(new RegExp(`([:;])(${t.rightDoubleQuote})`,"g"),"$2$1"),e}function je(e,t){return[{pattern:a.doublePrime,replacement:n.doublePrime},{pattern:`[${a.ldq}${a.ldqUnpaired}]`,replacement:t.leftDoubleQuote},{pattern:`[${a.rdq}${a.rdqUnpaired}]`,replacement:t.rightDoubleQuote}].reduce((r,{pattern:s,replacement:o})=>r.replace(new RegExp(s,"gu"),o),e)}function Ze(e,t){return e=e.replace(new RegExp(`(${t.leftDoubleQuote})([${n.spaces}])`,"g"),"$1"),e=e.replace(new RegExp(`([${n.spaces}])(${t.rightDoubleQuote})`,"g"),"$2"),e=e.replace(new RegExp(`([${n.spaces}])(${n.doublePrime})`,"g"),"$2"),e}function _e(e,t){return e=e.replace(new RegExp(`([${n.sentencePunctuation}\\p{L}])([${t.leftDoubleQuote}])`,"gu"),"$1 $2"),e=E(e,t),e}function Xe(e,t){return e.replace(new RegExp(`([${t.rightDoubleQuote}])([\\p{L}])`,"gu"),"$1 $2")}function Fe(e,t){const p=`${n.hyphen}${n.enDash}${n.emDash}`;return e=e.replace(new RegExp(`([\\p{L}])[${t.directSpeechIntroAdepts}]?[${n.spaces}]*[${p}][${n.spaces}]*([${t.leftDoubleQuote}].+?[${t.rightDoubleQuote}])`,"gu"),`$1${t.directSpeechIntro} $2`),e=e.replace(new RegExp(`([\\p{L}])[${t.directSpeechIntroAdepts}][${n.spaces}]*([${t.leftDoubleQuote}].+?[${t.rightDoubleQuote}])`,"gu"),`$1${t.directSpeechIntro} $2`),e=e.replace(new RegExp(`([${t.leftDoubleQuote}].+?[${t.rightDoubleQuote}])[${n.spaces}]*[${p}][${n.spaces}]*([\\p{L}])`,"gu"),"$1 $2"),e=e.replace(new RegExp(`^[${n.spaces}]*[${p}][${n.spaces}]*([${t.leftDoubleQuote}].+?[${t.rightDoubleQuote}])`,"g"),"$1"),e=e.replace(new RegExp(`([${n.terminalPunctuation}${n.ellipsis}])[${n.spaces}]+[${p}][${n.spaces}]*([${t.leftDoubleQuote}].+?[${t.rightDoubleQuote}])`,"g"),"$1 $2"),e}function He(e,t,p){return p=p||{},e=Q(e,p),e=We(e),e=Ne(e),e=qe(e),e=Ie(e),e=Ce(e),e=ze(e),e=Me(e),e=Ue(e),e=je(e,t),e=P(e,p),e=Ze(e,t),e=_e(e,t),e=Xe(e,t),e=Fe(e,t),e=Te(e,t),e=Oe(e,t),e}function Ge(e){return[["dead","buried"],["drill","bass"],["drum","bass"],["rock","roll"],["pick","mix"],["fish","chips"],["salt","shake"],["mac","cheese"],["pork","beans"],["drag","drop"],["rake","scrape"],["hook","kill"]].forEach(p=>{e=e.replace(new RegExp(`(${p[0]})([${n.spaces}]?)(${n.singleQuoteAdepts})(n)(${n.singleQuoteAdepts})([${n.spaces}]?)(${p[1]})`,"gi"),`$1${n.nbsp}${a.apos}$4${a.apos}${n.nbsp}$7`)}),e}function Ve(e){let t="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould";return e.replace(new RegExp(`(${n.singleQuoteAdepts})(${t})`,"gi"),`${a.apos}$2`)}function Ye(e){return e.replace(new RegExp(`(\\Bin)(${n.singleQuoteAdepts})`,"gi"),`$1${a.apos}`)}function Je(e){return e.replace(new RegExp(`([\\d\\p{L}])(${n.singleQuoteAdepts})+([\\p{L}])`,"gu"),`$1${a.apos}$3`)}function Ke(e){return e.replace(new RegExp(`([^0-9]|[A-Z][0-9])([${n.spaces}])(${n.singleQuoteAdepts})([\\d]{2})`,"gu"),`$1$2${a.apos}$4`)}function en(e){return e.replace(/(\d)( ?)('|‘|’|‛|′)/g,`$1$2${a.singlePrime}`)}function nn(e){return e.replace(new RegExp(`(^|[${n.spaces}${n.emDash}${n.enDash}])(${n.singleQuoteAdepts}|,)([\\p{L}${n.ellipsis}${n.openingBrackets}\\{])`,"gu"),`$1${a.lsqUnpaired}$3`)}function tn(e){return e.replace(new RegExp(`([\\p{L}${n.closingBrackets}\\}])([${n.sentencePunctuation}${n.ellipsis}])?(${n.singleQuoteAdepts})([ ${n.sentencePunctuation}])?`,"gu"),`$1$2${a.rsqUnpaired}$4`)}function pn(e){return e.replace(new RegExp(`(${n.doubleQuoteAdepts})(.*?)(${n.doubleQuoteAdepts})`,"gu"),function(t,p,r,s){return r=nn(r),r=tn(r),r=rn(r),p+r+s})}function rn(e){return e.replace(new RegExp(`(${a.lsqUnpaired})(.*)(${a.rsqUnpaired})`,"gu"),`${a.lsq}$2${a.rsq}`)}function an(e){return e.replace(new RegExp(`(\\B)(${n.singleQuoteAdepts})([\\p{L}]+)(${n.singleQuoteAdepts})(\\B)`,"gu"),`$1${a.lsq}$3${a.rsq}$5`)}function sn(e){return e.replace(new RegExp(`(${n.singleQuoteAdepts})`,"g"),`${a.apos}`)}function on(e){return e=e.replace(new RegExp(`(${a.lsqUnpaired})(.*?)(${a.singlePrime})`,"g"),`${a.lsq}$2${a.rsq}`),e=e.replace(new RegExp(`(${a.singlePrime})(.*?)(${a.rsqUnpaired})`,"g"),`${a.lsq}$2${a.rsq}`),e}function un(e,t){return e.replace(new RegExp(`(${t.leftSingleQuote})([^${n.spaces}${t.rightSingleQuote}]+?)([^${n.romanNumerals}${n.sentencePunctuation}])([${n.sentencePunctuation}]{1,})(${t.rightSingleQuote})`,"g"),(p,r,s,o,c,u)=>c.length===1&&/[.,;:]/.test(c)?r+s+o+u+c:p)}function cn(e,t){return e=e.replace(new RegExp(`(${t.leftSingleQuote})(.+)([${n.spaces}])(?!${t.leftSingleQuote})([^${n.romanNumerals}]{2,})(${t.rightSingleQuote})([${n.sentencePunctuation}${n.ellipsis}])([^${t.rightDoubleQuote}])`,"g"),"$1$2$3$4$6$5$7"),e=e.replace(new RegExp(`([:;])(${t.rightSingleQuote})`,"g"),"$2$1"),e=e.replace(new RegExp(`([${n.terminalPunctuation}${n.ellipsis}])(${t.rightSingleQuote})(${t.rightDoubleQuote})`,"g"),"$2$1$3"),e}function $n(e){return e.replace(new RegExp(`([${n.spaces}])(${n.singlePrime})`,"g"),"$2")}function ln(e,t){return[{pattern:a.singlePrime,replacement:n.singlePrime},{pattern:`[${a.apos}${a.lsqUnpaired}${a.rsqUnpaired}]`,replacement:n.apostrophe},{pattern:a.lsq,replacement:t.leftSingleQuote},{pattern:a.rsq,replacement:t.rightSingleQuote}].reduce((r,{pattern:s,replacement:o})=>r.replace(new RegExp(s,"gu"),o),e)}function dn(e,t,p){return p=p||{},e=Q(e,p),e=Ge(e),e=Ve(e),e=Je(e),e=Ke(e),e=Ye(e),e=en(e),e=an(e),e=pn(e),e=on(e),e=sn(e),e=ln(e,t),e=P(e,p),e=un(e,t),e=cn(e,t),e=$n(e),e}function fn(e){return b(e,new RegExp(`([\\d]+)([${n.spaces}]?[\\p{Ll}${n.singlePrime}${n.doublePrime}]*)([${n.spaces}][x][${n.spaces}])([\\d]+)([${n.spaces}]?[\\p{Ll}${n.singlePrime}${n.doublePrime}]*)`,"giu"),`$1$2${n.nbsp}${n.multiplicationSign}${n.nbsp}$4$5`)}function hn(e){return b(e,new RegExp(`([\\p{L}]+)([${n.spaces}][x][${n.spaces}])([\\p{L}]+)`,"gu"),`$1${n.nbsp}${n.multiplicationSign}${n.nbsp}$3`)}function bn(e){return e.replace(new RegExp(`([\\d])([${n.spaces}]?)([x|×])([${n.spaces}])([\\p{Ll}]+)`,"giu"),function(t,p,r,s,o,c){return r==""?`${p}${r}${n.multiplicationSign}${n.nbsp}${c}`:`${p}${n.nbsp}${n.multiplicationSign}${n.nbsp}${c}`})}function mn(e){return e.replace(new RegExp(`([\\d]+)([${n.singlePrime}${n.doublePrime}])?([x|×])([\\d]+)([${n.singlePrime}${n.doublePrime}])?`,"giu"),`$1$2${n.nbsp}${n.multiplicationSign}${n.nbsp}$4$5`)}function gn(e){return e=fn(e),e=hn(e),e=bn(e),e=mn(e),e}function m(e,t,p){return e=ce(e,t),e=G(e,t,p),e=V(e,t,p),e}function xn(e,t){return e=m(e,n.sectionSign,t.spaceAfter.sectionSign),e=m(e,n.paragraphSign,t.spaceAfter.paragraphSign),e}function k(e,t,p){return e.replace(new RegExp(`(\\(${t}\\))([${n.spaces}]*)(\\d)`,"gi"),`${p}$2$3`)}function Sn(e,t){return e=k(e,"c",n.copyright),e=m(e,n.copyright,t.spaceAfter.copyright),e=k(e,"p",n.soundRecordingCopyright),e=m(e,n.soundRecordingCopyright,t.spaceAfter.soundRecordingCopyright),e}function wn(e,t){return e=m(e,n.numeroSign,t.spaceAfter.numeroSign),e}function En(e){return e.replace(new RegExp("(\\+\\-)|(\\-\\+)","g"),n.plusMinus)}function g(e,t,p){return e.replace(new RegExp(`([^0-9]|^)([${n.spaces}]*)(\\(${t}\\)|${p})`,"gi"),`$1${p}`)}function An(e){return e=g(e,"r",n.registeredTrademark),e=g(e,"sm",n.serviceMark),e=g(e,"tm",n.trademark),e}function y(e,t,p){let r="m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym";return e.replace(new RegExp(`([${n.spaces}${n.slash}])(${r})(${t})`,"g"),`$1$2${p}`)}function Rn(e){return y(e,"2","²")}function Dn(e){return y(e,"3","³")}function Qn(e){return e=Rn(e),e=Dn(e),e}function Pn(e){return e.replace(new RegExp(`([${n.spaces}]+)(${n.numberSign})([${n.spaces}]+)(\\d)`,"g"),"$1$2$4")}function kn(e){return e=Pn(e),e}function yn(e,t){const p=`([\\p{Lu}][\\p{L}]?\\.)([${n.spaces}]?)`,r="([\\p{L}]{2,}[^\\.])",s=[{pattern:`${p}${r}`,replacement:`$1${n.nbsp}$3`},{pattern:`${p}${p}${r}`,replacement:`$1${t.spaceAfter.abbreviation}$3${n.space}$5`},{pattern:`${p}${p}${p}${r}`,replacement:`$1${t.spaceAfter.abbreviation}$3${t.spaceAfter.abbreviation}$5${n.space}$7`}];for(const{pattern:o,replacement:c}of s)e=e.replace(new RegExp(o,"gu"),c);return e}function Bn(e,t){let p=`([^\\p{L}${n.enDash}${n.emDash}]|^)`,r="([\\p{L}]|\\D)",s=`([^\\p{L}${t.leftDoubleQuote}${t.leftSingleQuote}${n.backtick}\\p{Emoji}]|$)`,o=[];for(let c=0;c<t.multipleWordAbbreviations.length;c++){let u=t.multipleWordAbbreviations[c].split(" "),i="";for(let l=0;l<u.length;l++)i+=`(${u[l]})(\\.)([${n.spaces}]?)`;o[c]=i}for(let c=0;c<o.length;c++){let u=`${p}${o[c]}${r}`,i="$1",l=(o[c].match(/\(/g)||[]).length/3;for(let d=0;d<l-1;d++)i+=`$${d*3+2}.${t.spaceAfter.abbreviation}`;i+=`$${(l-1)*3+2}. $${l*3+2}`,e=e.replace(new RegExp(u,"giu"),i)}for(let c=0;c<o.length;c++){let u=`${p}${o[c]}${s}`,i="$1",l=(o[c].match(/\(/g)||[]).length/3;for(let d=0;d<l-1;d++)i+=`$${d*3+2}.${t.spaceAfter.abbreviation}`;i+=`$${(l-1)*3+2}.$${l*3+2}`,e=e.replace(new RegExp(u,"giu"),i)}return e}function Ln(e,t){let p=[];for(let u=0;u<t.singleWordAbbreviations.length;u++)p[u]=`(${t.singleWordAbbreviations[u]})(\\.)([${n.spaces}]?)`;let r=`([^\\p{L}${n.enDash}${n.emDash}${n.nbsp}\\.]|^)`,s="([\\p{L}\\d]+)([^\\.]|$)";for(let u=0;u<p.length;u++)e=e.replace(new RegExp(`${r}${p[u]}${s}`,"giu"),`$1$2$3${n.nbsp}$5$6`);let o=`([\\p{L}\\d])([${n.spaces}])`,c=`([^${n.spaces}\\p{L}\\d]|$)`;for(let u=0;u<p.length;u++)e=e.replace(new RegExp(`${o}${p[u]}${c}`,"giu"),`$1${n.nbsp}$3$4$5$6`);return e}function vn(e,t){return e=yn(e,t),e=Bn(e,t),e=Ln(e,t),e}function Wn(e){return e=e.replace(new RegExp("([^\\p{L}]|^)([\\p{Lu}]{2})([\\p{Ll}]{2,})","gu"),function(t,p,r,s){return`${p}${r.substring(0,1)}${r.substring(1).toLowerCase()}${s}`}),e.replace(new RegExp("(\\b)(?!iOS)([\\p{Ll}])([\\p{Lu}]{2,})","gu"),function(t,p,r,s){return`${p}${r.toUpperCase()}${s.toLowerCase()}`})}function Nn(e){return e.replace(new RegExp(`(issn)(:?)([${n.spaces}]?)(\\d{4})([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}][${n.spaces}]?)(\\d{4})`,"gi"),`ISSN$2${n.nbsp}$4-$6`)}function qn(e){let t=`([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}][${n.spaces}]?)`;return e.replace(new RegExp(`(isbn)(:?)([${n.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${n.nbsp}$4-$6-$8-$10`)}function In(e){let t=`([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}][${n.spaces}]?)`;return e.replace(new RegExp(`(isbn)(:?)([${n.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${n.nbsp}$4-$6-$8-$10-$12`)}function Cn(e){let t=`([${n.spaces}]?[${n.hyphen}${n.enDash}${n.emDash}][${n.spaces}]?)`;return e.replace(new RegExp("(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+?)","g"),"$1-$3-$5-$7-$9")}function zn(e){return e=Nn(e),e=qn(e),e=In(e),e=Cn(e),e}function Mn(e){let t=[];return x(e,n.emailPattern,t),x(e,n.urlPattern,t),x(e,n.filenamePattern,t),{processedText:Un(e,t),exceptions:t}}function x(e,t,p){const r=new RegExp(t,"gi"),s=e.match(r);return s&&s.forEach(o=>p.push(o)),p}function Un(e,t){return t.reduce((p,r,s)=>{const o=D(s);return p.replace(r,o)},e)}function Tn(e,t){return t.reduce((p,r,s)=>{const o=D(s),c=new RegExp(o,"g");return p.replace(c,r)},e)}function On(e,t,p){t=typeof t>"u"?"en-us":t;let r=new z(t);p=typeof p>"u"?{removeLines:!0,removeWhitespacesBeforeMarkdownList:!0,keepMarkdownCodeBlocks:!1}:p;const{processedText:s,exceptions:o}=Mn(e);return e=s,p.removeLines&&(e=M(e)),e=Re(e,r),e=ie(e,r,p),e=le(e),e=ve(e,r),e=dn(e,r,p),e=He(e,r,p),e=gn(e),e=xn(e,r),e=Sn(e,r),e=wn(e,r),e=En(e),e=An(e),e=Qn(e),e=kn(e),e=Wn(e),e=zn(e),e=vn(e,r),e=Y(e,r),e=Tn(e,o),e}f.fixTypos=On,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})}));

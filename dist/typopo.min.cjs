/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */
(function(m,g){typeof exports=="object"&&typeof module!="undefined"?g(exports):typeof define=="function"&&define.amd?define(["exports"],g):(m=typeof globalThis!="undefined"?globalThis:m||self,g(m.typopo={}))})(this,function(m){"use strict";const d={cs:{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","např","sv","tj","tzv"],multipleWordAbbreviations:["hl m","n l","p n l","př n l"]},"en-us":{quotes:{leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},numbers:{ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},singleWordAbbreviations:["p","pp","no","vol"],multipleWordAbbreviations:["U S","e g","i e","a m","p m"]},rue:{quotes:{leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["ціт","ст","канц","абз","тзв","Зб","ч","напр"],multipleWordAbbreviations:["т зн","Е Ч","евід ч","род ч","т ч","т д"]},sk:{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["č","s","fol","str","r","par","odst","napr","sv","tzv","čl","cit","roč","vyd"],multipleWordAbbreviations:["hl m","n l","p n l","pr n l","s a","s l","t j","zodp red","t č"]},"de-de":{quotes:{leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},numbers:{ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},singleWordAbbreviations:["S","z","St","Stk","Mo","Di","Mi","Do","Fr","Sa","So","Bhf","Hbf","Nr","ca","usw","geb","gest","u"],multipleWordAbbreviations:["b w","d h","d i","e V","n Chr","s a","s o","s u","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","z B","z T","z Zt","n u Z","u a m","v u Z","Ges m b H"]}};class C{constructor(e){this.locale=e,this.nonLatinLowercase="áäčďéěíĺľňóôöőŕřšťúüűůýŷžабвгґдезіийклмнопрстуфъыьцчжшїщёєюях",this.nonLatinUppercase="ÁÄČĎÉĚÍĹĽŇÓÔÖŐŔŘŠŤÚÜŰŮÝŶŽАБВГҐДЕЗІИЙКЛМНОПРСТУФЪЫЬЦЧЖШЇЩЁЄЮЯХ",this.nonLatinChars=this.nonLatinLowercase+this.nonLatinUppercase,this.lowercaseChars="a-z"+this.nonLatinLowercase,this.uppercaseChars="A-Z"+this.nonLatinUppercase,this.allChars=this.lowercaseChars+this.uppercaseChars,this.singleQuoteAdepts="‚|'|‘|’|ʼ|‛|´|`|′|‹|›",this.leftSingleQuote=d[e].quotes.leftSingleQuote,this.rightSingleQuote=d[e].quotes.rightSingleQuote,this.apostrophe="’",this.singlePrime="′",this.backtick="`",this.doubleQuoteAdepts="„|“|”|\"|«|»|″|,{2,}|‘{2,}|’{2,}|'{2,}|‹{2,}|›{2,}|′{2,}|´{2,}|`{2,}",this.leftDoubleQuote=d[e].quotes.leftDoubleQuote,this.rightDoubleQuote=d[e].quotes.rightDoubleQuote,this.doublePrime="″",this.space=" ",this.nbsp=" ",this.hairSpace=" ",this.narrowNbsp=" ",this.spaces=this.space+this.nbsp+this.hairSpace+this.narrowNbsp,this.terminalPunctuation="\\.\\!\\?",this.terminalQuotes=this.rightSingleQuote+this.rightDoubleQuote,this.sentencePausePunctuation="\\,\\:\\;",this.sentencePunctuation=this.sentencePausePunctuation+this.terminalPunctuation,this.openingBrackets="\\(\\[\\{",this.closingBrackets="\\)\\]\\}",this.ellipsis="…",this.hyphen="-",this.enDash="–",this.emDash="—",this.slash="/",this.degree="°",this.multiplicationSign="×",this.ampersand="&",this.sectionSign="§",this.copyright="©",this.soundRecordingCopyright="℗",this.registeredTrademark="®",this.serviceMark="℠",this.trademark="™",this.plus="+",this.minus="−",this.plusMinus="±",this.percent="%",this.permille="‰",this.permyriad="‱",this.numberSign="#",this.urlPattern="((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|agency|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|cloud|com|company|coop|c[acdfghiklmnoruvxyz])|(?:dev|d[ejkmoz])|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|guide|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om|one)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|(?:shop|store|s[abcdeghijklmnortuvyz])|(?:tel|travel|team|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|(?:work|w[fs])|(?:xyz)|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)",this.emailPattern="[a-zA-Z0-9\\+\\.\\_\\%\\-]{1,256}\\@[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}(\\.[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25})+",this.filenamePattern="\\b[a-zA-Z0-9_%\\-]+\\.(ai|asm|bat|bmp|c|cpp|cs|css|csv|dart|doc|docx|exe|gif|go|html|ics|java|jpeg|jpg|js|json|key|kt|less|lua|log|md|mp4|odp|ods|odt|pdf|php|pl|png|ppt|pptx|psd|py|r|rar|rb|rs|scala|scss|sh|svg|sql|swift|tar.gz|tar|tex|tiff|ts|txt|vbs|xml|xls|xlsx|yaml|yml|zip)\\b",this.cardinalNumber="\\d",this.ordinalIndicator=d[e].numbers.ordinalIndicator,this.romanNumerals="IVXLCDM",this.romanOrdinalIndicator=d[e].numbers.romanOrdinalIndicator,this.singleWordAbbreviations=[];for(e in d)this.singleWordAbbreviations=this.singleWordAbbreviations.concat(d[e].singleWordAbbreviations);this.multipleWordAbbreviations=[];for(e in d)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat(d[e].multipleWordAbbreviations)}}function Q(n){return n.replace(/[\n\r]{2,}/gm,"\n")}function c(n,e,t){let p=0,u=n,i="";for(;u!==i&&p<50;)i=u,u=u.replace(e,t),p++;return u}function P(n,e){return c(n,new RegExp("([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,})")+"([".concat(e.nbsp).concat(e.narrowNbsp,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,})"),"g"),"$1 $3")}function E(n,e){let t="(^|[".concat(e.space,"]|[^").concat(e.allChars).concat(e.cardinalNumber).concat(e.apostrophe).concat(e.plus).concat(e.minus).concat(e.hyphen,"])")+"([".concat(e.lowercaseChars,"])")+"([".concat(e.space,"])"),r=new RegExp(t,"g"),p="$1$2".concat(e.nbsp);return n=c(n,r,p),t="(^|[".concat(e.sentencePunctuation)+"".concat(e.ellipsis)+"".concat(e.copyright)+"".concat(e.registeredTrademark)+"".concat(e.soundRecordingCopyright,"]")+")"+"([".concat(e.spaces,"]?)")+"([".concat(e.uppercaseChars,"])")+"([".concat(e.spaces,"])"),r=new RegExp(t,"g"),p="$1$2$3".concat(e.nbsp),n=n.replace(r,p),e.locale=="en-us"&&(n=n.replace(new RegExp("(^|[".concat(e.spaces,"])")+"(I)"+"([".concat(e.spaces,"])"),"g"),"$1$2".concat(e.nbsp))),n}function D(n,e){return n.replace(new RegExp("([".concat(e.spaces,"])(").concat(e.ampersand,")([").concat(e.spaces,"])"),"g")," $2".concat(e.nbsp))}function v(n,e){return n.replace(new RegExp("([^".concat(e.nbsp).concat(e.cardinalNumber,"]|^)")+"(".concat(e.cardinalNumber,"{1,2})")+"([".concat(e.spaces,"])")+"([".concat(e.allChars,"])"),"g"),"$1$2"+"".concat(e.nbsp)+"$4")}function k(n,e){return n.replace(new RegExp("([^"+e.nbsp+e.cardinalNumber+"_%\\-]|^)("+e.cardinalNumber+"{1,2})("+e.ordinalIndicator+")(["+e.spaces+"]?)(["+e.allChars+"])","g"),"$1$2$3"+e.nbsp+"$5")}function N(n,e){let t="";switch(e.locale){case"en-us":case"rue":case"sk":case"cs":t="$1$2"+e.nbsp+"$4$5"+e.nbsp+"$7";break;case"de-de":t="$1$2"+e.nbsp+"$4$5"+e.space+"$7";break}return n.replace(new RegExp("("+e.cardinalNumber+")("+e.ordinalIndicator+")(["+e.spaces+"]?)("+e.cardinalNumber+")("+e.ordinalIndicator+")(["+e.spaces+"]?)("+e.cardinalNumber+")","g"),t)}function W(n,e){return e.romanOrdinalIndicator!=""?n.replace(new RegExp("(\\b)(["+e.romanNumerals+"]+)("+e.romanOrdinalIndicator+")(["+e.spaces+"]?)(["+e.allChars+e.cardinalNumber+"])","g"),"$1$2$3"+e.nbsp+"$5"):n}function B(n,e){let t="(\\b["+e.uppercaseChars+"]["+e.lowercaseChars+"]+?)(["+e.spaces+"])(["+e.romanNumerals+"]+\\b)("+e.romanOrdinalIndicator+")(["+e.nbsp+"]?)",r=new RegExp(t,"g");return n.replace(r,function(p,u,i,s,$,a){return a==""&&s=="I"?u+e.space+s+$:a==""&&s!="I"?u+e.nbsp+s+$:a==e.nbsp&&s=="I"?u+e.space+s+$+a:u+e.nbsp+s+$+e.space})}function q(n,e){return n.replace(new RegExp("(["+e.spaces+"])(["+e.percent+e.permille+e.permyriad+"])","g"),e.nbsp+"$2")}function I(n,e){let t=e.uppercaseChars;e.locale=="en-us"&&(t=t.replace(/A-Z/g,"A-HJ-Z"));let r="([^"+e.sentencePunctuation+e.ellipsis+e.closingBrackets+e.rightDoubleQuote+e.rightSingleQuote+e.apostrophe+e.multiplicationSign+e.emDash+e.enDash+"])(["+e.spaces+"])(["+t+"])((["+e.spaces+"])|(\\.$|$))",p=new RegExp(r,"g");return n.replace(p,function(u,i,s,$,a,o){return e.locale=="en-us"?i+e.nbsp+$+a:$=="I"&&(o==e.nbsp||o==e.hairSpace||o==e.narrowNbsp)?i+e.nbsp+$+e.space:i+e.nbsp+$+a})}function z(n,e,t){return n.replace(new RegExp("("+e+")([^"+t.spaces+"])","g"),"$1"+t.nbsp+"$2")}function L(n,e,t){return n.replace(new RegExp("("+e+")(["+t.spaces+"])","g"),"$1"+t.nbsp)}function M(n,e){return n=P(n,e),n=E(n,e),n=D(n,e),n=v(n,e),n=k(n,e),n=N(n,e),n=W(n,e),n=I(n,e),n=B(n,e),n=q(n,e),n}function T(n,e){return n.replace(new RegExp("(\\S)"+"([".concat(e.spaces,"]{2,})")+"(\\S)","g"),"$1 $3")}function j(n,e,t){let r=n.split(/\r?\n/),p="(^\\s+)([-\\*\\+]*)",u=new RegExp(p,"g");for(let i=0;i<r.length;i++)r[i]=r[i].replace(u,function(s,$,a){return t.removeWhitespacesBeforeMarkdownList==!1&&a!=""?$+a:a});return r.join("\n")}function O(n){let e=n.split(/\r?\n/),t="(\\s+$)",r=new RegExp(t,"g");for(let p=0;p<e.length;p++)e[p]=e[p].replace(r,"");return e.join("\n")}function Z(n,e){return n.replace(new RegExp("([".concat(e.spaces,"])([").concat(e.sentencePausePunctuation,"])([^\\-\\)]|$)"),"g"),"$2$3")}function H(n,e){return n.replace(new RegExp("([".concat(e.spaces,"])")+"([".concat(e.terminalPunctuation).concat(e.closingBrackets).concat(e.degree,"])"),"g"),"$2")}function F(n,e){return n.replace(new RegExp("(".concat(e.cardinalNumber,")")+"([".concat(e.spaces,"]?)")+"(".concat(e.ordinalIndicator,")")+"([".concat(e.spaces,"]|\\b)"),"g"),"$1$3$4")}function U(n,e){return n.replace(new RegExp("([".concat(e.openingBrackets,"])")+"([".concat(e.spaces,"])"),"g"),"$1")}function X(n,e){return n.replace(new RegExp("([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])")+"([".concat(e.openingBrackets,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars).concat(e.ellipsis,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars).concat(e.ellipsis).concat(e.closingBrackets,"])"),"g"),function(t,r,p,u,i){return u=="s"|u=="S"|u+i=="es"|u+i=="ES"?"".concat(r).concat(p).concat(u).concat(i):"".concat(r).concat(e.space).concat(p).concat(u).concat(i)})}function G(n,e){return n.replace(new RegExp("([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,}|[").concat(e.ellipsis,"])")+"([".concat(e.terminalPunctuation,"])")+"([".concat(e.uppercaseChars,"])"),"g"),"$1$2 $3")}function V(n,e){return n.replace(new RegExp("([".concat(e.lowercaseChars).concat(e.uppercaseChars,"]{2,}|[").concat(e.ellipsis,"])")+"([".concat(e.sentencePausePunctuation,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),"g"),"$1$2 $3")}function Y(n,e){return n.replace(new RegExp("([".concat(e.closingBrackets,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),"g"),"$1 $2")}function J(n,e,t){return n.replace(new RegExp("([^".concat(t.spaces).concat(t.openingBrackets,"])(").concat(e,")"),"g"),"$1".concat(t.space,"$2"))}function K(n,e,t){return n=T(n,e),n=j(n,e,t),n=O(n),n=Z(n,e),n=H(n,e),n=F(n,e),n=U(n,e),n=X(n,e),n=G(n,e),n=Y(n,e),n=V(n,e),n}function l(n){return n.replace(new RegExp("\\.{2}(?![\\\\/])","g"),".")}function ee(n){return l(n)}function ne(n,e){return n.replace(new RegExp("[".concat(e.ellipsis,"\\.]{3,}"),"g"),e.ellipsis)}function te(n,e){return n.replace(new RegExp("\\.".concat(e.ellipsis,"|")+"".concat(e.ellipsis,"{2,}|")+"".concat(e.ellipsis,"\\."),"g"),e.ellipsis)}function re(n,e){return n.replace(new RegExp("[".concat(e.spaces,"]\\.{2}[").concat(e.spaces,"]"),"g"),"".concat(e.space).concat(e.ellipsis).concat(e.space))}function pe(n,e){return n.replace(new RegExp("(,)"+"([".concat(e.spaces,"]?)")+"(".concat(e.ellipsis,")")+"([".concat(e.spaces,"]?)")+"(,)","g"),"$1 ".concat(e.ellipsis,"$5"))}function se(n,e){return n.replace(new RegExp("(,)"+"([".concat(e.spaces,"]?)")+"(".concat(e.ellipsis,")")+"([".concat(e.spaces,"]?)")+"(\\B|[".concat(e.closingBrackets,"])")+"([^,]|$)","g"),"$1$3$5$6")}function ue(n,e){return n.replace(new RegExp("(^".concat(e.ellipsis,")")+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),"gm"),"$1$3")}function ie(n,e){return n.replace(new RegExp("([".concat(e.sentencePunctuation).concat(e.terminalQuotes,"])")+"([".concat(e.spaces,"]?)")+"([".concat(e.ellipsis,"])")+"([".concat(e.spaces,"]?)")+"([".concat(e.lowercaseChars,"])"),"g"),"$1 $3$5")}function $e(n,e){return n.replace(new RegExp("([".concat(e.lowercaseChars,"])")+"([".concat(e.spaces,"])")+"([".concat(e.ellipsis,"])")+"([".concat(e.spaces,"]?)")+"([".concat(e.uppercaseChars,"])"),"g"),"$1$3 $5")}function ae(n,e){return n.replace(new RegExp("([".concat(e.allChars,"])")+"([".concat(e.ellipsis,"])")+"([".concat(e.allChars,"])"),"g"),"$1$2 $3")}function oe(n,e){return n.replace(new RegExp("([".concat(e.sentencePunctuation).concat(e.terminalQuotes,"])")+"([".concat(e.spaces,"]?)")+"(".concat(e.ellipsis,")")+"([".concat(e.spaces,"]?)")+"([".concat(e.uppercaseChars,"])"),"g"),"$1 $3 $5")}function de(n,e){return n.replace(new RegExp("([".concat(e.lowercaseChars,"])")+"([".concat(e.spaces,"])+")+"([".concat(e.ellipsis,"][").concat(e.rightDoubleQuote).concat(e.rightSingleQuote,"]?$)"),"gm"),"$1$3")}function he(n,e){return n=ne(n,e),n=pe(n,e),n=se(n,e),n=ue(n,e),n=ie(n,e),n=$e(n,e),n=ae(n,e),n=oe(n,e),n=de(n,e),n=te(n,e),n=re(n,e),n}function be(n,e){let t="([".concat(e.allChars,"])")+"(-)"+"([".concat(e.spaces,"])")+"([".concat(e.allChars,"])"),r=new RegExp(t,"g");return n=n.replace(r,"$1-$4"),t="([".concat(e.allChars,"])")+"([".concat(e.spaces,"])")+"(-)"+"([".concat(e.allChars,"])"),r=new RegExp(t,"g"),n=n.replace(r,"$1-$4"),n}function fe(n,e){return n=be(n,e),n}function me(n){return n.replace(/(---)/g,"—")}function ce(n){return n.replace(/(--)/g,"–")}function ge(n,e){let t="([".concat(e.allChars,"])")+"("+"[".concat(e.spaces,"]*[").concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]*")+"|"+"[".concat(e.spaces,"]+[").concat(e.hyphen,"][").concat(e.spaces,"]+")+")"+"([".concat(e.allChars,"])"),r=new RegExp(t,"g"),p="";switch(e.locale){case"en-us":p="$1".concat(e.emDash,"$3");break;case"rue":case"sk":p="$1".concat(e.hairSpace).concat(e.emDash).concat(e.hairSpace,"$3");break;case"cs":p="$1".concat(e.nbsp).concat(e.enDash).concat(e.space,"$3");break;case"de-de":p="$1".concat(e.hairSpace).concat(e.enDash).concat(e.hairSpace,"$3");break}return n.replace(r,p)}function we(n,e){let t="([".concat(e.allChars,"])")+"([".concat(e.spaces,"]?)")+"(".concat(e.hyphen,")")+"([".concat(e.spaces,"]?)")+"([".concat(e.sentencePunctuation,"\\n\\r])"),r=new RegExp(t,"g"),p="";switch(e.locale){case"en-us":p="$1".concat(e.emDash,"$5");break;case"rue":case"sk":p="$1".concat(e.hairSpace).concat(e.emDash,"$5");break;case"cs":p="$1".concat(e.nbsp).concat(e.enDash,"$5");break;case"de-de":p="$1".concat(e.hairSpace).concat(e.enDash,"$5");break}return n.replace(r,p)}function xe(n,e){let t="(".concat(e.cardinalNumber,")")+"([".concat(e.spaces,"]?")+"[".concat(e.hyphen).concat(e.enDash).concat(e.emDash,"]")+"[".concat(e.spaces,"]?)")+"(".concat(e.cardinalNumber,")"),r=new RegExp(t,"g"),p="$1{{typopo__endash}}$3";return n=c(n,r,p),t="{{typopo__endash}}",r=new RegExp(t,"g"),p=e.enDash,n.replace(r,p)}function Ee(n,e){let t="([".concat(e.percent).concat(e.permille).concat(e.permyriad,"])")+"([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)")+"(".concat(e.cardinalNumber,")"),r=new RegExp(t,"g"),p="$1".concat(e.enDash,"$3");return n.replace(r,p)}function Se(n,e){let t="(".concat(e.cardinalNumber,")")+"(".concat(e.ordinalIndicator,")")+"([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)")+"(".concat(e.cardinalNumber,")")+"(".concat(e.ordinalIndicator,")"),r=new RegExp(t,"gi"),p="$1$2".concat(e.enDash,"$4$5");return n.replace(r,p)}function ye(n,e){return n=me(n),n=ce(n),n=ge(n,e),n=we(n,e),n=xe(n,e),n=Ee(n,e),n=Se(n,e),n}const h="{{typopo__markdown_tick}}";function S(n,e){return e.keepMarkdownCodeBlocks?n.replace(/(\s*)(```)/g,"$1".concat(h).concat(h).concat(h)).replace(/(``)(.*?)(``)/g,"".concat(h).concat(h,"$2").concat(h).concat(h)).replace(/(`)(.*?)(`)/g,"".concat(h,"$2").concat(h)):n}function y(n,e){return e.keepMarkdownCodeBlocks?n.replace(new RegExp("".concat(h),"g"),"`"):n}function Ae(n,e){return n.replace(new RegExp("([^".concat(e.romanNumerals,"])")+"([".concat(e.sentencePunctuation,"])")+"([".concat(e.sentencePunctuation,"])")+"(".concat(e.doubleQuoteAdepts,")"),"g"),"$1$2$4")}function Re(n,e){return n.replace(new RegExp("([^".concat(e.romanNumerals,"])")+"([".concat(e.sentencePunctuation,"])")+"(".concat(e.doubleQuoteAdepts,")")+"([".concat(e.sentencePunctuation,"])"),"g"),"$1$2$3")}function _e(n,e){return n=n.replace(new RegExp("([^0-9]|^)"+"(".concat(e.doubleQuoteAdepts,")")+"(.+?)(\\d+)"+"(".concat(e.doubleQuoteAdepts,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])"),"g"),"$1$2$3$4$6$5"),n=n.replace(new RegExp("(\\b\\d{1,3})"+"([".concat(e.spaces,"]?)")+"(“|”|\\\"|″|‘{2,}|’{2,}|'{2,}|′{2,})","g"),"$1$2{{typopo__double-prime}}"),n}function Ce(n,e){return n=n.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"(\\d+)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n=n.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"(.*?)"+"(".concat(e.doubleQuoteAdepts,")"),"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n}function Qe(n,e){return n.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"([0-9".concat(e.lowercaseChars).concat(e.uppercaseChars,"])"),"g"),"{{typopo__left-double-quote--standalone}}$2")}function Pe(n,e){return n.replace(new RegExp("([".concat(e.lowercaseChars).concat(e.uppercaseChars).concat(e.sentencePunctuation).concat(e.ellipsis,"])")+"(".concat(e.doubleQuoteAdepts,")"),"g"),"$1{{typopo__right-double-quote--standalone}}")}function De(n,e){return n.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.doubleQuoteAdepts,")")+"([".concat(e.spaces,"])"),"g"),"$1")}function ve(n){return n.replace(new RegExp("({{typopo__left-double-quote--standalone}})(.*?)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}").replace(new RegExp("({{typopo__double-prime}})(.*?)({{typopo__right-double-quote--standalone}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}")}function ke(n,e){return n=n.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftDoubleQuote,")")+"([^".concat(e.rightDoubleQuote,"]+?)")+"([^".concat(e.romanNumerals).concat(e.closingBrackets,"])")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(".concat(e.rightDoubleQuote,")"),"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftDoubleQuote,")")+"(.+?)"+"([^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars,"])"),"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp("(^".concat(e.leftDoubleQuote)+"[^".concat(e.rightDoubleQuote,"]+?")+"[^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","gm"),"$1$3$2$4"),n=n.replace(new RegExp("([".concat(e.sentencePunctuation,"]")+"[".concat(e.spaces,"]")+"".concat(e.leftDoubleQuote)+"[^".concat(e.rightDoubleQuote,"]+?")+"[^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","g"),"$1$3$2$4"),n=n.replace(new RegExp("([".concat(e.sentencePunctuation,"]")+"[".concat(e.rightDoubleQuote,"]")+"[".concat(e.spaces,"]")+"".concat(e.leftDoubleQuote)+"[^".concat(e.rightDoubleQuote,"]+?")+"[^".concat(e.romanNumerals,"])")+"(".concat(e.rightDoubleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","g"),"$1$3$2$4"),n}function Ne(n,e){return n.replace(/{{typopo__double-prime}}/g,e.doublePrime).replace(/({{typopo__left-double-quote}}|{{typopo__left-double-quote--standalone}})/g,e.leftDoubleQuote).replace(/({{typopo__right-double-quote}}|{{typopo__right-double-quote--standalone}})/g,e.rightDoubleQuote)}function We(n,e){return n.replace(new RegExp("([".concat(e.sentencePunctuation,"])")+"([,])"+"(".concat(e.rightDoubleQuote,")"),"g"),"$1$3")}function Be(n,e){return n=n.replace(new RegExp("(".concat(e.leftDoubleQuote,")")+"([".concat(e.spaces,"])"),"g"),"$1"),n=n.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.rightDoubleQuote,")"),"g"),"$2"),n=n.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.doublePrime,")"),"g"),"$2"),n}function qe(n,e){return n=n.replace(new RegExp("([".concat(e.sentencePunctuation).concat(e.allChars,"])")+"([".concat(e.leftDoubleQuote,"])"),"g"),"$1 $2"),n=E(n,e),n}function Ie(n,e){return n.replace(new RegExp("([".concat(e.rightDoubleQuote,"])")+"([".concat(e.allChars,"])"),"g"),"$1 $2")}function ze(n,e,t){return n=S(n,t),n=Ae(n,e),n=Re(n,e),n=_e(n,e),n=Ce(n,e),n=Qe(n,e),n=Pe(n,e),n=De(n,e),n=ve(n),n=Ne(n,e),n=y(n,t),n=Be(n,e),n=qe(n,e),n=Ie(n,e),n=ke(n,e),n=We(n,e),n}function Le(n,e){return[["dead","buried"],["drill","bass"],["drum","bass"],["rock","roll"],["pick","mix"],["fish","chips"],["salt","shake"],["mac","cheese"],["pork","beans"],["drag","drop"],["rake","scrape"],["hook","kill"]].forEach(r=>{n=n.replace(new RegExp("(".concat(r[0],")")+"([".concat(e.spaces,"]?)")+"(".concat(e.singleQuoteAdepts,")")+"(n)"+"(".concat(e.singleQuoteAdepts,")")+"([".concat(e.spaces,"]?)")+"(".concat(r[1],")"),"gi"),"$1".concat(e.nbsp,"{{typopo__apostrophe}}$4{{typopo__apostrophe}}").concat(e.nbsp,"$7"))}),n}function Me(n,e){let t="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould";return n.replace(new RegExp("(".concat(e.singleQuoteAdepts,")")+"(".concat(t,")"),"gi"),"{{typopo__apostrophe}}$2")}function Te(n,e){return n.replace(new RegExp("(\\Bin)"+"(".concat(e.singleQuoteAdepts,")"),"gi"),"$1{{typopo__apostrophe}}")}function je(n,e){return n.replace(new RegExp("([".concat(e.cardinalNumber).concat(e.allChars,"])")+"(".concat(e.singleQuoteAdepts,")+")+"([".concat(e.allChars,"])"),"g"),"$1{{typopo__apostrophe}}$3")}function Oe(n,e){return n.replace(new RegExp("([^0-9]|[A-Z][0-9])"+"([".concat(e.spaces,"])")+"(".concat(e.singleQuoteAdepts,")")+"([".concat(e.cardinalNumber,"]{2})"),"g"),"$1$2{{typopo__apostrophe}}$4")}function Ze(n){return n.replace(/(\d)( ?)('|‘|’|‛|′)/g,"$1$2{{typopo__single-prime}}")}function He(n,e){return n.replace(new RegExp("([".concat(e.spaces).concat(e.emDash).concat(e.enDash,"])")+"(".concat(e.singleQuoteAdepts,"|,)")+"([".concat(e.allChars,"])"),"g"),"$1{{typopo__left-single-quote--standalone}}$3")}function Fe(n,e){return n.replace(new RegExp("(".concat(e.doubleQuoteAdepts,")")+"(.*?)"+"(".concat(e.doubleQuoteAdepts,")"),"g"),function(t,r,p,u){return p=He(p,e),p=Ue(p,e),p=Xe(p),r+p+u})}function Ue(n,e){return n.replace(new RegExp("([".concat(e.allChars,"])")+"([".concat(e.sentencePunctuation,"])?")+"(".concat(e.singleQuoteAdepts,")")+"([ ".concat(e.sentencePunctuation,"])?"),"g"),"$1$2{{typopo__right-single-quote--standalone}}$4")}function Xe(n){return n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}")}function Ge(n,e){return n.replace(new RegExp("(\\B)"+"(".concat(e.singleQuoteAdepts,")")+"([".concat(e.allChars,"]+)")+"(".concat(e.singleQuoteAdepts,")")+"(\\B)","g"),"$1{{typopo__left-single-quote}}$3{{typopo__right-single-quote}}$5")}function Ve(n,e){return n.replace(new RegExp("(".concat(e.singleQuoteAdepts,")"),"g"),"{{typopo__apostrophe}}")}function Ye(n){return n=n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*?)({{typopo__single-prime}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n=n.replace(new RegExp("({{typopo__single-prime}})(.*?)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n}function Je(n,e){return n=n.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftSingleQuote,")")+"([^".concat(e.rightSingleQuote,"]+?)")+"([^".concat(e.romanNumerals,"])")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(".concat(e.rightSingleQuote,")"),"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp("([^".concat(e.sentencePunctuation,"])")+"([".concat(e.spaces,"])")+"(".concat(e.leftSingleQuote,")")+"(.+?)"+"([^".concat(e.romanNumerals,"])")+"(".concat(e.rightSingleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars,"])"),"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp("([".concat(e.sentencePunctuation,"][").concat(e.spaces,"]|^)")+"(".concat(e.leftSingleQuote,")")+"([^".concat(e.rightSingleQuote,"]+?)")+"([^".concat(e.romanNumerals,"])")+"(".concat(e.rightSingleQuote,")")+"([".concat(e.terminalPunctuation).concat(e.ellipsis,"])")+"(\\B)","g"),"$1$2$3$4$6$5$7"),n}function Ke(n,e){return n.replace(new RegExp("([".concat(e.spaces,"])")+"(".concat(e.singlePrime,")"),"g"),"$2")}function le(n,e){return n=n.replace(/({{typopo__single-prime}})/g,e.singlePrime),n=n.replace(/{{typopo__apostrophe}}|{{typopo__left-single-quote--standalone}}|{{typopo__right-single-quote--standalone}}/g,e.apostrophe),n=n.replace(/{{typopo__left-single-quote}}/g,e.leftSingleQuote),n=n.replace(/{{typopo__right-single-quote}}/g,e.rightSingleQuote),n=n.replace(/{{typopo__markdown_syntax_highlight}}/g,"```"),n}function en(n,e,t){return n=S(n,t),n=Le(n,e),n=Me(n,e),n=je(n,e),n=Oe(n,e),n=Te(n,e),n=Ze(n),n=Ge(n,e),n=Fe(n,e),n=Ye(n),n=Ve(n,e),n=le(n,e),n=y(n,t),n=Je(n,e),n=Ke(n,e),n}function nn(n,e){return c(n,new RegExp("([".concat(e.cardinalNumber,"]+)")+"([".concat(e.spaces,"]?[").concat(e.lowercaseChars).concat(e.singlePrime).concat(e.doublePrime,"]*)")+"([".concat(e.spaces,"][x][").concat(e.spaces,"])")+"([".concat(e.cardinalNumber,"]+)")+"([".concat(e.spaces,"]?[").concat(e.lowercaseChars).concat(e.singlePrime).concat(e.doublePrime,"]*)"),"gi"),"$1$2".concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp,"$4$5"))}function tn(n,e){return c(n,new RegExp("([".concat(e.allChars,"]+)")+"([".concat(e.spaces,"][x][").concat(e.spaces,"])")+"([".concat(e.allChars,"]+)"),"g"),"$1".concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp,"$3"))}function rn(n,e){return n.replace(new RegExp("([".concat(e.cardinalNumber,"])")+"([".concat(e.spaces,"]?)")+"([x|×])"+"([".concat(e.spaces,"])")+"([".concat(e.lowercaseChars,"]+)"),"gi"),function(t,r,p,u,i,s){return p==""?"".concat(r).concat(p).concat(e.multiplicationSign).concat(e.nbsp).concat(s):"".concat(r).concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp).concat(s)})}function pn(n,e){return n.replace(new RegExp("([".concat(e.cardinalNumber,"]+)")+"([".concat(e.singlePrime).concat(e.doublePrime,"])?")+"([x|×])"+"([".concat(e.cardinalNumber,"]+)")+"([".concat(e.singlePrime).concat(e.doublePrime,"])?"),"gi"),"$1$2".concat(e.nbsp).concat(e.multiplicationSign).concat(e.nbsp,"$4$5"))}function sn(n,e){return n=nn(n,e),n=tn(n,e),n=rn(n,e),n=pn(n,e),n}function un(n,e){return n.replace(new RegExp("([^".concat(e.spaces).concat(e.sectionSign).concat(e.openingBrackets,"])")+"(".concat(e.sectionSign,")"),"g"),"$1".concat(e.space,"$2"))}function $n(n,e){return n.replace(new RegExp("(".concat(e.sectionSign,")")+"([^".concat(e.spaces).concat(e.sectionSign,"])"),"g"),"$1".concat(e.nbsp,"$2"))}function an(n,e){return n.replace(new RegExp("(".concat(e.sectionSign,")")+"([".concat(e.spaces,"])"),"g"),"$1".concat(e.nbsp))}function on(n,e){return n=un(n,e),n=$n(n,e),n=an(n,e),n}function A(n,e,t,r){return n.replace(new RegExp("(\\(".concat(e,"\\))")+"([".concat(r.spaces,"]*)")+"(".concat(r.cardinalNumber,")"),"gi"),"".concat(t,"$2$3"))}function R(n,e,t){return n=J(n,e,t),n=z(n,e,t),n=L(n,e,t),n}function dn(n,e){return n=A(n,"c",e.copyright,e),n=R(n,e.copyright,e),n=A(n,"p",e.soundRecordingCopyright,e),n=R(n,e.soundRecordingCopyright,e),n}function hn(n,e){return n.replace(new RegExp("(\\+\\-)|(\\-\\+)","g"),e.plusMinus)}function w(n,e,t,r){return n.replace(new RegExp("([^0-9]|^)"+"([".concat(r.spaces,"]*)")+"(\\(".concat(e,"\\)|").concat(t,")"),"gi"),"$1".concat(t))}function bn(n,e){return n=w(n,"r",e.registeredTrademark,e),n=w(n,"sm",e.serviceMark,e),n=w(n,"tm",e.trademark,e),n}function _(n,e,t,r){let p="m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym";return n.replace(new RegExp("([".concat(e.spaces).concat(e.slash,"])(").concat(p,")(").concat(t,")"),"g"),"$1$2".concat(r))}function fn(n,e){return _(n,e,"2","²")}function mn(n,e){return _(n,e,"3","³")}function cn(n,e){return n=fn(n,e),n=mn(n,e),n}function gn(n,e){return n.replace(new RegExp("([".concat(e.spaces,"]+)")+"(".concat(e.numberSign,")")+"([".concat(e.spaces,"]+)")+"(".concat(e.cardinalNumber,")"),"g"),"$1$2$4")}function wn(n,e){return n=gn(n,e),n}function xn(n,e){let t="([".concat(e.uppercaseChars,"][").concat(e.allChars,"]?\\.)([").concat(e.spaces,"]?)"),r="([".concat(e.allChars,"]{2,}[^\\.])"),p="";switch(e.locale){case"en-us":p="";break;case"rue":case"sk":case"cs":case"de-de":p=e.nbsp;break}let u=t+r,i=new RegExp(u,"g"),s="$1".concat(e.nbsp,"$3");return n=n.replace(i,s),u=t+t+r,i=new RegExp(u,"g"),s="$1".concat(p,"$3").concat(e.space,"$5"),n=n.replace(i,s),u=t+t+t+r,i=new RegExp(u,"g"),s="$1".concat(p,"$3").concat(p,"$5").concat(e.space,"$7"),n=n.replace(i,s),n}function En(n,e){let t="([^"+e.allChars+e.enDash+e.emDash+"]|^)",r="(["+e.allChars+"]|\\D)",p="([^"+e.allChars+e.leftDoubleQuote+e.leftSingleQuote+e.backtick+"\\p{Emoji}]|$)",u="";switch(e.locale){case"en-us":u="";break;case"rue":case"sk":case"cs":case"de-de":u=e.nbsp;break}let i=[];for(let s=0;s<e.multipleWordAbbreviations.length;s++){let $=e.multipleWordAbbreviations[s].split(" "),a="";for(let o=0;o<$.length;o++)a+="("+$[o]+")(\\.)(["+e.spaces+"]?)";i[s]=a}for(let s=0;s<i.length;s++){let $=t+i[s]+r,a=new RegExp($,"gi"),o="$1",b=(i[s].match(/\(/g)||[]).length/3;for(let f=0;f<b-1;f++)o+="$"+(f*3+2)+"."+u;o+="$"+((b-1)*3+2)+". $"+(b*3+2),n=n.replace(a,o)}for(let s=0;s<i.length;s++){let $=t+i[s]+p,a=new RegExp($,"giu"),o="$1",b=(i[s].match(/\(/g)||[]).length/3;for(let f=0;f<b-1;f++)o+="$"+(f*3+2)+"."+u;o+="$"+((b-1)*3+2)+".$"+(b*3+2),n=n.replace(a,o)}return n}function Sn(n,e){let t=[];for(let s=0;s<e.singleWordAbbreviations.length;s++)t[s]="("+e.singleWordAbbreviations[s]+")(\\.)(["+e.spaces+"]?)";let r="([^"+e.allChars+e.enDash+e.emDash+e.nbsp+"\\.]|^)",p="(["+e.allChars+"\\d]+)([^\\.]|$)";for(let s=0;s<t.length;s++){let $=r+t[s]+p,a=new RegExp($,"gi"),o="$1$2$3"+e.nbsp+"$5$6";n=n.replace(a,o)}let u="(["+e.allChars+"\\d])(["+e.spaces+"])",i="([^"+e.spaces+e.allChars+"\\d]|$)";for(let s=0;s<t.length;s++){let $=u+t[s]+i,a=new RegExp($,"gi"),o="$1"+e.nbsp+"$3$4$5$6";n=n.replace(a,o)}return n}function yn(n,e){return n=xn(n,e),n=En(n,e),n=Sn(n,e),n}function An(n,e){let t="([^".concat(e.allChars,"]|^)")+"([".concat(e.uppercaseChars,"]{2})")+"([".concat(e.lowercaseChars,"]{2,})"),r=new RegExp(t,"g");return n=n.replace(r,function(p,u,i,s){return"".concat(u).concat(i.substring(0,1)).concat(i.substring(1).toLowerCase()).concat(s)}),t="(\\b)(?!iOS)"+"([".concat(e.lowercaseChars,"])")+"([".concat(e.uppercaseChars,"]{2,})"),r=new RegExp(t,"g"),n=n.replace(r,function(p,u,i,s){return"".concat(u).concat(i.toUpperCase()).concat(s.toLowerCase())}),n}function Rn(n,e){return n.replace(new RegExp("(issn)(:?)"+"([".concat(e.spaces,"]?)")+"(\\d{4})"+"([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)")+"(\\d{4})","gi"),"ISSN$2".concat(e.nbsp,"$4-$6"))}function _n(n,e){let t="([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)");return n.replace(new RegExp("(isbn)(:?)"+"([".concat(e.spaces,"]?)")+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),"ISBN$2".concat(e.nbsp,"$4-$6-$8-$10"))}function Cn(n,e){let t="([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)");return n.replace(new RegExp("(isbn)(:?)"+"([".concat(e.spaces,"]?)")+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),"ISBN$2".concat(e.nbsp,"$4-$6-$8-$10-$12"))}function Qn(n,e){let t="([".concat(e.spaces,"]?[").concat(e.hyphen).concat(e.enDash).concat(e.emDash,"][").concat(e.spaces,"]?)");return n.replace(new RegExp("(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+?)","g"),"$1-$3-$5-$7-$9")}function Pn(n,e){return n=Rn(n,e),n=_n(n,e),n=Cn(n,e),n=Qn(n,e),n}function Dn(n,e){let t=[];return x(n,e.emailPattern,t),x(n,e.urlPattern,t),x(n,e.filenamePattern,t),{processedText:vn(n,t),exceptions:t}}function x(n,e,t){const r=new RegExp(e,"gi"),p=n.match(r);return p&&p.forEach(u=>t.push(u)),t}function vn(n,e){return e.reduce((t,r,p)=>{const u="{{typopo__exception-".concat(p,"}}");return t.replace(r,u)},n)}function kn(n,e){return e.reduce((t,r,p)=>{const u=new RegExp("{{typopo__exception-".concat(p,"}}"),"g");return t.replace(u,r)},n)}/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */function Nn(n,e,t){e=typeof e=="undefined"?"en-us":e;let r=new C(e);t=typeof t=="undefined"?{removeLines:!0,removeWhitespacesBeforeMarkdownList:!0,keepMarkdownCodeBlocks:!1}:t;const{processedText:p,exceptions:u}=Dn(n,r);return n=p,t.removeLines&&(n=Q(n)),n=he(n,r),n=K(n,r,t),n=ee(n),n=ye(n,r),n=fe(n,r),n=en(n,r,t),n=ze(n,r,t),n=sn(n,r),n=on(n,r),n=dn(n,r),n=hn(n,r),n=bn(n,r),n=cn(n,r),n=wn(n,r),n=An(n,r),n=yn(n,r),n=Pn(n,r),n=M(n,r),n=kn(n,u),n}m.fixTypos=Nn,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});

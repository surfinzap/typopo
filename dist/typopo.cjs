/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const A={leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},C={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},Q=["č","s","fol","str","r","par","odst","např","sv","tj","tzv"],P=["hl m","n l","p n l","př n l"],D={quotes:A,numbers:C,singleWordAbbreviations:Q,multipleWordAbbreviations:P},v={leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},k={ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},N=["p","pp","no","vol"],B=["U S","e g","i e","a m","p m"],W={quotes:v,numbers:k,singleWordAbbreviations:N,multipleWordAbbreviations:B},q={leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},I={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},z=["ціт","ст","канц","абз","тзв","Зб","ч","напр"],L=["т зн","Е Ч","евід ч","род ч","т ч","т д"],M={quotes:q,numbers:I,singleWordAbbreviations:z,multipleWordAbbreviations:L},j={leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},T={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},Z=["č","s","fol","str","r","par","odst","napr","sv","tzv","čl","cit","roč","vyd"],O=["hl m","n l","p n l","pr n l","s a","s l","t j","zodp red","t č"],F={quotes:j,numbers:T,singleWordAbbreviations:Z,multipleWordAbbreviations:O},H={leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},U={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},X=["S","z","St","Stk","Mo","Di","Mi","Do","Fr","Sa","So","Bhf","Hbf","Nr","ca","usw","geb","gest","u"],G=["b w","d h","d i","e V","n Chr","s a","s o","s u","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","z B","z T","z Zt","n u Z","u a m","v u Z","Ges m b H"],V={quotes:H,numbers:U,singleWordAbbreviations:X,multipleWordAbbreviations:G},d={cs:D,"en-us":W,rue:M,sk:F,"de-de":V};class J{constructor(e){this.locale=e,this.nonLatinLowercase="áäčďéěíĺľňóôöőŕřšťúüűůýŷžабвгґдезіийклмнопрстуфъыьцчжшїщёєюях",this.nonLatinUppercase="ÁÄČĎÉĚÍĹĽŇÓÔÖŐŔŘŠŤÚÜŰŮÝŶŽАБВГҐДЕЗІИЙКЛМНОПРСТУФЪЫЬЦЧЖШЇЩЁЄЮЯХ",this.nonLatinChars=this.nonLatinLowercase+this.nonLatinUppercase,this.lowercaseChars="a-z"+this.nonLatinLowercase,this.uppercaseChars="A-Z"+this.nonLatinUppercase,this.allChars=this.lowercaseChars+this.uppercaseChars,this.singleQuoteAdepts="‚|'|‘|’|ʼ|‛|´|`|′|‹|›",this.leftSingleQuote=d[e].quotes.leftSingleQuote,this.rightSingleQuote=d[e].quotes.rightSingleQuote,this.apostrophe="’",this.singlePrime="′",this.backtick="`",this.doubleQuoteAdepts="„|“|”|\"|«|»|″|,{2,}|‘{2,}|’{2,}|'{2,}|‹{2,}|›{2,}|′{2,}|´{2,}|`{2,}",this.leftDoubleQuote=d[e].quotes.leftDoubleQuote,this.rightDoubleQuote=d[e].quotes.rightDoubleQuote,this.doublePrime="″",this.space=" ",this.nbsp=" ",this.hairSpace=" ",this.narrowNbsp=" ",this.spaces=this.space+this.nbsp+this.hairSpace+this.narrowNbsp,this.terminalPunctuation="\\.\\!\\?",this.terminalQuotes=this.rightSingleQuote+this.rightDoubleQuote,this.sentencePausePunctuation="\\,\\:\\;",this.sentencePunctuation=this.sentencePausePunctuation+this.terminalPunctuation,this.openingBrackets="\\(\\[\\{",this.closingBrackets="\\)\\]\\}",this.ellipsis="…",this.hyphen="-",this.enDash="–",this.emDash="—",this.slash="/",this.degree="°",this.multiplicationSign="×",this.ampersand="&",this.sectionSign="§",this.copyright="©",this.soundRecordingCopyright="℗",this.registeredTrademark="®",this.serviceMark="℠",this.trademark="™",this.plus="+",this.minus="−",this.plusMinus="±",this.percent="%",this.permille="‰",this.permyriad="‱",this.numberSign="#",this.urlPattern="((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|agency|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|cloud|com|company|coop|c[acdfghiklmnoruvxyz])|(?:dev|d[ejkmoz])|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|guide|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om|one)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|(?:shop|store|s[abcdeghijklmnortuvyz])|(?:tel|travel|team|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|(?:work|w[fs])|(?:xyz)|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)",this.emailPattern="[a-zA-Z0-9\\+\\.\\_\\%\\-]{1,256}\\@[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}(\\.[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25})+",this.filenamePattern="\\b[a-zA-Z0-9_%\\-]+\\.(ai|asm|bat|bmp|c|cpp|cs|css|csv|dart|doc|docx|exe|gif|go|html|ics|java|jpeg|jpg|js|json|key|kt|less|lua|log|md|mp4|odp|ods|odt|pdf|php|pl|png|ppt|pptx|psd|py|r|rar|rb|rs|scala|scss|sh|svg|sql|swift|tar.gz|tar|tex|tiff|ts|txt|vbs|xml|xls|xlsx|yaml|yml|zip)\\b",this.cardinalNumber="\\d",this.ordinalIndicator=d[e].numbers.ordinalIndicator,this.romanNumerals="IVXLCDM",this.romanOrdinalIndicator=d[e].numbers.romanOrdinalIndicator,this.singleWordAbbreviations=[];for(e in d)this.singleWordAbbreviations=this.singleWordAbbreviations.concat(d[e].singleWordAbbreviations);this.multipleWordAbbreviations=[];for(e in d)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat(d[e].multipleWordAbbreviations)}}function K(n){return n.replace(/[\n\r]{2,}/gm,`
`)}function m(n,e,t){let r=0,s=n,u="";for(;s!==u&&r<50;)u=s,s=s.replace(e,t),r++;return s}function Y(n,e){return m(n,new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,})([${e.nbsp}${e.narrowNbsp}])([${e.lowercaseChars}${e.uppercaseChars}]{2,})`,"g"),"$1 $3")}function S(n,e){return n=m(n,new RegExp(`(^|[${e.space}]|[^${e.allChars}${e.cardinalNumber}${e.apostrophe}${e.plus}${e.minus}${e.hyphen}])([${e.lowercaseChars}])([${e.space}])`,"g"),`$1$2${e.nbsp}`),n=n.replace(new RegExp(`(^|[${e.sentencePunctuation}${e.ellipsis}${e.copyright}${e.registeredTrademark}${e.soundRecordingCopyright}])([${e.spaces}]?)([${e.uppercaseChars}])([${e.spaces}])`,"g"),`$1$2$3${e.nbsp}`),e.locale=="en-us"&&(n=n.replace(new RegExp(`(^|[${e.spaces}])(I)([${e.spaces}])`,"g"),`$1$2${e.nbsp}`)),n}function l(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.ampersand})([${e.spaces}])`,"g"),` $2${e.nbsp}`)}function ee(n,e){return n.replace(new RegExp(`([^${e.nbsp}${e.cardinalNumber}]|^)(${e.cardinalNumber}{1,2})([${e.spaces}])([${e.allChars}])`,"g"),`$1$2${e.nbsp}$4`)}function ne(n,e){return n.replace(new RegExp(`([^${e.nbsp}${e.cardinalNumber}_%\\-]|^)(${e.cardinalNumber}{1,2})(${e.ordinalIndicator})([${e.spaces}]?)([${e.allChars}])`,"g"),`$1$2$3${e.nbsp}$5`)}function te(n,e){let t="";switch(e.locale){case"en-us":case"rue":case"sk":case"cs":t=`$1$2${e.nbsp}$4$5${e.nbsp}$7`;break;case"de-de":t=`$1$2${e.nbsp}$4$5${e.space}$7`;break}return n.replace(new RegExp(`(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?)(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?)(${e.cardinalNumber})`,"g"),t)}function re(n,e){return e.romanOrdinalIndicator!=""?n.replace(new RegExp(`(\\b)([${e.romanNumerals}]+)(${e.romanOrdinalIndicator})([${e.spaces}]?)([${e.allChars}${e.cardinalNumber}])`,"g"),`$1$2$3${e.nbsp}$5`):n}function pe(n,e){let t=`(\\b[${e.uppercaseChars}][${e.lowercaseChars}]+?)([${e.spaces}])([${e.romanNumerals}]+\\b)(${e.romanOrdinalIndicator})([${e.nbsp}]?)`,p=new RegExp(t,"g");return n.replace(p,function(r,s,u,$,i,o){return o==""&&$=="I"?s+e.space+$+i:o==""&&$!="I"?s+e.nbsp+$+i:o==e.nbsp&&$=="I"?s+e.space+$+i+o:s+e.nbsp+$+i+e.space})}function se(n,e){var p;const t={"en-us":()=>"",sk:r=>`${r.nbsp}`,cs:r=>`${r.nbsp}`,rue:r=>`${r.nbsp}`,"de-de":r=>`${r.narrowNbsp}`};return n.replace(new RegExp(`(\\d)([${e.spaces}])([${e.percent}${e.permille}${e.permyriad}])`,"g"),`$1${(p=t[e.locale])==null?void 0:p.call(t,e)}$3`)}function $e(n,e){let t=e.uppercaseChars;e.locale=="en-us"&&(t=t.replace(/A-Z/g,"A-HJ-Z"));let p=`([^${e.sentencePunctuation}${e.ellipsis}${e.closingBrackets}${e.rightDoubleQuote}${e.rightSingleQuote}${e.apostrophe}${e.multiplicationSign}${e.emDash}${e.enDash}])([${e.spaces}])([${t}])(([${e.spaces}])|(\\.$|$))`,r=new RegExp(p,"g");return n.replace(r,function(s,u,$,i,o,a){return e.locale=="en-us"?u+e.nbsp+i+o:i=="I"&&(a==e.nbsp||a==e.hairSpace||a==e.narrowNbsp)?u+e.nbsp+i+e.space:u+e.nbsp+i+o})}function ue(n,e,t){return n.replace(new RegExp(`(${e})([^${t.spaces}])`,"g"),`$1${t.nbsp}$2`)}function ie(n,e,t){return n.replace(new RegExp(`(${e})([${t.spaces}])`,"g"),`$1${t.nbsp}`)}function ae(n,e){return n=Y(n,e),n=S(n,e),n=l(n,e),n=ee(n,e),n=ne(n,e),n=te(n,e),n=re(n,e),n=$e(n,e),n=pe(n,e),n=se(n,e),n}function oe(n,e){return n.replace(new RegExp(`(\\S)([${e.spaces}]{2,})(\\S)`,"g"),"$1 $3")}function de(n,e,t){let p=n.split(/\r?\n/),r=new RegExp("(^\\s+)([-\\*\\+]*)","g");for(let s=0;s<p.length;s++)p[s]=p[s].replace(r,function(u,$,i){return t.removeWhitespacesBeforeMarkdownList==!1&&i!=""?$+i:i});return p.join(`
`)}function he(n){let e=n.split(/\r?\n/),t=new RegExp("(\\s+$)","g");for(let p=0;p<e.length;p++)e[p]=e[p].replace(t,"");return e.join(`
`)}function be(n,e){return n.replace(new RegExp(`([${e.spaces}])([${e.sentencePausePunctuation}])([^\\-\\)]|$)`,"g"),"$2$3")}function fe(n,e){return n.replace(new RegExp(`([${e.spaces}])([${e.terminalPunctuation}${e.closingBrackets}${e.degree}])`,"g"),"$2")}function me(n,e){return n.replace(new RegExp(`(${e.cardinalNumber})([${e.spaces}]?)(${e.ordinalIndicator})([${e.spaces}]|\\b)`,"g"),"$1$3$4")}function ce(n,e){return n.replace(new RegExp(`([${e.openingBrackets}])([${e.spaces}])`,"g"),"$1")}function ge(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}])([${e.openingBrackets}])([${e.lowercaseChars}${e.uppercaseChars}${e.ellipsis}])([${e.lowercaseChars}${e.uppercaseChars}${e.ellipsis}${e.closingBrackets}])`,"g"),function(t,p,r,s,u){return s=="s"|s=="S"|s+u=="es"|s+u=="ES"?`${p}${r}${s}${u}`:`${p}${e.space}${r}${s}${u}`})}function we(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,}|[${e.ellipsis}])([${e.terminalPunctuation}])([${e.uppercaseChars}])`,"g"),"$1$2 $3")}function xe(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,}|[${e.ellipsis}])([${e.sentencePausePunctuation}])([${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"$1$2 $3")}function Se(n,e){return n.replace(new RegExp(`([${e.closingBrackets}])([${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"$1 $2")}function Ee(n,e,t){return n.replace(new RegExp(`([^${t.spaces}${t.openingBrackets}])(${e})`,"g"),`$1${t.space}$2`)}function ye(n,e,t){return n=oe(n,e),n=de(n,e,t),n=he(n),n=be(n,e),n=fe(n,e),n=me(n,e),n=ce(n,e),n=ge(n,e),n=we(n,e),n=Se(n,e),n=xe(n,e),n}function Re(n){return n.replace(new RegExp("\\.{2}(?![\\\\/])","g"),".")}function _e(n){return Re(n)}function Ae(n,e){return n.replace(new RegExp(`[${e.ellipsis}\\.]{3,}`,"g"),e.ellipsis)}function Ce(n,e){return n.replace(new RegExp(`\\.${e.ellipsis}|${e.ellipsis}{2,}|${e.ellipsis}\\.`,"g"),e.ellipsis)}function Qe(n,e){return n.replace(new RegExp(`[${e.spaces}]\\.{2}[${e.spaces}]`,"g"),`${e.space}${e.ellipsis}${e.space}`)}function Pe(n,e){return n.replace(new RegExp(`(,)([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)(,)`,"g"),`$1 ${e.ellipsis}$5`)}function De(n,e){return n.replace(new RegExp(`(,)([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)(\\B|[${e.closingBrackets}])([^,]|$)`,"g"),"$1$3$5$6")}function ve(n,e){return n.replace(new RegExp(`(^${e.ellipsis})([${e.spaces}])([${e.lowercaseChars}${e.uppercaseChars}])`,"gm"),"$1$3")}function ke(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}${e.terminalQuotes}])([${e.spaces}]?)([${e.ellipsis}])([${e.spaces}]?)([${e.lowercaseChars}])`,"g"),"$1 $3$5")}function Ne(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}])([${e.spaces}])([${e.ellipsis}])([${e.spaces}]?)([${e.uppercaseChars}])`,"g"),"$1$3 $5")}function Be(n,e){return n.replace(new RegExp(`([${e.allChars}])([${e.ellipsis}])([${e.allChars}])`,"g"),"$1$2 $3")}function We(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}${e.terminalQuotes}])([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)([${e.uppercaseChars}])`,"g"),"$1 $3 $5")}function qe(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}])([${e.spaces}])+([${e.ellipsis}][${e.rightDoubleQuote}${e.rightSingleQuote}]?$)`,"gm"),"$1$3")}function Ie(n,e){return n=Ae(n,e),n=Pe(n,e),n=De(n,e),n=ve(n,e),n=ke(n,e),n=Ne(n,e),n=Be(n,e),n=We(n,e),n=qe(n,e),n=Ce(n,e),n=Qe(n,e),n}function ze(n,e){return n=n.replace(new RegExp(`([${e.allChars}])(-)([${e.spaces}])([${e.allChars}])`,"g"),"$1-$4"),n=n.replace(new RegExp(`([${e.allChars}])([${e.spaces}])(-)([${e.allChars}])`,"g"),"$1-$4"),n}function Le(n,e){return n=ze(n,e),n}function Me(n){return n.replace(/(---)/g,"—")}function je(n){return n.replace(/(--)/g,"–")}function Te(n,e){var p;const t={"en-us":r=>`$1${r.emDash}$3`,rue:r=>`$1${r.hairSpace}${r.emDash}${r.hairSpace}$3`,sk:r=>`$1${r.hairSpace}${r.emDash}${r.hairSpace}$3`,cs:r=>`$1${r.nbsp}${r.enDash}${r.space}$3`,"de-de":r=>`$1${r.hairSpace}${r.enDash}${r.hairSpace}$3`};return n.replace(new RegExp(`([${e.allChars}])([${e.spaces}]*[${e.enDash}${e.emDash}][${e.spaces}]*|[${e.spaces}]+[${e.hyphen}][${e.spaces}]+)([${e.allChars}])`,"g"),((p=t[e.locale])==null?void 0:p.call(t,e))||"")}function Ze(n,e){var p;const t={"en-us":r=>`$1${r.emDash}$5`,rue:r=>`$1${r.hairSpace}${r.emDash}$5`,sk:r=>`$1${r.hairSpace}${r.emDash}$5`,cs:r=>`$1${r.nbsp}${r.enDash}$5`,"de-de":r=>`$1${r.hairSpace}${r.enDash}$5`};return n.replace(new RegExp(`([${e.allChars}])([${e.spaces}]?)(${e.hyphen})([${e.spaces}]?)([${e.sentencePunctuation}\\n\\r])`,"g"),((p=t[e.locale])==null?void 0:p.call(t,e))||"")}function Oe(n,e){return n=m(n,new RegExp(`(${e.cardinalNumber})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})`,"g"),"$1{{typopo__endash}}$3"),n.replace(new RegExp("{{typopo__endash}}","g"),e.enDash)}function Fe(n,e){return n.replace(new RegExp(`([${e.percent}${e.permille}${e.permyriad}])([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})`,"g"),`$1${e.enDash}$3`)}function He(n,e){return n.replace(new RegExp(`(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})(${e.ordinalIndicator})`,"gi"),`$1$2${e.enDash}$4$5`)}function Ue(n,e){return n=Me(n),n=je(n),n=Te(n,e),n=Ze(n,e),n=Oe(n,e),n=Fe(n,e),n=He(n,e),n}const h="{{typopo__markdown_tick}}";function E(n,e){return e.keepMarkdownCodeBlocks?n.replace(/(\s*)(```)/g,`$1${h}${h}${h}`).replace(/(``)(.*?)(``)/g,`${h}${h}$2${h}${h}`).replace(/(`)(.*?)(`)/g,`${h}$2${h}`):n}function y(n,e){return e.keepMarkdownCodeBlocks?n.replace(new RegExp(`${h}`,"g"),"`"):n}function Xe(n,e){return n.replace(new RegExp(`([^${e.romanNumerals}])([${e.sentencePunctuation}])([${e.sentencePunctuation}])(${e.doubleQuoteAdepts})`,"g"),"$1$2$4")}function Ge(n,e){return n.replace(new RegExp(`([^${e.romanNumerals}])([${e.sentencePunctuation}])(${e.doubleQuoteAdepts})([${e.sentencePunctuation}])`,"g"),"$1$2$3")}function Ve(n,e){return n=n.replace(new RegExp(`([^0-9]|^)(${e.doubleQuoteAdepts})(.+?)(\\d+)(${e.doubleQuoteAdepts})([${e.terminalPunctuation}${e.ellipsis}])`,"g"),"$1$2$3$4$6$5"),n=n.replace(new RegExp(`(\\b\\d{1,3})([${e.spaces}]?)(“|”|\\"|″|‘{2,}|’{2,}|'{2,}|′{2,})`,"g"),"$1$2{{typopo__double-prime}}"),n}function Je(n,e){return n=n.replace(new RegExp(`(${e.doubleQuoteAdepts})(\\d+)({{typopo__double-prime}})`,"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n=n.replace(new RegExp(`(${e.doubleQuoteAdepts})(.*?)(${e.doubleQuoteAdepts})`,"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n}function Ke(n,e){return n.replace(new RegExp(`(${e.doubleQuoteAdepts})([0-9${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"{{typopo__left-double-quote--standalone}}$2")}function Ye(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}${e.sentencePunctuation}${e.ellipsis}])(${e.doubleQuoteAdepts})`,"g"),"$1{{typopo__right-double-quote--standalone}}")}function le(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.doubleQuoteAdepts})([${e.spaces}])`,"g"),"$1")}function en(n){return n.replace(new RegExp("({{typopo__left-double-quote--standalone}})(.*?)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}").replace(new RegExp("({{typopo__double-prime}})(.*?)({{typopo__right-double-quote--standalone}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}")}function nn(n,e){return n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftDoubleQuote})([^${e.rightDoubleQuote}]+?)([^${e.romanNumerals}${e.closingBrackets}])([${e.terminalPunctuation}${e.ellipsis}])(${e.rightDoubleQuote})`,"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftDoubleQuote})(.+?)([^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])([${e.spaces}])([${e.lowercaseChars}])`,"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp(`(^${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"gm"),"$1$3$2$4"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.spaces}]${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$3$2$4"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.rightDoubleQuote}][${e.spaces}]${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$3$2$4"),n}function tn(n,e){return n.replace(/{{typopo__double-prime}}/g,e.doublePrime).replace(/({{typopo__left-double-quote}}|{{typopo__left-double-quote--standalone}})/g,e.leftDoubleQuote).replace(/({{typopo__right-double-quote}}|{{typopo__right-double-quote--standalone}})/g,e.rightDoubleQuote)}function rn(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}])([,])(${e.rightDoubleQuote})`,"g"),"$1$3")}function pn(n,e){return n=n.replace(new RegExp(`(${e.leftDoubleQuote})([${e.spaces}])`,"g"),"$1"),n=n.replace(new RegExp(`([${e.spaces}])(${e.rightDoubleQuote})`,"g"),"$2"),n=n.replace(new RegExp(`([${e.spaces}])(${e.doublePrime})`,"g"),"$2"),n}function sn(n,e){return n=n.replace(new RegExp(`([${e.sentencePunctuation}${e.allChars}])([${e.leftDoubleQuote}])`,"g"),"$1 $2"),n=S(n,e),n}function $n(n,e){return n.replace(new RegExp(`([${e.rightDoubleQuote}])([${e.allChars}])`,"g"),"$1 $2")}function un(n,e,t){return n=E(n,t),n=Xe(n,e),n=Ge(n,e),n=Ve(n,e),n=Je(n,e),n=Ke(n,e),n=Ye(n,e),n=le(n,e),n=en(n),n=tn(n,e),n=y(n,t),n=pn(n,e),n=sn(n,e),n=$n(n,e),n=nn(n,e),n=rn(n,e),n}function an(n,e){return[["dead","buried"],["drill","bass"],["drum","bass"],["rock","roll"],["pick","mix"],["fish","chips"],["salt","shake"],["mac","cheese"],["pork","beans"],["drag","drop"],["rake","scrape"],["hook","kill"]].forEach(p=>{n=n.replace(new RegExp(`(${p[0]})([${e.spaces}]?)(${e.singleQuoteAdepts})(n)(${e.singleQuoteAdepts})([${e.spaces}]?)(${p[1]})`,"gi"),`$1${e.nbsp}{{typopo__apostrophe}}$4{{typopo__apostrophe}}${e.nbsp}$7`)}),n}function on(n,e){let t="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould";return n.replace(new RegExp(`(${e.singleQuoteAdepts})(${t})`,"gi"),"{{typopo__apostrophe}}$2")}function dn(n,e){return n.replace(new RegExp(`(\\Bin)(${e.singleQuoteAdepts})`,"gi"),"$1{{typopo__apostrophe}}")}function hn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}${e.allChars}])(${e.singleQuoteAdepts})+([${e.allChars}])`,"g"),"$1{{typopo__apostrophe}}$3")}function bn(n,e){return n.replace(new RegExp(`([^0-9]|[A-Z][0-9])([${e.spaces}])(${e.singleQuoteAdepts})([${e.cardinalNumber}]{2})`,"g"),"$1$2{{typopo__apostrophe}}$4")}function fn(n){return n.replace(/(\d)( ?)('|‘|’|‛|′)/g,"$1$2{{typopo__single-prime}}")}function mn(n,e){return n.replace(new RegExp(`(^|[${e.spaces}${e.emDash}${e.enDash}])(${e.singleQuoteAdepts}|,)([${e.allChars}${e.ellipsis}])`,"g"),"$1{{typopo__left-single-quote--standalone}}$3")}function cn(n,e){return n.replace(new RegExp(`([${e.allChars}])([${e.sentencePunctuation}${e.ellipsis}])?(${e.singleQuoteAdepts})([ ${e.sentencePunctuation}])?`,"g"),"$1$2{{typopo__right-single-quote--standalone}}$4")}function gn(n,e){return n.replace(new RegExp(`(${e.doubleQuoteAdepts})(.*?)(${e.doubleQuoteAdepts})`,"g"),function(t,p,r,s){return r=mn(r,e),r=cn(r,e),r=wn(r),p+r+s})}function wn(n){return n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}")}function xn(n,e){return n.replace(new RegExp(`(\\B)(${e.singleQuoteAdepts})([${e.allChars}]+)(${e.singleQuoteAdepts})(\\B)`,"g"),"$1{{typopo__left-single-quote}}$3{{typopo__right-single-quote}}$5")}function Sn(n,e){return n.replace(new RegExp(`(${e.singleQuoteAdepts})`,"g"),"{{typopo__apostrophe}}")}function En(n){return n=n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*?)({{typopo__single-prime}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n=n.replace(new RegExp("({{typopo__single-prime}})(.*?)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n}function yn(n,e){return n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftSingleQuote})([^${e.rightSingleQuote}]+?)([^${e.romanNumerals}])([${e.terminalPunctuation}${e.ellipsis}])(${e.rightSingleQuote})`,"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftSingleQuote})(.+?)([^${e.romanNumerals}])(${e.rightSingleQuote})([${e.terminalPunctuation}${e.ellipsis}])([${e.spaces}])([${e.lowercaseChars}])`,"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.spaces}]|^)(${e.leftSingleQuote})([^${e.rightSingleQuote}]+?)([^${e.romanNumerals}])(${e.rightSingleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$2$3$4$6$5$7"),n}function Rn(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.singlePrime})`,"g"),"$2")}function _n(n,e){return n=n.replace(/({{typopo__single-prime}})/g,e.singlePrime),n=n.replace(/{{typopo__apostrophe}}|{{typopo__left-single-quote--standalone}}|{{typopo__right-single-quote--standalone}}/g,e.apostrophe),n=n.replace(/{{typopo__left-single-quote}}/g,e.leftSingleQuote),n=n.replace(/{{typopo__right-single-quote}}/g,e.rightSingleQuote),n=n.replace(/{{typopo__markdown_syntax_highlight}}/g,"```"),n}function An(n,e,t){return n=E(n,t),n=an(n,e),n=on(n,e),n=hn(n,e),n=bn(n,e),n=dn(n,e),n=fn(n),n=xn(n,e),n=gn(n,e),n=En(n),n=Sn(n,e),n=_n(n,e),n=y(n,t),n=yn(n,e),n=Rn(n,e),n}function Cn(n,e){return m(n,new RegExp(`([${e.cardinalNumber}]+)([${e.spaces}]?[${e.lowercaseChars}${e.singlePrime}${e.doublePrime}]*)([${e.spaces}][x][${e.spaces}])([${e.cardinalNumber}]+)([${e.spaces}]?[${e.lowercaseChars}${e.singlePrime}${e.doublePrime}]*)`,"gi"),`$1$2${e.nbsp}${e.multiplicationSign}${e.nbsp}$4$5`)}function Qn(n,e){return m(n,new RegExp(`([${e.allChars}]+)([${e.spaces}][x][${e.spaces}])([${e.allChars}]+)`,"g"),`$1${e.nbsp}${e.multiplicationSign}${e.nbsp}$3`)}function Pn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}])([${e.spaces}]?)([x|×])([${e.spaces}])([${e.lowercaseChars}]+)`,"gi"),function(t,p,r,s,u,$){return r==""?`${p}${r}${e.multiplicationSign}${e.nbsp}${$}`:`${p}${e.nbsp}${e.multiplicationSign}${e.nbsp}${$}`})}function Dn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}]+)([${e.singlePrime}${e.doublePrime}])?([x|×])([${e.cardinalNumber}]+)([${e.singlePrime}${e.doublePrime}])?`,"gi"),`$1$2${e.nbsp}${e.multiplicationSign}${e.nbsp}$4$5`)}function vn(n,e){return n=Cn(n,e),n=Qn(n,e),n=Pn(n,e),n=Dn(n,e),n}function kn(n,e){return n.replace(new RegExp(`([^${e.spaces}${e.sectionSign}${e.openingBrackets}])(${e.sectionSign})`,"g"),`$1${e.space}$2`)}function Nn(n,e){return n.replace(new RegExp(`(${e.sectionSign})([^${e.spaces}${e.sectionSign}])`,"g"),`$1${e.nbsp}$2`)}function Bn(n,e){return n.replace(new RegExp(`(${e.sectionSign})([${e.spaces}])`,"g"),`$1${e.nbsp}`)}function Wn(n,e){return n=kn(n,e),n=Nn(n,e),n=Bn(n,e),n}function w(n,e,t,p){return n.replace(new RegExp(`(\\(${e}\\))([${p.spaces}]*)(${p.cardinalNumber})`,"gi"),`${t}$2$3`)}function x(n,e,t){return n=Ee(n,e,t),n=ue(n,e,t),n=ie(n,e,t),n}function qn(n,e){return n=w(n,"c",e.copyright,e),n=x(n,e.copyright,e),n=w(n,"p",e.soundRecordingCopyright,e),n=x(n,e.soundRecordingCopyright,e),n}function In(n,e){return n.replace(new RegExp("(\\+\\-)|(\\-\\+)","g"),e.plusMinus)}function c(n,e,t,p){return n.replace(new RegExp(`([^0-9]|^)([${p.spaces}]*)(\\(${e}\\)|${t})`,"gi"),`$1${t}`)}function zn(n,e){return n=c(n,"r",e.registeredTrademark,e),n=c(n,"sm",e.serviceMark,e),n=c(n,"tm",e.trademark,e),n}function R(n,e,t,p){let r="m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym";return n.replace(new RegExp(`([${e.spaces}${e.slash}])(${r})(${t})`,"g"),`$1$2${p}`)}function Ln(n,e){return R(n,e,"2","²")}function Mn(n,e){return R(n,e,"3","³")}function jn(n,e){return n=Ln(n,e),n=Mn(n,e),n}function Tn(n,e){return n.replace(new RegExp(`([${e.spaces}]+)(${e.numberSign})([${e.spaces}]+)(${e.cardinalNumber})`,"g"),"$1$2$4")}function Zn(n,e){return n=Tn(n,e),n}function _(n){return{"en-us":"",rue:n.nbsp,sk:n.nbsp,cs:n.nbsp,"de-de":n.nbsp}[n.locale]}function On(n,e){const t=_(e),p=`([${e.uppercaseChars}][${e.allChars}]?\\.)([${e.spaces}]?)`,r=`([${e.allChars}]{2,}[^\\.])`,s=[{pattern:`${p}${r}`,replacement:`$1${e.nbsp}$3`},{pattern:`${p}${p}${r}`,replacement:`$1${t}$3${e.space}$5`},{pattern:`${p}${p}${p}${r}`,replacement:`$1${t}$3${t}$5${e.space}$7`}];for(const{pattern:u,replacement:$}of s)n=n.replace(new RegExp(u,"g"),$);return n}function Fn(n,e){let t=`([^${e.allChars}${e.enDash}${e.emDash}]|^)`,p=`([${e.allChars}]|\\D)`,r=`([^${e.allChars}${e.leftDoubleQuote}${e.leftSingleQuote}${e.backtick}\\p{Emoji}]|$)`;const s=_(e);let u=[];for(let $=0;$<e.multipleWordAbbreviations.length;$++){let i=e.multipleWordAbbreviations[$].split(" "),o="";for(let a=0;a<i.length;a++)o+=`(${i[a]})(\\.)([${e.spaces}]?)`;u[$]=o}for(let $=0;$<u.length;$++){let i=`${t}${u[$]}${p}`,o=new RegExp(i,"gi"),a="$1",b=(u[$].match(/\(/g)||[]).length/3;for(let f=0;f<b-1;f++)a+=`$${f*3+2}.${s}`;a+=`$${(b-1)*3+2}. $${b*3+2}`,n=n.replace(o,a)}for(let $=0;$<u.length;$++){let i=`${t}${u[$]}${r}`,o=new RegExp(i,"giu"),a="$1",b=(u[$].match(/\(/g)||[]).length/3;for(let f=0;f<b-1;f++)a+=`$${f*3+2}.${s}`;a+=`$${(b-1)*3+2}.$${b*3+2}`,n=n.replace(o,a)}return n}function Hn(n,e){let t=[];for(let $=0;$<e.singleWordAbbreviations.length;$++)t[$]=`(${e.singleWordAbbreviations[$]})(\\.)([${e.spaces}]?)`;let p=`([^${e.allChars}${e.enDash}${e.emDash}${e.nbsp}\\.]|^)`,r=`([${e.allChars}\\d]+)([^\\.]|$)`;for(let $=0;$<t.length;$++){let i=`${p}${t[$]}${r}`,o=new RegExp(i,"gi"),a=`$1$2$3${e.nbsp}$5$6`;n=n.replace(o,a)}let s=`([${e.allChars}\\d])([${e.spaces}])`,u=`([^${e.spaces}${e.allChars}\\d]|$)`;for(let $=0;$<t.length;$++){let i=`${s}${t[$]}${u}`,o=new RegExp(i,"gi"),a=`$1${e.nbsp}$3$4$5$6`;n=n.replace(o,a)}return n}function Un(n,e){return n=On(n,e),n=Fn(n,e),n=Hn(n,e),n}function Xn(n,e){return n=n.replace(new RegExp(`([^${e.allChars}]|^)([${e.uppercaseChars}]{2})([${e.lowercaseChars}]{2,})`,"g"),function(t,p,r,s){return`${p}${r.substring(0,1)}${r.substring(1).toLowerCase()}${s}`}),n.replace(new RegExp(`(\\b)(?!iOS)([${e.lowercaseChars}])([${e.uppercaseChars}]{2,})`,"g"),function(t,p,r,s){return`${p}${r.toUpperCase()}${s.toLowerCase()}`})}function Gn(n,e){return n.replace(new RegExp(`(issn)(:?)([${e.spaces}]?)(\\d{4})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(\\d{4})`,"gi"),`ISSN$2${e.nbsp}$4-$6`)}function Vn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp(`(isbn)(:?)([${e.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${e.nbsp}$4-$6-$8-$10`)}function Jn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp(`(isbn)(:?)([${e.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${e.nbsp}$4-$6-$8-$10-$12`)}function Kn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp("(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+?)","g"),"$1-$3-$5-$7-$9")}function Yn(n,e){return n=Gn(n,e),n=Vn(n,e),n=Jn(n,e),n=Kn(n,e),n}function ln(n,e){let t=[];return g(n,e.emailPattern,t),g(n,e.urlPattern,t),g(n,e.filenamePattern,t),{processedText:et(n,t),exceptions:t}}function g(n,e,t){const p=new RegExp(e,"gi"),r=n.match(p);return r&&r.forEach(s=>t.push(s)),t}function et(n,e){return e.reduce((t,p,r)=>{const s=`{{typopo__exception-${r}}}`;return t.replace(p,s)},n)}function nt(n,e){return e.reduce((t,p,r)=>{const s=new RegExp(`{{typopo__exception-${r}}}`,"g");return t.replace(s,p)},n)}/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */function tt(n,e,t){e=typeof e>"u"?"en-us":e;let p=new J(e);t=typeof t>"u"?{removeLines:!0,removeWhitespacesBeforeMarkdownList:!0,keepMarkdownCodeBlocks:!1}:t;const{processedText:r,exceptions:s}=ln(n,p);return n=r,t.removeLines&&(n=K(n)),n=Ie(n,p),n=ye(n,p,t),n=_e(n),n=Ue(n,p),n=Le(n,p),n=An(n,p,t),n=un(n,p,t),n=vn(n,p),n=Wn(n,p),n=qn(n,p),n=In(n,p),n=zn(n,p),n=jn(n,p),n=Zn(n,p),n=Xn(n,p),n=Un(n,p),n=Yn(n,p),n=ae(n,p),n=nt(n,s),n}exports.fixTypos=tt;

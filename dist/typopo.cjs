/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const _={leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},A={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},C=["č","s","fol","str","r","par","odst","např","sv","tj","tzv"],Q=["hl m","n l","p n l","př n l"],D={quotes:_,numbers:A,singleWordAbbreviations:C,multipleWordAbbreviations:Q},P={leftDoubleQuote:"“",rightDoubleQuote:"”",leftSingleQuote:"‘",rightSingleQuote:"’"},v={ordinalIndicator:"st|nd|rd|th",romanOrdinalIndicator:""},k=["p","pp","no","vol"],N=["U S","e g","i e","a m","p m"],B={quotes:P,numbers:v,singleWordAbbreviations:k,multipleWordAbbreviations:N},W={leftDoubleQuote:"«",rightDoubleQuote:"»",leftSingleQuote:"‹",rightSingleQuote:"›"},q={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},I=["ціт","ст","канц","абз","тзв","Зб","ч","напр"],z=["т зн","Е Ч","евід ч","род ч","т ч","т д"],L={quotes:W,numbers:q,singleWordAbbreviations:I,multipleWordAbbreviations:z},M={leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},j={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},T=["č","s","fol","str","r","par","odst","napr","sv","tzv","čl","cit","roč","vyd"],Z=["hl m","n l","p n l","pr n l","s a","s l","t j","zodp red","t č"],O={quotes:M,numbers:j,singleWordAbbreviations:T,multipleWordAbbreviations:Z},H={leftDoubleQuote:"„",rightDoubleQuote:"“",leftSingleQuote:"‚",rightSingleQuote:"‘"},U={ordinalIndicator:"\\.",romanOrdinalIndicator:"\\."},X=["S","z","St","Stk","Mo","Di","Mi","Do","Fr","Sa","So","Bhf","Hbf","Nr","ca","usw","geb","gest","u"],F=["b w","d h","d i","e V","n Chr","s a","s o","s u","u a","u ä","u Ä","u dgl","u U","u z","u zw","v a","v Chr","z B","z T","z Zt","n u Z","u a m","v u Z","Ges m b H"],G={quotes:H,numbers:U,singleWordAbbreviations:X,multipleWordAbbreviations:F},d={cs:D,"en-us":B,rue:L,sk:O,"de-de":G};class V{constructor(e){this.locale=e,this.nonLatinLowercase="áäčďéěíĺľňóôöőŕřšťúüűůýŷžабвгґдезіийклмнопрстуфъыьцчжшїщёєюях",this.nonLatinUppercase="ÁÄČĎÉĚÍĹĽŇÓÔÖŐŔŘŠŤÚÜŰŮÝŶŽАБВГҐДЕЗІИЙКЛМНОПРСТУФЪЫЬЦЧЖШЇЩЁЄЮЯХ",this.nonLatinChars=this.nonLatinLowercase+this.nonLatinUppercase,this.lowercaseChars="a-z"+this.nonLatinLowercase,this.uppercaseChars="A-Z"+this.nonLatinUppercase,this.allChars=this.lowercaseChars+this.uppercaseChars,this.singleQuoteAdepts="‚|'|‘|’|ʼ|‛|´|`|′|‹|›",this.leftSingleQuote=d[e].quotes.leftSingleQuote,this.rightSingleQuote=d[e].quotes.rightSingleQuote,this.apostrophe="’",this.singlePrime="′",this.backtick="`",this.doubleQuoteAdepts="„|“|”|\"|«|»|″|,{2,}|‘{2,}|’{2,}|'{2,}|‹{2,}|›{2,}|′{2,}|´{2,}|`{2,}",this.leftDoubleQuote=d[e].quotes.leftDoubleQuote,this.rightDoubleQuote=d[e].quotes.rightDoubleQuote,this.doublePrime="″",this.space=" ",this.nbsp=" ",this.hairSpace=" ",this.narrowNbsp=" ",this.spaces=this.space+this.nbsp+this.hairSpace+this.narrowNbsp,this.terminalPunctuation="\\.\\!\\?",this.terminalQuotes=this.rightSingleQuote+this.rightDoubleQuote,this.sentencePausePunctuation="\\,\\:\\;",this.sentencePunctuation=this.sentencePausePunctuation+this.terminalPunctuation,this.openingBrackets="\\(\\[\\{",this.closingBrackets="\\)\\]\\}",this.ellipsis="…",this.hyphen="-",this.enDash="–",this.emDash="—",this.slash="/",this.degree="°",this.multiplicationSign="×",this.ampersand="&",this.sectionSign="§",this.copyright="©",this.soundRecordingCopyright="℗",this.registeredTrademark="®",this.serviceMark="℠",this.trademark="™",this.plus="+",this.minus="−",this.plusMinus="±",this.percent="%",this.permille="‰",this.permyriad="‱",this.numberSign="#",this.urlPattern="((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|agency|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|cloud|com|company|coop|c[acdfghiklmnoruvxyz])|(?:dev|d[ejkmoz])|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|guide|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om|one)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|(?:shop|store|s[abcdeghijklmnortuvyz])|(?:tel|travel|team|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|(?:work|w[fs])|(?:xyz)|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)",this.emailPattern="[a-zA-Z0-9\\+\\.\\_\\%\\-]{1,256}\\@[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}(\\.[a-zA-Z0-9][a-zA-Z0-9\\-]{0,25})+",this.filenamePattern="\\b[a-zA-Z0-9_%\\-]+\\.(ai|asm|bat|bmp|c|cpp|cs|css|csv|dart|doc|docx|exe|gif|go|html|ics|java|jpeg|jpg|js|json|key|kt|less|lua|log|md|mp4|odp|ods|odt|pdf|php|pl|png|ppt|pptx|psd|py|r|rar|rb|rs|scala|scss|sh|svg|sql|swift|tar.gz|tar|tex|tiff|ts|txt|vbs|xml|xls|xlsx|yaml|yml|zip)\\b",this.cardinalNumber="\\d",this.ordinalIndicator=d[e].numbers.ordinalIndicator,this.romanNumerals="IVXLCDM",this.romanOrdinalIndicator=d[e].numbers.romanOrdinalIndicator,this.singleWordAbbreviations=[];for(e in d)this.singleWordAbbreviations=this.singleWordAbbreviations.concat(d[e].singleWordAbbreviations);this.multipleWordAbbreviations=[];for(e in d)this.multipleWordAbbreviations=this.multipleWordAbbreviations.concat(d[e].multipleWordAbbreviations)}}function J(n){return n.replace(/[\n\r]{2,}/gm,`
`)}function f(n,e,t){let p=0,s=n,u="";for(;s!==u&&p<50;)u=s,s=s.replace(e,t),p++;return s}function K(n,e){return f(n,new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,})([${e.nbsp}${e.narrowNbsp}])([${e.lowercaseChars}${e.uppercaseChars}]{2,})`,"g"),"$1 $3")}function x(n,e){return n=f(n,new RegExp(`(^|[${e.space}]|[^${e.allChars}${e.cardinalNumber}${e.apostrophe}${e.plus}${e.minus}${e.hyphen}])([${e.lowercaseChars}])([${e.space}])`,"g"),`$1$2${e.nbsp}`),n=n.replace(new RegExp(`(^|[${e.sentencePunctuation}${e.ellipsis}${e.copyright}${e.registeredTrademark}${e.soundRecordingCopyright}])([${e.spaces}]?)([${e.uppercaseChars}])([${e.spaces}])`,"g"),`$1$2$3${e.nbsp}`),e.locale=="en-us"&&(n=n.replace(new RegExp(`(^|[${e.spaces}])(I)([${e.spaces}])`,"g"),`$1$2${e.nbsp}`)),n}function Y(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.ampersand})([${e.spaces}])`,"g"),` $2${e.nbsp}`)}function l(n,e){return n.replace(new RegExp(`([^${e.nbsp}${e.cardinalNumber}]|^)(${e.cardinalNumber}{1,2})([${e.spaces}])([${e.allChars}])`,"g"),`$1$2${e.nbsp}$4`)}function ee(n,e){return n.replace(new RegExp(`([^${e.nbsp}${e.cardinalNumber}_%\\-]|^)(${e.cardinalNumber}{1,2})(${e.ordinalIndicator})([${e.spaces}]?)([${e.allChars}])`,"g"),`$1$2$3${e.nbsp}$5`)}function ne(n,e){let t="";switch(e.locale){case"en-us":case"rue":case"sk":case"cs":t=`$1$2${e.nbsp}$4$5${e.nbsp}$7`;break;case"de-de":t=`$1$2${e.nbsp}$4$5${e.space}$7`;break}return n.replace(new RegExp(`(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?)(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?)(${e.cardinalNumber})`,"g"),t)}function te(n,e){return e.romanOrdinalIndicator!=""?n.replace(new RegExp(`(\\b)([${e.romanNumerals}]+)(${e.romanOrdinalIndicator})([${e.spaces}]?)([${e.allChars}${e.cardinalNumber}])`,"g"),`$1$2$3${e.nbsp}$5`):n}function pe(n,e){let t=`(\\b[${e.uppercaseChars}][${e.lowercaseChars}]+?)([${e.spaces}])([${e.romanNumerals}]+\\b)(${e.romanOrdinalIndicator})([${e.nbsp}]?)`,r=new RegExp(t,"g");return n.replace(r,function(p,s,u,$,i,a){return a==""&&$=="I"?s+e.space+$+i:a==""&&$!="I"?s+e.nbsp+$+i:a==e.nbsp&&$=="I"?s+e.space+$+i+a:s+e.nbsp+$+i+e.space})}function re(n,e){var r;const t={"en-us":()=>"",sk:p=>`${p.nbsp}`,cs:p=>`${p.nbsp}`,rue:p=>`${p.nbsp}`,"de-de":p=>`${p.narrowNbsp}`};return n.replace(new RegExp(`(\\d)([${e.spaces}])([${e.percent}${e.permille}${e.permyriad}])`,"g"),`$1${(r=t[e.locale])==null?void 0:r.call(t,e)}$3`)}function se(n,e){let t=e.uppercaseChars;e.locale=="en-us"&&(t=t.replace(/A-Z/g,"A-HJ-Z"));let r=`([^${e.sentencePunctuation}${e.ellipsis}${e.closingBrackets}${e.rightDoubleQuote}${e.rightSingleQuote}${e.apostrophe}${e.multiplicationSign}${e.emDash}${e.enDash}])([${e.spaces}])([${t}])(([${e.spaces}])|(\\.$|$))`,p=new RegExp(r,"g");return n.replace(p,function(s,u,$,i,a,o){return e.locale=="en-us"?u+e.nbsp+i+a:i=="I"&&(o==e.nbsp||o==e.hairSpace||o==e.narrowNbsp)?u+e.nbsp+i+e.space:u+e.nbsp+i+a})}function $e(n,e,t){return n.replace(new RegExp(`(${e})([^${t.spaces}])`,"g"),`$1${t.nbsp}$2`)}function ue(n,e,t){return n.replace(new RegExp(`(${e})([${t.spaces}])`,"g"),`$1${t.nbsp}`)}function ie(n,e){return n=K(n,e),n=x(n,e),n=Y(n,e),n=l(n,e),n=ee(n,e),n=ne(n,e),n=te(n,e),n=se(n,e),n=pe(n,e),n=re(n,e),n}function ae(n,e){return n.replace(new RegExp(`(\\S)([${e.spaces}]{2,})(\\S)`,"g"),"$1 $3")}function oe(n,e,t){let r=n.split(/\r?\n/),p=new RegExp("(^\\s+)([-\\*\\+\\>]*)","g");for(let s=0;s<r.length;s++)r[s]=r[s].replace(p,function(u,$,i){return t.removeWhitespacesBeforeMarkdownList==!1&&i!=""?$+i:i});return r.join(`
`)}function de(n){let e=n.split(/\r?\n/),t=new RegExp("(\\s+$)","g");for(let r=0;r<e.length;r++)e[r]=e[r].replace(t,"");return e.join(`
`)}function he(n,e){return n.replace(new RegExp(`([${e.spaces}])([${e.sentencePausePunctuation}])([^\\-\\)]|$)`,"g"),"$2$3")}function be(n,e){return n.replace(new RegExp(`([${e.spaces}])([${e.terminalPunctuation}${e.closingBrackets}${e.degree}])`,"g"),"$2")}function fe(n,e){return n.replace(new RegExp(`(${e.cardinalNumber})([${e.spaces}]?)(${e.ordinalIndicator})([${e.spaces}]|\\b)`,"g"),"$1$3$4")}function me(n,e){return n.replace(new RegExp(`([${e.openingBrackets}])([${e.spaces}])`,"g"),"$1")}function ce(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}])([${e.openingBrackets}])([${e.lowercaseChars}${e.uppercaseChars}${e.ellipsis}])([${e.lowercaseChars}${e.uppercaseChars}${e.ellipsis}${e.closingBrackets}])`,"g"),function(t,r,p,s,u){return s=="s"|s=="S"|s+u=="es"|s+u=="ES"?`${r}${p}${s}${u}`:`${r}${e.space}${p}${s}${u}`})}function ge(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,}|[${e.ellipsis}])([${e.terminalPunctuation}])([${e.uppercaseChars}])`,"g"),"$1$2 $3")}function we(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}]{2,}|[${e.ellipsis}])([${e.sentencePausePunctuation}])([${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"$1$2 $3")}function xe(n,e){return n.replace(new RegExp(`([${e.closingBrackets}])([${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"$1 $2")}function Se(n,e,t){return n.replace(new RegExp(`([^${t.spaces}${t.openingBrackets}])(${e})`,"g"),`$1${t.space}$2`)}function Ee(n,e,t){return n=ae(n,e),n=oe(n,e,t),n=de(n),n=he(n,e),n=be(n,e),n=fe(n,e),n=me(n,e),n=ce(n,e),n=ge(n,e),n=xe(n,e),n=we(n,e),n}function ye(n){return n.replace(new RegExp("\\.{2}(?![\\\\/])","g"),".")}function Re(n){return ye(n)}function _e(n,e){return n.replace(new RegExp(`[${e.ellipsis}\\.]{3,}`,"g"),e.ellipsis)}function Ae(n,e){return n.replace(new RegExp(`\\.${e.ellipsis}|${e.ellipsis}{2,}|${e.ellipsis}\\.`,"g"),e.ellipsis)}function Ce(n,e){return n.replace(new RegExp(`[${e.spaces}]\\.{2}[${e.spaces}]`,"g"),`${e.space}${e.ellipsis}${e.space}`)}function Qe(n,e){return n.replace(new RegExp(`(,)([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)(,)`,"g"),`$1 ${e.ellipsis}$5`)}function De(n,e){return n.replace(new RegExp(`(,)([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)(\\B|[${e.closingBrackets}])([^,]|$)`,"g"),"$1$3$5$6")}function Pe(n,e){return n.replace(new RegExp(`(^${e.ellipsis})([${e.spaces}])([${e.lowercaseChars}${e.uppercaseChars}])`,"gm"),"$1$3")}function ve(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}${e.terminalQuotes}])([${e.spaces}]?)([${e.ellipsis}])([${e.spaces}]?)([${e.lowercaseChars}])`,"g"),"$1 $3$5")}function ke(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}])([${e.spaces}])([${e.ellipsis}])([${e.spaces}]?)([${e.uppercaseChars}])`,"g"),"$1$3 $5")}function Ne(n,e){return n.replace(new RegExp(`([${e.allChars}])([${e.ellipsis}])([${e.allChars}])`,"g"),"$1$2 $3")}function Be(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}${e.terminalQuotes}])([${e.spaces}]?)(${e.ellipsis})([${e.spaces}]?)([${e.uppercaseChars}])`,"g"),"$1 $3 $5")}function We(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}])([${e.spaces}])+([${e.ellipsis}][${e.rightDoubleQuote}${e.rightSingleQuote}]?$)`,"gm"),"$1$3")}function qe(n,e){return n=_e(n,e),n=Qe(n,e),n=De(n,e),n=Pe(n,e),n=ve(n,e),n=ke(n,e),n=Ne(n,e),n=Be(n,e),n=We(n,e),n=Ae(n,e),n=Ce(n,e),n}function Ie(n,e){return n=n.replace(new RegExp(`([${e.allChars}])(-)([${e.spaces}])([${e.allChars}])`,"g"),"$1-$4"),n=n.replace(new RegExp(`([${e.allChars}])([${e.spaces}])(-)([${e.allChars}])`,"g"),"$1-$4"),n}function ze(n,e){return n=Ie(n,e),n}function Le(n){return n.replace(/(---)/g,"—")}function Me(n){return n.replace(/(--)/g,"–")}function je(n,e){var r;const t={"en-us":p=>`$1${p.emDash}$3`,rue:p=>`$1${p.hairSpace}${p.emDash}${p.hairSpace}$3`,sk:p=>`$1${p.hairSpace}${p.emDash}${p.hairSpace}$3`,cs:p=>`$1${p.nbsp}${p.enDash}${p.space}$3`,"de-de":p=>`$1${p.hairSpace}${p.enDash}${p.hairSpace}$3`};return n.replace(new RegExp(`([${e.allChars}])([${e.spaces}]*[${e.enDash}${e.emDash}][${e.spaces}]*|[${e.spaces}]+[${e.hyphen}][${e.spaces}]+)([${e.allChars}])`,"g"),((r=t[e.locale])==null?void 0:r.call(t,e))||"")}function Te(n,e){var r;const t={"en-us":p=>`$1${p.emDash}$5`,rue:p=>`$1${p.hairSpace}${p.emDash}$5`,sk:p=>`$1${p.hairSpace}${p.emDash}$5`,cs:p=>`$1${p.nbsp}${p.enDash}$5`,"de-de":p=>`$1${p.hairSpace}${p.enDash}$5`};return n.replace(new RegExp(`([${e.allChars}])([${e.spaces}]?)(${e.hyphen})([${e.spaces}]?)([${e.sentencePunctuation}\\n\\r])`,"g"),((r=t[e.locale])==null?void 0:r.call(t,e))||"")}function Ze(n,e){return n=f(n,new RegExp(`(${e.cardinalNumber})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})`,"g"),"$1{{typopo__endash}}$3"),n.replace(new RegExp("{{typopo__endash}}","g"),e.enDash)}function Oe(n,e){return n.replace(new RegExp(`([${e.percent}${e.permille}${e.permyriad}])([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})`,"g"),`$1${e.enDash}$3`)}function He(n,e){return n.replace(new RegExp(`(${e.cardinalNumber})(${e.ordinalIndicator})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(${e.cardinalNumber})(${e.ordinalIndicator})`,"gi"),`$1$2${e.enDash}$4$5`)}function Ue(n,e){return n=Le(n),n=Me(n),n=je(n,e),n=Te(n,e),n=Ze(n,e),n=Oe(n,e),n=He(n,e),n}const h="{{typopo__markdown_tick}}";function S(n,e){return e.keepMarkdownCodeBlocks?n.replace(/(\s*)(```)/g,`$1${h}${h}${h}`).replace(/(``)(.*?)(``)/g,`${h}${h}$2${h}${h}`).replace(/(`)(.*?)(`)/g,`${h}$2${h}`):n}function E(n,e){return e.keepMarkdownCodeBlocks?n.replace(new RegExp(`${h}`,"g"),"`"):n}function Xe(n,e){return n.replace(new RegExp(`([^${e.romanNumerals}])([${e.sentencePunctuation}])([${e.sentencePunctuation}])(${e.doubleQuoteAdepts})`,"g"),"$1$2$4")}function Fe(n,e){return n.replace(new RegExp(`([^${e.romanNumerals}])([${e.sentencePunctuation}])(${e.doubleQuoteAdepts})([${e.sentencePunctuation}])`,"g"),"$1$2$3")}function Ge(n,e){return n=n.replace(new RegExp(`([^0-9]|^)(${e.doubleQuoteAdepts})(.+?)(\\d+)(${e.doubleQuoteAdepts})([${e.terminalPunctuation}${e.ellipsis}])`,"g"),"$1$2$3$4$6$5"),n=n.replace(new RegExp(`(\\b\\d{1,3})([${e.spaces}]?)(“|”|\\"|″|‘{2,}|’{2,}|'{2,}|′{2,})`,"g"),"$1$2{{typopo__double-prime}}"),n}function Ve(n,e){return n=n.replace(new RegExp(`(${e.doubleQuoteAdepts})(\\d+)({{typopo__double-prime}})`,"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n=n.replace(new RegExp(`(${e.doubleQuoteAdepts})(.*?)(${e.doubleQuoteAdepts})`,"g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}"),n}function Je(n,e){return n.replace(new RegExp(`(${e.doubleQuoteAdepts})([0-9${e.lowercaseChars}${e.uppercaseChars}])`,"g"),"{{typopo__left-double-quote--standalone}}$2")}function Ke(n,e){return n.replace(new RegExp(`([${e.lowercaseChars}${e.uppercaseChars}${e.sentencePunctuation}${e.ellipsis}])(${e.doubleQuoteAdepts})`,"g"),"$1{{typopo__right-double-quote--standalone}}")}function Ye(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.doubleQuoteAdepts})([${e.spaces}])`,"g"),"$1")}function le(n){return n.replace(new RegExp("({{typopo__left-double-quote--standalone}})(.*?)({{typopo__double-prime}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}").replace(new RegExp("({{typopo__double-prime}})(.*?)({{typopo__right-double-quote--standalone}})","g"),"{{typopo__left-double-quote}}$2{{typopo__right-double-quote}}")}function en(n,e){return n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftDoubleQuote})([^${e.rightDoubleQuote}]+?)([^${e.romanNumerals}${e.closingBrackets}])([${e.terminalPunctuation}${e.ellipsis}])(${e.rightDoubleQuote})`,"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftDoubleQuote})(.+?)([^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])([${e.spaces}])([${e.lowercaseChars}])`,"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp(`(^${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"gm"),"$1$3$2$4"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.spaces}]${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$3$2$4"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.rightDoubleQuote}][${e.spaces}]${e.leftDoubleQuote}[^${e.rightDoubleQuote}]+?[^${e.romanNumerals}])(${e.rightDoubleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$3$2$4"),n}function nn(n,e){return n.replace(/{{typopo__double-prime}}/g,e.doublePrime).replace(/({{typopo__left-double-quote}}|{{typopo__left-double-quote--standalone}})/g,e.leftDoubleQuote).replace(/({{typopo__right-double-quote}}|{{typopo__right-double-quote--standalone}})/g,e.rightDoubleQuote)}function tn(n,e){return n.replace(new RegExp(`([${e.sentencePunctuation}])([,])(${e.rightDoubleQuote})`,"g"),"$1$3")}function pn(n,e){return n=n.replace(new RegExp(`(${e.leftDoubleQuote})([${e.spaces}])`,"g"),"$1"),n=n.replace(new RegExp(`([${e.spaces}])(${e.rightDoubleQuote})`,"g"),"$2"),n=n.replace(new RegExp(`([${e.spaces}])(${e.doublePrime})`,"g"),"$2"),n}function rn(n,e){return n=n.replace(new RegExp(`([${e.sentencePunctuation}${e.allChars}])([${e.leftDoubleQuote}])`,"g"),"$1 $2"),n=x(n,e),n}function sn(n,e){return n.replace(new RegExp(`([${e.rightDoubleQuote}])([${e.allChars}])`,"g"),"$1 $2")}function $n(n,e,t){return n=S(n,t),n=Xe(n,e),n=Fe(n,e),n=Ge(n,e),n=Ve(n,e),n=Je(n,e),n=Ke(n,e),n=Ye(n,e),n=le(n),n=nn(n,e),n=E(n,t),n=pn(n,e),n=rn(n,e),n=sn(n,e),n=en(n,e),n=tn(n,e),n}function un(n,e){return[["dead","buried"],["drill","bass"],["drum","bass"],["rock","roll"],["pick","mix"],["fish","chips"],["salt","shake"],["mac","cheese"],["pork","beans"],["drag","drop"],["rake","scrape"],["hook","kill"]].forEach(r=>{n=n.replace(new RegExp(`(${r[0]})([${e.spaces}]?)(${e.singleQuoteAdepts})(n)(${e.singleQuoteAdepts})([${e.spaces}]?)(${r[1]})`,"gi"),`$1${e.nbsp}{{typopo__apostrophe}}$4{{typopo__apostrophe}}${e.nbsp}$7`)}),n}function an(n,e){let t="cause|em|mid|midst|mongst|prentice|round|sblood|ssdeath|sfoot|sheart|shun|slid|slife|slight|snails|strewth|til|tis|twas|tween|twere|twill|twixt|twould";return n.replace(new RegExp(`(${e.singleQuoteAdepts})(${t})`,"gi"),"{{typopo__apostrophe}}$2")}function on(n,e){return n.replace(new RegExp(`(\\Bin)(${e.singleQuoteAdepts})`,"gi"),"$1{{typopo__apostrophe}}")}function dn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}${e.allChars}])(${e.singleQuoteAdepts})+([${e.allChars}])`,"g"),"$1{{typopo__apostrophe}}$3")}function hn(n,e){return n.replace(new RegExp(`([^0-9]|[A-Z][0-9])([${e.spaces}])(${e.singleQuoteAdepts})([${e.cardinalNumber}]{2})`,"g"),"$1$2{{typopo__apostrophe}}$4")}function bn(n){return n.replace(/(\d)( ?)('|‘|’|‛|′)/g,"$1$2{{typopo__single-prime}}")}function fn(n,e){return n.replace(new RegExp(`(^|[${e.spaces}${e.emDash}${e.enDash}])(${e.singleQuoteAdepts}|,)([${e.allChars}${e.ellipsis}])`,"g"),"$1{{typopo__left-single-quote--standalone}}$3")}function mn(n,e){return n.replace(new RegExp(`([${e.allChars}])([${e.sentencePunctuation}${e.ellipsis}])?(${e.singleQuoteAdepts})([ ${e.sentencePunctuation}])?`,"g"),"$1$2{{typopo__right-single-quote--standalone}}$4")}function cn(n,e){return n.replace(new RegExp(`(${e.doubleQuoteAdepts})(.*?)(${e.doubleQuoteAdepts})`,"g"),function(t,r,p,s){return p=fn(p,e),p=mn(p,e),p=gn(p),r+p+s})}function gn(n){return n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}")}function wn(n,e){return n.replace(new RegExp(`(\\B)(${e.singleQuoteAdepts})([${e.allChars}]+)(${e.singleQuoteAdepts})(\\B)`,"g"),"$1{{typopo__left-single-quote}}$3{{typopo__right-single-quote}}$5")}function xn(n,e){return n.replace(new RegExp(`(${e.singleQuoteAdepts})`,"g"),"{{typopo__apostrophe}}")}function Sn(n){return n=n.replace(new RegExp("({{typopo__left-single-quote--standalone}})(.*?)({{typopo__single-prime}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n=n.replace(new RegExp("({{typopo__single-prime}})(.*?)({{typopo__right-single-quote--standalone}})","g"),"{{typopo__left-single-quote}}$2{{typopo__right-single-quote}}"),n}function En(n,e){return n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftSingleQuote})([^${e.rightSingleQuote}]+?)([^${e.romanNumerals}])([${e.terminalPunctuation}${e.ellipsis}])(${e.rightSingleQuote})`,"g"),"$1$2$3$4$5$7$6"),n=n.replace(new RegExp(`([^${e.sentencePunctuation}])([${e.spaces}])(${e.leftSingleQuote})(.+?)([^${e.romanNumerals}])(${e.rightSingleQuote})([${e.terminalPunctuation}${e.ellipsis}])([${e.spaces}])([${e.lowercaseChars}])`,"g"),"$1$2$3$4$5$7$6$8$9"),n=n.replace(new RegExp(`([${e.sentencePunctuation}][${e.spaces}]|^)(${e.leftSingleQuote})([^${e.rightSingleQuote}]+?)([^${e.romanNumerals}])(${e.rightSingleQuote})([${e.terminalPunctuation}${e.ellipsis}])(\\B)`,"g"),"$1$2$3$4$6$5$7"),n}function yn(n,e){return n.replace(new RegExp(`([${e.spaces}])(${e.singlePrime})`,"g"),"$2")}function Rn(n,e){return n=n.replace(/({{typopo__single-prime}})/g,e.singlePrime),n=n.replace(/{{typopo__apostrophe}}|{{typopo__left-single-quote--standalone}}|{{typopo__right-single-quote--standalone}}/g,e.apostrophe),n=n.replace(/{{typopo__left-single-quote}}/g,e.leftSingleQuote),n=n.replace(/{{typopo__right-single-quote}}/g,e.rightSingleQuote),n=n.replace(/{{typopo__markdown_syntax_highlight}}/g,"```"),n}function _n(n,e,t){return n=S(n,t),n=un(n,e),n=an(n,e),n=dn(n,e),n=hn(n,e),n=on(n,e),n=bn(n),n=wn(n,e),n=cn(n,e),n=Sn(n),n=xn(n,e),n=Rn(n,e),n=E(n,t),n=En(n,e),n=yn(n,e),n}function An(n,e){return f(n,new RegExp(`([${e.cardinalNumber}]+)([${e.spaces}]?[${e.lowercaseChars}${e.singlePrime}${e.doublePrime}]*)([${e.spaces}][x][${e.spaces}])([${e.cardinalNumber}]+)([${e.spaces}]?[${e.lowercaseChars}${e.singlePrime}${e.doublePrime}]*)`,"gi"),`$1$2${e.nbsp}${e.multiplicationSign}${e.nbsp}$4$5`)}function Cn(n,e){return f(n,new RegExp(`([${e.allChars}]+)([${e.spaces}][x][${e.spaces}])([${e.allChars}]+)`,"g"),`$1${e.nbsp}${e.multiplicationSign}${e.nbsp}$3`)}function Qn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}])([${e.spaces}]?)([x|×])([${e.spaces}])([${e.lowercaseChars}]+)`,"gi"),function(t,r,p,s,u,$){return p==""?`${r}${p}${e.multiplicationSign}${e.nbsp}${$}`:`${r}${e.nbsp}${e.multiplicationSign}${e.nbsp}${$}`})}function Dn(n,e){return n.replace(new RegExp(`([${e.cardinalNumber}]+)([${e.singlePrime}${e.doublePrime}])?([x|×])([${e.cardinalNumber}]+)([${e.singlePrime}${e.doublePrime}])?`,"gi"),`$1$2${e.nbsp}${e.multiplicationSign}${e.nbsp}$4$5`)}function Pn(n,e){return n=An(n,e),n=Cn(n,e),n=Qn(n,e),n=Dn(n,e),n}function vn(n,e){return n.replace(new RegExp(`([^${e.spaces}${e.sectionSign}${e.openingBrackets}])(${e.sectionSign})`,"g"),`$1${e.space}$2`)}function kn(n,e){return n.replace(new RegExp(`(${e.sectionSign})([^${e.spaces}${e.sectionSign}])`,"g"),`$1${e.nbsp}$2`)}function Nn(n,e){return n.replace(new RegExp(`(${e.sectionSign})([${e.spaces}])`,"g"),`$1${e.nbsp}`)}function Bn(n,e){return n=vn(n,e),n=kn(n,e),n=Nn(n,e),n}function g(n,e,t,r){return n.replace(new RegExp(`(\\(${e}\\))([${r.spaces}]*)(${r.cardinalNumber})`,"gi"),`${t}$2$3`)}function w(n,e,t){return n=Se(n,e,t),n=$e(n,e,t),n=ue(n,e,t),n}function Wn(n,e){return n=g(n,"c",e.copyright,e),n=w(n,e.copyright,e),n=g(n,"p",e.soundRecordingCopyright,e),n=w(n,e.soundRecordingCopyright,e),n}function qn(n,e){return n.replace(new RegExp("(\\+\\-)|(\\-\\+)","g"),e.plusMinus)}function m(n,e,t,r){return n.replace(new RegExp(`([^0-9]|^)([${r.spaces}]*)(\\(${e}\\)|${t})`,"gi"),`$1${t}`)}function In(n,e){return n=m(n,"r",e.registeredTrademark,e),n=m(n,"sm",e.serviceMark,e),n=m(n,"tm",e.trademark,e),n}function y(n,e,t,r){let p="m|dam|hm|km|Mm|Gm|Tm|Pm|Em|Zm|Ym|m|dm|cm|mm|µm|nm|pm|fm|am|zm|ym";return n.replace(new RegExp(`([${e.spaces}${e.slash}])(${p})(${t})`,"g"),`$1$2${r}`)}function zn(n,e){return y(n,e,"2","²")}function Ln(n,e){return y(n,e,"3","³")}function Mn(n,e){return n=zn(n,e),n=Ln(n,e),n}function jn(n,e){return n.replace(new RegExp(`([${e.spaces}]+)(${e.numberSign})([${e.spaces}]+)(${e.cardinalNumber})`,"g"),"$1$2$4")}function Tn(n,e){return n=jn(n,e),n}function R(n){return{"en-us":"",rue:n.nbsp,sk:n.nbsp,cs:n.nbsp,"de-de":n.nbsp}[n.locale]}function Zn(n,e){const t=R(e),r=`([${e.uppercaseChars}][${e.allChars}]?\\.)([${e.spaces}]?)`,p=`([${e.allChars}]{2,}[^\\.])`,s=[{pattern:`${r}${p}`,replacement:`$1${e.nbsp}$3`},{pattern:`${r}${r}${p}`,replacement:`$1${t}$3${e.space}$5`},{pattern:`${r}${r}${r}${p}`,replacement:`$1${t}$3${t}$5${e.space}$7`}];for(const{pattern:u,replacement:$}of s)n=n.replace(new RegExp(u,"g"),$);return n}function On(n,e){let t=`([^${e.allChars}${e.enDash}${e.emDash}]|^)`,r=`([${e.allChars}]|\\D)`,p=`([^${e.allChars}${e.leftDoubleQuote}${e.leftSingleQuote}${e.backtick}\\p{Emoji}]|$)`;const s=R(e);let u=[];for(let $=0;$<e.multipleWordAbbreviations.length;$++){let i=e.multipleWordAbbreviations[$].split(" "),a="";for(let o=0;o<i.length;o++)a+=`(${i[o]})(\\.)([${e.spaces}]?)`;u[$]=a}for(let $=0;$<u.length;$++){let i=`${t}${u[$]}${r}`,a="$1",o=(u[$].match(/\(/g)||[]).length/3;for(let b=0;b<o-1;b++)a+=`$${b*3+2}.${s}`;a+=`$${(o-1)*3+2}. $${o*3+2}`,n=n.replace(new RegExp(i,"gi"),a)}for(let $=0;$<u.length;$++){let i=`${t}${u[$]}${p}`,a="$1",o=(u[$].match(/\(/g)||[]).length/3;for(let b=0;b<o-1;b++)a+=`$${b*3+2}.${s}`;a+=`$${(o-1)*3+2}.$${o*3+2}`,n=n.replace(new RegExp(i,"giu"),a)}return n}function Hn(n,e){let t=[];for(let $=0;$<e.singleWordAbbreviations.length;$++)t[$]=`(${e.singleWordAbbreviations[$]})(\\.)([${e.spaces}]?)`;let r=`([^${e.allChars}${e.enDash}${e.emDash}${e.nbsp}\\.]|^)`,p=`([${e.allChars}\\d]+)([^\\.]|$)`;for(let $=0;$<t.length;$++)n=n.replace(new RegExp(`${r}${t[$]}${p}`,"gi"),`$1$2$3${e.nbsp}$5$6`);let s=`([${e.allChars}\\d])([${e.spaces}])`,u=`([^${e.spaces}${e.allChars}\\d]|$)`;for(let $=0;$<t.length;$++)n=n.replace(new RegExp(`${s}${t[$]}${u}`,"gi"),`$1${e.nbsp}$3$4$5$6`);return n}function Un(n,e){return n=Zn(n,e),n=On(n,e),n=Hn(n,e),n}function Xn(n,e){return n=n.replace(new RegExp(`([^${e.allChars}]|^)([${e.uppercaseChars}]{2})([${e.lowercaseChars}]{2,})`,"g"),function(t,r,p,s){return`${r}${p.substring(0,1)}${p.substring(1).toLowerCase()}${s}`}),n.replace(new RegExp(`(\\b)(?!iOS)([${e.lowercaseChars}])([${e.uppercaseChars}]{2,})`,"g"),function(t,r,p,s){return`${r}${p.toUpperCase()}${s.toLowerCase()}`})}function Fn(n,e){return n.replace(new RegExp(`(issn)(:?)([${e.spaces}]?)(\\d{4})([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)(\\d{4})`,"gi"),`ISSN$2${e.nbsp}$4-$6`)}function Gn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp(`(isbn)(:?)([${e.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${e.nbsp}$4-$6-$8-$10`)}function Vn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp(`(isbn)(:?)([${e.spaces}]?)(\\d+)`+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+)","gi"),`ISBN$2${e.nbsp}$4-$6-$8-$10-$12`)}function Jn(n,e){let t=`([${e.spaces}]?[${e.hyphen}${e.enDash}${e.emDash}][${e.spaces}]?)`;return n.replace(new RegExp("(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(\\d+)"+t+"(X|\\d+?)","g"),"$1-$3-$5-$7-$9")}function Kn(n,e){return n=Fn(n,e),n=Gn(n,e),n=Vn(n,e),n=Jn(n,e),n}function Yn(n,e){let t=[];return c(n,e.emailPattern,t),c(n,e.urlPattern,t),c(n,e.filenamePattern,t),{processedText:ln(n,t),exceptions:t}}function c(n,e,t){const r=new RegExp(e,"gi"),p=n.match(r);return p&&p.forEach(s=>t.push(s)),t}function ln(n,e){return e.reduce((t,r,p)=>{const s=`{{typopo__exception-${p}}}`;return t.replace(r,s)},n)}function et(n,e){return e.reduce((t,r,p)=>{const s=new RegExp(`{{typopo__exception-${p}}}`,"g");return t.replace(s,r)},n)}/*!
 * Typopo v2.5.8 (https://typopo.org)
 * Copyright 2015–2025 Braňo Šandala (https://brano.me)
 * Licensed under MIT (https://github.com/surfinzap/typopo/blob/main/LICENSE.txt)
 */function nt(n,e,t){e=typeof e>"u"?"en-us":e;let r=new V(e);t=typeof t>"u"?{removeLines:!0,removeWhitespacesBeforeMarkdownList:!0,keepMarkdownCodeBlocks:!1}:t;const{processedText:p,exceptions:s}=Yn(n,r);return n=p,t.removeLines&&(n=J(n)),n=qe(n,r),n=Ee(n,r,t),n=Re(n),n=Ue(n,r),n=ze(n,r),n=_n(n,r,t),n=$n(n,r,t),n=Pn(n,r),n=Bn(n,r),n=Wn(n,r),n=qn(n,r),n=In(n,r),n=Mn(n,r),n=Tn(n,r),n=Xn(n,r),n=Un(n,r),n=Kn(n,r),n=ie(n,r),n=et(n,s),n}exports.fixTypos=nt;
